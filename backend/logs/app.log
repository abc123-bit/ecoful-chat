2025-09-16 15:28:15 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 15:28:15 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 15:28:15 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 15:28:27 | INFO     | app.main:log_requests:45 - Request started: GET / - Client: 127.0.0.1
2025-09-16 15:28:27 | INFO     | app.main:log_requests:56 - Request completed: GET / - Status: 200 - Time: 0.003s
2025-09-16 15:30:36 | INFO     | app.main:log_requests:45 - Request started: GET / - Client: 127.0.0.1
2025-09-16 15:30:36 | INFO     | app.main:log_requests:56 - Request completed: GET / - Status: 200 - Time: 0.001s
2025-09-16 15:30:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:30:55 | ERROR    | app.api.v1.endpoints.knowledge_bases:list_knowledge_bases:47 - Error listing knowledge bases: password authentication failed for user "postgres"
2025-09-16 15:30:55 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to list knowledge bases
2025-09-16 15:30:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 500 - Time: 0.066s
2025-09-16 15:33:35 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 15:42:39 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 15:42:39 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 15:42:39 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 15:43:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:43:16 | ERROR    | app.api.v1.endpoints.knowledge_bases:list_knowledge_bases:47 - Error listing knowledge bases: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "knowledge_bases" does not exist
[SQL: SELECT knowledge_bases.id, knowledge_bases.name, knowledge_bases.description, knowledge_bases.collection_name, knowledge_bases.embedding_model, knowledge_bases.chunk_size, knowledge_bases.chunk_overlap, knowledge_bases.retrieval_config, knowledge_bases.status, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.file_count, knowledge_bases.document_count 
FROM knowledge_bases 
WHERE knowledge_bases.status = $1::VARCHAR ORDER BY knowledge_bases.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: ('active', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 15:43:16 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to list knowledge bases
2025-09-16 15:43:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 500 - Time: 0.059s
2025-09-16 15:43:37 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 15:43:42 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 15:43:42 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 15:43:42 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 15:44:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:44:02 | ERROR    | app.api.v1.endpoints.knowledge_bases:list_knowledge_bases:47 - Error listing knowledge bases: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "knowledge_bases" does not exist
[SQL: SELECT knowledge_bases.id, knowledge_bases.name, knowledge_bases.description, knowledge_bases.collection_name, knowledge_bases.embedding_model, knowledge_bases.chunk_size, knowledge_bases.chunk_overlap, knowledge_bases.retrieval_config, knowledge_bases.status, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.file_count, knowledge_bases.document_count 
FROM knowledge_bases 
WHERE knowledge_bases.status = $1::VARCHAR ORDER BY knowledge_bases.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: ('active', 100, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-16 15:44:02 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to list knowledge bases
2025-09-16 15:44:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 500 - Time: 0.087s
2025-09-16 15:47:36 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 15:48:42 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 15:48:42 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 15:48:42 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 15:48:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:48:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-16 15:49:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:49:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 15:49:46 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-16 15:49:46 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-16 15:49:46 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.004s
2025-09-16 15:50:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:50:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 15:50:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:50:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-16 15:50:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:50:22 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_1
2025-09-16 15:50:22 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:81 - Created knowledge base: 1 (ID: 1)
2025-09-16 15:50:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.054s
2025-09-16 15:50:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:50:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1 - Client: 127.0.0.1
2025-09-16 15:50:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1/files - Status: 200 - Time: 0.034s
2025-09-16 15:50:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1 - Status: 200 - Time: 0.066s
2025-09-16 15:50:27 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:50:27 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/1/files - Status: 200 - Time: 0.001s
2025-09-16 15:50:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:50:27 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_1/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 15:50:27 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:332 - Error uploading file to knowledge base 1: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 15:50:27 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 15:50:27 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/1/files - Status: 500 - Time: 0.063s
2025-09-16 15:51:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:51:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.008s
2025-09-16 15:52:08 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:52:08 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.001s
2025-09-16 15:52:08 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:52:08 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:137 - Updated knowledge base: 测试 (ID: 1)
2025-09-16 15:52:08 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.033s
2025-09-16 15:52:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1 - Client: 127.0.0.1
2025-09-16 15:52:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:52:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1 - Status: 200 - Time: 0.013s
2025-09-16 15:52:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1/files - Status: 200 - Time: 0.015s
2025-09-16 15:52:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:52:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 15:52:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:52:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1 - Client: 127.0.0.1
2025-09-16 15:52:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1/files - Status: 200 - Time: 0.013s
2025-09-16 15:52:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1 - Status: 200 - Time: 0.013s
2025-09-16 15:52:28 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:52:28 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:137 - Updated knowledge base: 测试 (ID: 1)
2025-09-16 15:52:28 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.019s
2025-09-16 15:52:33 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:52:33 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_775d55ce: Collection [kb_775d55ce] does not exists
2025-09-16 15:52:33 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 1: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 15:52:33 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 15:52:33 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/1 - Status: 500 - Time: 0.066s
2025-09-16 15:52:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1/files - Client: 127.0.0.1
2025-09-16 15:52:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1 - Client: 127.0.0.1
2025-09-16 15:52:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1/files - Status: 200 - Time: 0.023s
2025-09-16 15:52:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1 - Status: 200 - Time: 0.044s
2025-09-16 15:54:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:54:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-16 15:54:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:54:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-16 15:54:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:54:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-16 15:54:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:54:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 15:54:44 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:54:44 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_2
2025-09-16 15:54:44 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:81 - Created knowledge base: 测试知识库 (ID: 2)
2025-09-16 15:54:44 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-16 15:54:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:54:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 15:54:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.005s
2025-09-16 15:54:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.005s
2025-09-16 15:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 15:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.015s
2025-09-16 15:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.014s
2025-09-16 15:54:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 15:54:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.000s
2025-09-16 15:55:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:55:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 15:55:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.012s
2025-09-16 15:55:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.012s
2025-09-16 15:55:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:55:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.001s
2025-09-16 15:55:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:55:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_2/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 15:55:22 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:332 - Error uploading file to knowledge base 2: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 15:55:22 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 15:55:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/2/files - Status: 500 - Time: 0.056s
2025-09-16 15:55:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:55:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-16 15:55:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:55:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 15:55:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.015s
2025-09-16 15:55:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.014s
2025-09-16 15:59:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 15:59:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-16 15:59:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 15:59:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 15:59:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.046s
2025-09-16 15:59:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.061s
2025-09-16 16:00:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:00:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-16 16:00:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:00:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 16:00:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:00:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-16 16:00:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:00:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 16:00:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 16:00:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 16:00:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.016s
2025-09-16 16:00:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.016s
2025-09-16 16:00:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:00:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-16 16:01:03 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:01:03 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-16 16:01:03 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:01:03 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_3
2025-09-16 16:01:03 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:81 - Created knowledge base: 测试创建 (ID: 3)
2025-09-16 16:01:03 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-16 16:01:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/3/files - Client: 127.0.0.1
2025-09-16 16:01:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/3 - Client: 127.0.0.1
2025-09-16 16:01:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/3/files - Status: 200 - Time: 0.007s
2025-09-16 16:01:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/3 - Status: 200 - Time: 0.006s
2025-09-16 16:01:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/3/files - Client: 127.0.0.1
2025-09-16 16:01:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/3 - Client: 127.0.0.1
2025-09-16 16:01:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/3/files - Status: 200 - Time: 0.011s
2025-09-16 16:01:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/3 - Status: 200 - Time: 0.010s
2025-09-16 16:01:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:01:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-16 16:04:17 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:04:17 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_4
2025-09-16 16:04:17 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:81 - Created knowledge base: 测试 (ID: 4)
2025-09-16 16:04:17 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-16 16:04:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:04:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:04:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.009s
2025-09-16 16:04:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.007s
2025-09-16 16:21:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:21:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:21:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.095s
2025-09-16 16:21:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.097s
2025-09-16 16:21:26 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:21:31 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:21:31 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:21:31 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:21:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 16:21:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 16:21:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.081s
2025-09-16 16:21:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.090s
2025-09-16 16:21:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/3/files - Client: 127.0.0.1
2025-09-16 16:21:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/3 - Client: 127.0.0.1
2025-09-16 16:21:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/3 - Status: 200 - Time: 0.006s
2025-09-16 16:21:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/3/files - Status: 200 - Time: 0.008s
2025-09-16 16:21:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:21:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:21:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.006s
2025-09-16 16:21:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.007s
2025-09-16 16:21:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/3/files - Client: 127.0.0.1
2025-09-16 16:21:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/3 - Client: 127.0.0.1
2025-09-16 16:21:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/3/files - Status: 200 - Time: 0.008s
2025-09-16 16:21:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/3 - Status: 200 - Time: 0.008s
2025-09-16 16:21:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/2/files - Client: 127.0.0.1
2025-09-16 16:21:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2 - Client: 127.0.0.1
2025-09-16 16:21:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/2/files - Status: 200 - Time: 0.008s
2025-09-16 16:21:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2 - Status: 200 - Time: 0.008s
2025-09-16 16:21:42 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/2 - Client: 127.0.0.1
2025-09-16 16:21:42 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/2 - Status: 200 - Time: 0.001s
2025-09-16 16:21:42 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/2 - Client: 127.0.0.1
2025-09-16 16:21:43 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_13199450: Collection [kb_13199450] does not exists
2025-09-16 16:21:43 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:180 - Error deleting knowledge base 2: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:21:43 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 16:21:43 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/2 - Status: 500 - Time: 0.053s
2025-09-16 16:24:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:24:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 16:24:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-16 16:24:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.061s
2025-09-16 16:24:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:24:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-16 16:26:11 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:26:15 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:26:15 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:26:15 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:26:44 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:26:48 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:26:48 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:26:48 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:31:45 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:31:49 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:31:49 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:31:49 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:32:19 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:32:24 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:32:24 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:32:24 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:32:34 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:32:40 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:32:40 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:32:40 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:32:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:32:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.072s
2025-09-16 16:32:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/3 - Client: 127.0.0.1
2025-09-16 16:32:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/3/files - Client: 127.0.0.1
2025-09-16 16:32:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/3 - Status: 200 - Time: 0.040s
2025-09-16 16:32:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/3/files - Status: 200 - Time: 0.053s
2025-09-16 16:32:58 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/3 - Client: 127.0.0.1
2025-09-16 16:32:58 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/3 - Status: 200 - Time: 0.000s
2025-09-16 16:32:58 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/3 - Client: 127.0.0.1
2025-09-16 16:32:58 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_b5c834fa: Collection [kb_b5c834fa] does not exists
2025-09-16 16:32:58 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:184 - Error deleting knowledge base 3: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:32:58 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 16:32:58 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/3 - Status: 500 - Time: 0.112s
2025-09-16 16:33:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:33:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:33:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.012s
2025-09-16 16:33:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.056s
2025-09-16 16:33:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:33:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.001s
2025-09-16 16:33:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:33:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_4/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 16:33:14 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:369 - Error uploading file to knowledge base 4: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:33:14 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 16:33:14 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/4/files - Status: 500 - Time: 0.065s
2025-09-16 16:33:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:33:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 16:33:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:33:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:33:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.008s
2025-09-16 16:33:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.014s
2025-09-16 16:34:06 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:34:10 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:34:10 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:34:10 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:34:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:34:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.080s
2025-09-16 16:34:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:34:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-16 16:34:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:34:22 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_5
2025-09-16 16:34:22 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 测试数据库 (ID: 5)
2025-09-16 16:34:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-16 16:34:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:34:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:34:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.106s
2025-09-16 16:34:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.114s
2025-09-16 16:35:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:35:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-16 16:35:46 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:35:50 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:35:50 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:35:50 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:35:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:35:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-16 16:38:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:38:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:38:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.050s
2025-09-16 16:38:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.047s
2025-09-16 16:38:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:38:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:38:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.010s
2025-09-16 16:38:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.010s
2025-09-16 16:38:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:38:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:38:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.011s
2025-09-16 16:38:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.010s
2025-09-16 16:38:16 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:38:16 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_4/2025/09/16/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-16 16:38:16 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:340 - Error uploading file to knowledge base 4: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:38:16 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 16:38:16 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/4/files - Status: 500 - Time: 0.190s
2025-09-16 16:38:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:38:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-16 16:38:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:38:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:38:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.011s
2025-09-16 16:38:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.011s
2025-09-16 16:38:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:38:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 16:38:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5 - Client: 127.0.0.1
2025-09-16 16:38:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5 - Status: 200 - Time: 0.005s
2025-09-16 16:38:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:38:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-16 16:39:01 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:39:07 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:39:07 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:39:07 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 16:39:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:39:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-16 16:39:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:39:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-16 16:39:25 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:39:25 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_6
2025-09-16 16:39:25 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: test (ID: 6)
2025-09-16 16:39:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-16 16:39:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.096s
2025-09-16 16:39:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.128s
2025-09-16 16:39:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.013s
2025-09-16 16:39:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.011s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.010s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.010s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.015s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.010s
2025-09-16 16:39:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.015s
2025-09-16 16:39:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.013s
2025-09-16 16:39:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.012s
2025-09-16 16:39:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:39:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:39:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.010s
2025-09-16 16:39:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.014s
2025-09-16 16:39:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:39:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.004s
2025-09-16 16:39:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.005s
2025-09-16 16:39:52 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:52 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.001s
2025-09-16 16:39:52 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:39:52 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_6/2025/09/16/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-16 16:39:52 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:340 - Error uploading file to knowledge base 6: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:39:52 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 16:39:52 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/6/files - Status: 500 - Time: 0.185s
2025-09-16 16:39:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:39:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-16 16:40:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 16:40:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-16 16:40:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:40:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:40:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.012s
2025-09-16 16:40:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.012s
2025-09-16 16:40:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:40:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:40:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.009s
2025-09-16 16:40:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 16:40:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:40:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:40:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.011s
2025-09-16 16:40:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.011s
2025-09-16 16:40:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:40:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:40:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 16:40:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.013s
2025-09-16 16:40:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:40:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:40:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.012s
2025-09-16 16:40:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.010s
2025-09-16 16:40:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/4/files - Client: 127.0.0.1
2025-09-16 16:40:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4 - Client: 127.0.0.1
2025-09-16 16:40:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/4/files - Status: 200 - Time: 0.016s
2025-09-16 16:40:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4 - Status: 200 - Time: 0.013s
2025-09-16 16:40:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:40:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:40:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.010s
2025-09-16 16:40:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.016s
2025-09-16 16:40:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 16:40:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 16:40:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 16:40:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.013s
2025-09-16 16:40:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:40:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 16:40:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.013s
2025-09-16 16:40:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.012s
2025-09-16 16:40:30 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:40:30 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.000s
2025-09-16 16:40:30 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 16:40:30 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_5/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 16:40:30 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:340 - Error uploading file to knowledge base 5: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 16:40:30 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 16:40:30 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/5/files - Status: 500 - Time: 0.035s
2025-09-16 16:53:41 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 16:55:09 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 16:55:09 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 16:55:09 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 17:09:04 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 17:09:08 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 17:09:08 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 17:09:08 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 17:10:38 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 17:10:47 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 17:10:47 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 17:10:47 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 17:10:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:10:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-16 17:11:10 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/4 - Client: 127.0.0.1
2025-09-16 17:11:10 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/4 - Status: 200 - Time: 0.002s
2025-09-16 17:11:10 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/4 - Client: 127.0.0.1
2025-09-16 17:11:10 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_b5447d3f: Collection [kb_b5447d3f] does not exists
2025-09-16 17:11:10 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:183 - Error deleting knowledge base 4: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:11:10 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 17:11:10 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/4 - Status: 500 - Time: 0.053s
2025-09-16 17:11:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:11:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.128s
2025-09-16 17:11:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.069s
2025-09-16 17:11:29 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:29 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.001s
2025-09-16 17:11:29 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:29 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_6/2025/09/16/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-16 17:11:30 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:336 - Error uploading file to knowledge base 6: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:11:30 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 17:11:30 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/6/files - Status: 500 - Time: 0.117s
2025-09-16 17:11:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:11:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-16 17:11:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:11:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.007s
2025-09-16 17:11:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.006s
2025-09-16 17:11:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 17:11:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 17:11:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.010s
2025-09-16 17:11:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.008s
2025-09-16 17:11:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:11:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.008s
2025-09-16 17:11:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.007s
2025-09-16 17:11:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 17:11:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 17:11:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.016s
2025-09-16 17:11:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.015s
2025-09-16 17:11:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:11:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.015s
2025-09-16 17:11:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.016s
2025-09-16 17:11:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/5/files - Client: 127.0.0.1
2025-09-16 17:11:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/5 - Client: 127.0.0.1
2025-09-16 17:11:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/5/files - Status: 200 - Time: 0.010s
2025-09-16 17:11:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/5 - Status: 200 - Time: 0.011s
2025-09-16 17:11:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:11:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:11:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 17:11:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.015s
2025-09-16 17:12:45 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:12:45 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_6/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 17:12:45 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:336 - Error uploading file to knowledge base 6: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:12:45 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 17:12:45 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/6/files - Status: 500 - Time: 0.051s
2025-09-16 17:12:50 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/5 - Client: 127.0.0.1
2025-09-16 17:12:50 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/5 - Status: 200 - Time: 0.002s
2025-09-16 17:12:50 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/5 - Client: 127.0.0.1
2025-09-16 17:12:50 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_2931598d: Collection [kb_2931598d] does not exists
2025-09-16 17:12:50 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:183 - Error deleting knowledge base 5: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:12:50 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 17:12:50 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/5 - Status: 500 - Time: 0.059s
2025-09-16 17:30:23 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-16 17:31:29 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-16 17:31:29 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-16 17:31:29 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-16 17:31:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:31:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-16 17:31:48 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:31:48 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-16 17:31:48 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:31:48 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_7
2025-09-16 17:31:48 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:84 - Created knowledge base: 测试 (ID: 7)
2025-09-16 17:31:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-16 17:31:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-16 17:31:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-16 17:31:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.032s
2025-09-16 17:31:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.113s
2025-09-16 17:32:02 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-16 17:32:02 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.000s
2025-09-16 17:32:02 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-16 17:32:02 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 17:32:02 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:334 - Error uploading file to knowledge base 7: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:32:02 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 17:32:02 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 500 - Time: 0.060s
2025-09-16 17:32:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:32:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 17:32:24 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/6 - Client: 127.0.0.1
2025-09-16 17:32:24 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/6 - Status: 200 - Time: 0.000s
2025-09-16 17:32:24 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/6 - Client: 127.0.0.1
2025-09-16 17:32:24 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_9dc44801: Collection [kb_9dc44801] does not exists
2025-09-16 17:32:24 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:180 - Error deleting knowledge base 6: object bool can't be used in 'await' expression
2025-09-16 17:32:24 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 17:32:24 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/6 - Status: 500 - Time: 0.042s
2025-09-16 17:32:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:32:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-16 17:32:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-16 17:32:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-16 17:32:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.012s
2025-09-16 17:32:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.011s
2025-09-16 17:32:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:32:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:32:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.011s
2025-09-16 17:32:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.009s
2025-09-16 17:32:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-16 17:32:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-16 17:32:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-16 17:32:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-16 17:32:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-16 17:32:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.011s
2025-09-16 17:32:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:32:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-16 17:32:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-16 17:32:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.011s
2025-09-16 17:32:46 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/6 - Client: 127.0.0.1
2025-09-16 17:32:46 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_9dc44801: Collection [kb_9dc44801] does not exists
2025-09-16 17:32:46 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:180 - Error deleting knowledge base 6: object bool can't be used in 'await' expression
2025-09-16 17:32:46 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-16 17:32:46 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/6 - Status: 500 - Time: 0.026s
2025-09-16 17:32:50 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:32:50 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.000s
2025-09-16 17:32:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-16 17:32:50 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_6/2025/09/16/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-16 17:32:50 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:334 - Error uploading file to knowledge base 6: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-16 17:32:50 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-16 17:32:50 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/6/files - Status: 500 - Time: 0.066s
2025-09-16 17:48:29 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 08:45:54 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 08:45:54 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 08:45:54 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 08:45:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 08:45:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.084s
2025-09-17 08:46:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 08:46:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 08:46:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.035s
2025-09-17 08:46:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.055s
2025-09-17 08:46:19 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 08:46:19 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.001s
2025-09-17 08:46:19 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 08:46:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-17 08:46:20 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:334 - Error uploading file to knowledge base 7: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 08:46:20 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 08:46:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 500 - Time: 0.188s
2025-09-17 09:01:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:01:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-17 09:01:50 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:01:55 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:01:55 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:01:55 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:01:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 09:01:55 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:01:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:01:55 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-17 09:01:55 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:01:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.117s
2025-09-17 09:01:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.117s
2025-09-17 09:01:55 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 09:01:55 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Error uploading file to knowledge base 7: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:01:55 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:01:55 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 500 - Time: 0.231s
2025-09-17 09:02:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:02:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.019s
2025-09-17 09:02:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:02:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 09:02:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.012s
2025-09-17 09:02:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.017s
2025-09-17 09:02:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:02:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-17 09:02:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:02:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-17 09:02:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-17 09:02:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-17 09:02:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.011s
2025-09-17 09:02:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.012s
2025-09-17 09:02:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:02:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-17 09:02:48 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:02:54 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:02:54 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:02:54 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:02:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:02:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-17 09:03:16 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:03:16 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-17 09:03:16 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:03:16 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_8
2025-09-17 09:03:16 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: 排污 (ID: 8)
2025-09-17 09:03:16 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-17 09:03:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:03:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:03:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.029s
2025-09-17 09:03:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.101s
2025-09-17 09:03:21 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:03:21 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 09:03:21 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:03:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 09:03:21 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Error uploading file to knowledge base 8: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:03:21 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:03:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 500 - Time: 0.072s
2025-09-17 09:04:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 09:04:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:04:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.011s
2025-09-17 09:04:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-17 09:04:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-17 09:04:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-17 09:04:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.011s
2025-09-17 09:04:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.015s
2025-09-17 09:04:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:04:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 09:04:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.014s
2025-09-17 09:04:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.015s
2025-09-17 09:04:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:04:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:04:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 09:04:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.008s
2025-09-17 09:04:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 09:04:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 09:04:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-17 09:04:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.010s
2025-09-17 09:04:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-17 09:04:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-17 09:04:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.011s
2025-09-17 09:04:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.016s
2025-09-17 09:07:46 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:07:46 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:07:46 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:07:46 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:07:51 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:07:55 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:07:55 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:07:55 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:08:25 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:08:28 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:08:28 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:08:28 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:08:42 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:08:51 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:08:51 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:08:51 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:09:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:09:38 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_9
2025-09-17 09:09:38 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 9)
2025-09-17 09:09:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.094s
2025-09-17 09:09:40 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/9/files - Client: 127.0.0.1
2025-09-17 09:09:40 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_9/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:09:40 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 9
2025-09-17 09:10:48 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:10:48 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_10
2025-09-17 09:10:48 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 10)
2025-09-17 09:10:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.094s
2025-09-17 09:10:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/10/files - Client: 127.0.0.1
2025-09-17 09:10:50 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_10/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:10:50 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 10
2025-09-17 09:11:12 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:11:12 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_11
2025-09-17 09:11:12 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 11)
2025-09-17 09:11:12 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.105s
2025-09-17 09:11:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/11/files - Client: 127.0.0.1
2025-09-17 09:11:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_11/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:11:14 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 11
2025-09-17 09:11:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:11:39 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_12
2025-09-17 09:11:39 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 12)
2025-09-17 09:11:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.104s
2025-09-17 09:11:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/12/files - Client: 127.0.0.1
2025-09-17 09:11:41 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_12/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:11:41 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 12
2025-09-17 09:12:25 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:12:25 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_13
2025-09-17 09:12:25 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 13)
2025-09-17 09:12:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.091s
2025-09-17 09:12:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/13/files - Client: 127.0.0.1
2025-09-17 09:12:28 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_13/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:12:28 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 13
2025-09-17 09:13:10 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:13:10 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:13:10 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:13:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:13:21 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_14
2025-09-17 09:13:21 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 14)
2025-09-17 09:13:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.119s
2025-09-17 09:13:23 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/14/files - Client: 127.0.0.1
2025-09-17 09:13:23 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_14/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:13:23 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 14
2025-09-17 09:13:23 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:391 - Error uploading file to knowledge base 14: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:13:23 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:13:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/14/files - Status: 500 - Time: 0.125s
2025-09-17 09:14:22 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:14:22 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:14:22 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:14:31 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:14:31 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_15
2025-09-17 09:14:31 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 15)
2025-09-17 09:14:31 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.165s
2025-09-17 09:14:33 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/15/files - Client: 127.0.0.1
2025-09-17 09:14:34 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_15/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:14:34 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 15
2025-09-17 09:14:34 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:402 - Error uploading file to knowledge base 15: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:14:34 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:14:34 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/15/files - Status: 500 - Time: 0.086s
2025-09-17 09:15:08 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:15:08 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:15:08 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:15:17 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:15:17 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_16
2025-09-17 09:15:17 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 16)
2025-09-17 09:15:17 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.088s
2025-09-17 09:15:19 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/16/files - Client: 127.0.0.1
2025-09-17 09:15:19 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_16/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:15:19 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 16
2025-09-17 09:15:19 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:402 - Error uploading file to knowledge base 16: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:15:19 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:15:19 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/16/files - Status: 500 - Time: 0.122s
2025-09-17 09:16:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:16:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-17 09:16:33 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:16:33 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_17
2025-09-17 09:16:33 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 17)
2025-09-17 09:16:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-17 09:16:35 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/17/files - Client: 127.0.0.1
2025-09-17 09:16:35 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_17/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:16:35 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 17
2025-09-17 09:16:35 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:402 - Error uploading file to knowledge base 17: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:16:35 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:16:35 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/17/files - Status: 500 - Time: 0.029s
2025-09-17 09:17:44 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:17:44 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_18
2025-09-17 09:17:44 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 18)
2025-09-17 09:17:44 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-17 09:17:47 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/18/files - Client: 127.0.0.1
2025-09-17 09:17:47 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_18/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:17:47 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 18
2025-09-17 09:17:47 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:402 - Error uploading file to knowledge base 18: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:17:47 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:17:47 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/18/files - Status: 500 - Time: 0.035s
2025-09-17 09:20:43 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:20:43 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:20:43 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:20:43 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:22:04 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:22:04 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:22:04 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:22:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:22:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-17 09:22:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/9/files - Client: 127.0.0.1
2025-09-17 09:22:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/9 - Client: 127.0.0.1
2025-09-17 09:22:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/9/files - Status: 200 - Time: 0.069s
2025-09-17 09:22:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/9 - Status: 200 - Time: 0.082s
2025-09-17 09:22:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/10/files - Client: 127.0.0.1
2025-09-17 09:22:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/10 - Client: 127.0.0.1
2025-09-17 09:22:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/10/files - Status: 200 - Time: 0.020s
2025-09-17 09:22:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/10 - Status: 200 - Time: 0.023s
2025-09-17 09:22:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:22:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-17 09:22:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:22:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:22:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.094s
2025-09-17 09:22:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.094s
2025-09-17 09:22:31 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:22:31 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 09:22:31 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:22:31 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-17 09:22:31 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:380 - Uploaded file 环评名录查询使用教程.docx to knowledge base 8
2025-09-17 09:22:31 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:399 - Error uploading file to knowledge base 8: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:22:31 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:22:31 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 500 - Time: 0.210s
2025-09-17 09:22:51 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:25:48 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:25:48 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:25:48 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:25:48 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:25:57 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:25:57 | INFO     | app.services.vector_store:create_collection:73 - Created collection: kb_19
2025-09-17 09:25:57 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:85 - Created knowledge base: Test Knowledge Base (ID: 19)
2025-09-17 09:25:57 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.084s
2025-09-17 09:25:59 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 09:25:59 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_19/2025/09/17/086ed233e06d26c365a3c78d7a4596ea.txt
2025-09-17 09:25:59 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:377 - Uploaded file test.txt to knowledge base 19
2025-09-17 09:25:59 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:402 - Error uploading file to knowledge base 19: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:25:59 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:25:59 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/19/files - Status: 500 - Time: 0.024s
2025-09-17 09:27:47 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:27:47 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:27:47 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:28:38 | INFO     | app.main:log_requests:45 - Request started: GET / - Client: 127.0.0.1
2025-09-17 09:28:38 | INFO     | app.main:log_requests:56 - Request completed: GET / - Status: 200 - Time: 0.001s
2025-09-17 09:28:38 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-17 09:28:38 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-17 09:28:38 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.002s
2025-09-17 09:28:47 | INFO     | app.main:log_requests:45 - Request started: GET /v1 - Client: 127.0.0.1
2025-09-17 09:28:47 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-17 09:28:47 | INFO     | app.main:log_requests:56 - Request completed: GET /v1 - Status: 404 - Time: 0.001s
2025-09-17 09:28:52 | INFO     | app.main:log_requests:45 - Request started: GET /v1/api - Client: 127.0.0.1
2025-09-17 09:28:52 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-17 09:28:52 | INFO     | app.main:log_requests:56 - Request completed: GET /v1/api - Status: 404 - Time: 0.003s
2025-09-17 09:28:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:28:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.091s
2025-09-17 09:29:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:29:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:29:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.059s
2025-09-17 09:29:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.079s
2025-09-17 09:29:13 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:29:13 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-17 09:29:13 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:380 - Uploaded file 工作流和对话流的操作指南.docx to knowledge base 8
2025-09-17 09:29:13 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:399 - Error uploading file to knowledge base 8: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:29:13 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:29:13 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 500 - Time: 0.238s
2025-09-17 09:29:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-17 09:29:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.002s
2025-09-17 09:29:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:29:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-17 09:29:31 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-17 09:29:31 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-17 09:29:31 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.002s
2025-09-17 09:31:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:31:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-17 09:32:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 09:32:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/19 - Client: 127.0.0.1
2025-09-17 09:32:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.004s
2025-09-17 09:32:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/19 - Status: 200 - Time: 0.007s
2025-09-17 09:32:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/16/files - Client: 127.0.0.1
2025-09-17 09:32:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/16 - Client: 127.0.0.1
2025-09-17 09:32:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/16/files - Status: 200 - Time: 0.009s
2025-09-17 09:32:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/16 - Status: 200 - Time: 0.004s
2025-09-17 09:32:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:32:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:32:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.002s
2025-09-17 09:32:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.005s
2025-09-17 09:32:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:32:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-17 09:32:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:380 - Uploaded file 环评名录测试问答对.docx to knowledge base 8
2025-09-17 09:32:15 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:399 - Error uploading file to knowledge base 8: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:32:15 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to upload file
2025-09-17 09:32:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 500 - Time: 0.041s
2025-09-17 09:39:53 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:41:57 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:41:57 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:41:57 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:42:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:42:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.086s
2025-09-17 09:42:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:42:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:42:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.044s
2025-09-17 09:42:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.061s
2025-09-17 09:42:18 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:42:18 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 09:42:18 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:42:19 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-17 09:42:19 | ERROR    | app.api.v1.endpoints.knowledge_bases:upload_file:393 - 上传出现错误： 8: MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 09:42:19 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - 文件上传失败
2025-09-17 09:42:19 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 500 - Time: 0.347s
2025-09-17 09:46:14 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:46:50 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:46:50 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:46:50 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:46:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:46:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-17 09:46:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:46:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:46:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.062s
2025-09-17 09:46:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.073s
2025-09-17 09:47:17 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:47:17 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-17 09:47:17 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:384 - Uploaded file Chatflow工作总结.docx to knowledge base 8
2025-09-17 09:47:17 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.276s
2025-09-17 09:47:17 | ERROR    | app.services.file_processor:process_file:384 - Error processing file Chatflow工作总结.docx: seek
2025-09-17 09:47:17 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:298 - Error processing file 29: seek
2025-09-17 09:47:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:47:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.008s
2025-09-17 09:48:08 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:48:09 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-17 09:48:09 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:384 - Uploaded file 环评名录查询使用教程.docx to knowledge base 8
2025-09-17 09:48:09 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.175s
2025-09-17 09:48:09 | ERROR    | app.services.file_processor:process_file:384 - Error processing file 环评名录查询使用教程.docx: seek
2025-09-17 09:48:09 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:298 - Error processing file 30: seek
2025-09-17 09:48:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:48:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.004s
2025-09-17 09:55:09 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 09:55:27 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 09:55:27 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 09:55:27 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 09:55:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 09:55:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-17 09:55:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:55:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 09:55:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.072s
2025-09-17 09:55:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.080s
2025-09-17 09:55:41 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:55:41 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.002s
2025-09-17 09:55:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:55:41 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 09:55:41 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 8
2025-09-17 09:55:41 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.177s
2025-09-17 09:55:41 | ERROR    | app.services.file_processor:process_file:384 - Error processing file 排污许可证申请表 (玻璃制造）.docx: bad character range e-\\ at position 26
2025-09-17 09:55:41 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 31: bad character range e-\\ at position 26
2025-09-17 09:55:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 09:55:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.004s
2025-09-17 10:00:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:00:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4ac872a29f5ce8c0cccdf7b12f96c8a6.docx
2025-09-17 10:00:20 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 10:00:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.055s
2025-09-17 10:00:20 | ERROR    | app.services.file_processor:process_file:384 - Error processing file cesi.docx: bad character range e-\\ at position 26
2025-09-17 10:00:20 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 32: bad character range e-\\ at position 26
2025-09-17 10:00:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:00:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 10:02:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:02:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 10:02:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.137s
2025-09-17 10:02:15 | ERROR    | app.services.file_processor:process_file:384 - Error processing file cesi.pdf: bad character range e-\\ at position 26
2025-09-17 10:02:15 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 33: bad character range e-\\ at position 26
2025-09-17 10:02:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.007s
2025-09-17 10:02:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:33 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/d41d8cd98f00b204e9800998ecf8427e.txt
2025-09-17 10:02:33 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 10:02:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.043s
2025-09-17 10:02:33 | INFO     | app.services.text_splitter:create_chunks:234 - Created 0 chunks from text of length 0
2025-09-17 10:02:33 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:295 - Successfully processed file 测试.txt
2025-09-17 10:02:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 10:02:57 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:57 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/9eb1875dd41b2cf059e52bb13af6703f.txt
2025-09-17 10:02:57 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 10:02:57 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.089s
2025-09-17 10:02:57 | ERROR    | app.services.file_processor:process_file:384 - Error processing file 测试.txt: bad character range e-\\ at position 26
2025-09-17 10:02:57 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 35: bad character range e-\\ at position 26
2025-09-17 10:02:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:02:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.005s
2025-09-17 10:03:11 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:03:11 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 10:03:11 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 10:03:11 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.091s
2025-09-17 10:03:11 | ERROR    | app.services.file_processor:process_file:384 - Error processing file 测试.txt: bad character range e-\\ at position 26
2025-09-17 10:03:11 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 36: bad character range e-\\ at position 26
2025-09-17 10:03:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:03:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.006s
2025-09-17 10:07:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 10:07:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-17 10:07:36 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:07:36 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.000s
2025-09-17 10:07:36 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:07:36 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 10:07:36 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 10:07:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.141s
2025-09-17 10:07:37 | INFO     | app.services.text_splitter:create_chunks:234 - Created 0 chunks from text of length 0
2025-09-17 10:07:37 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:295 - Successfully processed file cesi.docx
2025-09-17 10:07:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:07:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.012s
2025-09-17 10:09:24 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 10:18:39 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 10:18:39 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 10:18:39 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 10:18:45 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:18:45 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 10:18:45 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:18:45 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:18:45 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 10:18:45 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.170s
2025-09-17 10:18:45 | INFO     | app.services.text_splitter:create_chunks:234 - Created 1 chunks from text of length 81
2025-09-17 10:18:46 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:18:46 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 38: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:18:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:18:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.012s
2025-09-17 10:19:42 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:19:42 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 10:19:42 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 10:19:42 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.052s
2025-09-17 10:19:42 | INFO     | app.services.text_splitter:create_chunks:234 - Created 1 chunks from text of length 6
2025-09-17 10:19:42 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:19:42 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 39: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:19:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:19:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 10:31:47 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 10:31:56 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 10:31:56 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 10:31:56 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 10:32:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 10:32:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-17 10:32:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 10:32:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/19 - Client: 127.0.0.1
2025-09-17 10:32:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.056s
2025-09-17 10:32:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/19 - Status: 200 - Time: 0.066s
2025-09-17 10:32:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 10:32:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.000s
2025-09-17 10:32:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 10:32:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_19/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:32:23 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.pdf to knowledge base 19
2025-09-17 10:32:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.160s
2025-09-17 10:32:23 | INFO     | app.services.text_splitter:create_chunks:242 - Created 1 chunks from text of length 81
2025-09-17 10:32:23 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_8a658a78: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:32:23 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 40: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:32:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 10:32:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.002s
2025-09-17 10:32:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:32:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 10:32:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.007s
2025-09-17 10:32:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.008s
2025-09-17 10:32:38 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:32:38 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.000s
2025-09-17 10:32:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:32:38 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:32:38 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:390 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 10:32:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.099s
2025-09-17 10:32:38 | INFO     | app.services.text_splitter:create_chunks:242 - Created 1 chunks from text of length 81
2025-09-17 10:32:38 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:32:38 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 41: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:32:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:32:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.002s
2025-09-17 10:41:43 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 10:48:09 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 10:48:09 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 10:48:09 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 10:48:23 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:48:23 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.000s
2025-09-17 10:48:23 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:48:23 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:48:23 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:410 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 10:48:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.157s
2025-09-17 10:48:23 | INFO     | app.services.text_splitter:create_chunks:244 - Created 1 chunks from text of length 73
2025-09-17 10:48:23 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:23 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:324 - Error processing file 42: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 10:48:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.012s
2025-09-17 10:48:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 10:48:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-17 10:48:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 10:48:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.008s
2025-09-17 10:48:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.038s
2025-09-17 10:48:41 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:41 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.001s
2025-09-17 10:48:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:41 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 10:48:41 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:410 - Uploaded file cesi.docx to knowledge base 7
2025-09-17 10:48:41 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.081s
2025-09-17 10:48:41 | INFO     | app.services.text_splitter:create_chunks:244 - Created 0 chunks from text of length 0
2025-09-17 10:48:41 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Successfully processed file cesi.docx
2025-09-17 10:48:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.002s
2025-09-17 10:48:48 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:48 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 10:48:48 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:410 - Uploaded file 测试.txt to knowledge base 7
2025-09-17 10:48:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.077s
2025-09-17 10:48:48 | INFO     | app.services.text_splitter:create_chunks:244 - Created 1 chunks from text of length 6
2025-09-17 10:48:49 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_8cb894f8: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:49 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:324 - Error processing file 44: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.006s
2025-09-17 10:48:53 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:53 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:48:53 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:410 - Uploaded file cesi.pdf to knowledge base 7
2025-09-17 10:48:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.070s
2025-09-17 10:48:53 | INFO     | app.services.text_splitter:create_chunks:244 - Created 1 chunks from text of length 73
2025-09-17 10:48:53 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_8cb894f8: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:53 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:324 - Error processing file 45: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:48:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:48:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.008s
2025-09-17 10:50:28 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 10:50:37 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 10:50:37 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 10:50:37 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 10:50:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 10:50:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-17 10:50:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:50:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 10:50:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.074s
2025-09-17 10:50:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.081s
2025-09-17 10:50:54 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:50:54 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 10:50:54 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:410 - Uploaded file cesi.pdf to knowledge base 7
2025-09-17 10:50:54 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.146s
2025-09-17 10:50:54 | INFO     | app.services.text_splitter:create_chunks:244 - Created 1 chunks from text of length 73
2025-09-17 10:50:54 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_8cb894f8: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:50:54 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:324 - Error processing file 46: Validation error: metadata: Metadata cannot be empty
2025-09-17 10:50:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 10:50:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.000s
2025-09-17 11:04:00 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:05:06 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:05:06 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:05:06 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:05:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:05:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-17 11:05:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/11/files - Client: 127.0.0.1
2025-09-17 11:05:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/11 - Client: 127.0.0.1
2025-09-17 11:05:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/11/files - Status: 200 - Time: 0.064s
2025-09-17 11:05:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/11 - Status: 200 - Time: 0.075s
2025-09-17 11:05:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:05:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 11:05:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.027s
2025-09-17 11:05:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.026s
2025-09-17 11:05:24 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:05:24 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 11:05:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:05:24 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 11:05:24 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:393 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 11:05:24 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.143s
2025-09-17 11:05:24 | INFO     | app.services.text_splitter:create_chunks:244 - Created 1 chunks from text of length 73
2025-09-17 11:05:24 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:05:24 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 47: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:05:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:05:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.006s
2025-09-17 11:07:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8 - Client: 127.0.0.1
2025-09-17 11:07:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8 - Status: 200 - Time: 0.000s
2025-09-17 11:07:39 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/8 - Client: 127.0.0.1
2025-09-17 11:07:39 | ERROR    | app.services.vector_store:delete_collection:140 - Failed to delete collection kb_f44201d5: Collection [kb_f44201d5] does not exists
2025-09-17 11:07:39 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 8: object bool can't be used in 'await' expression
2025-09-17 11:07:39 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 11:07:39 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/8 - Status: 500 - Time: 0.062s
2025-09-17 11:07:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:07:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-17 11:07:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 11:07:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:07:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.007s
2025-09-17 11:07:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.007s
2025-09-17 11:08:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 11:08:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 11:08:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.008s
2025-09-17 11:08:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.008s
2025-09-17 11:08:08 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 11:08:08 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.000s
2025-09-17 11:08:08 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 11:08:08 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:141 - Updated knowledge base: 测试1 (ID: 7)
2025-09-17 11:08:08 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.024s
2025-09-17 11:08:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:08:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-17 11:10:18 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:22:24 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:22:24 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:22:24 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:22:31 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 11:22:31 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.005s
2025-09-17 11:22:31 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 11:22:31 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:141 - Updated knowledge base: 测试1 (ID: 7)
2025-09-17 11:22:31 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.109s
2025-09-17 11:22:46 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 11:22:46 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.001s
2025-09-17 11:22:46 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 11:22:47 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 11:22:47 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:393 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 7
2025-09-17 11:22:47 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.078s
2025-09-17 11:22:47 | INFO     | app.services.text_splitter:create_chunks:244 - Created 8 chunks from text of length 12589
2025-09-17 11:22:47 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_8cb894f8: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:22:47 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:304 - Error processing file 48: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:22:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 11:22:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.007s
2025-09-17 11:27:44 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:31:16 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:31:16 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:31:16 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:31:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:31:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-17 11:31:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:31:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 11:31:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.038s
2025-09-17 11:31:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.052s
2025-09-17 11:31:43 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:31:43 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.000s
2025-09-17 11:31:43 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:31:43 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 11:31:43 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 8
2025-09-17 11:31:43 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.152s
2025-09-17 11:31:43 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 11:31:43 | ERROR    | app.services.vector_store:get_or_create_collection:121 - Failed to get or create collection kb_f44201d5: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:31:43 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 49: Validation error: metadata: Metadata cannot be empty
2025-09-17 11:31:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:31:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.008s
2025-09-17 11:33:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:33:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-17 11:41:13 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:41:40 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:41:40 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:41:40 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:42:10 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:42:14 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:42:14 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:42:14 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:43:03 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:43:08 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:43:08 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:43:08 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:44:30 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 11:45:04 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 11:45:04 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 11:45:04 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 11:45:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 11:45:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-17 11:45:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:45:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 11:45:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.033s
2025-09-17 11:45:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.094s
2025-09-17 11:45:15 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:45:15 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.000s
2025-09-17 11:45:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:45:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-17 11:45:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file Chatflow工作总结.docx to knowledge base 8
2025-09-17 11:45:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.265s
2025-09-17 11:45:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 2 chunks from text of length 1657
2025-09-17 11:45:15 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_f44201d5
2025-09-17 11:45:16 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 11:45:20 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 11:45:25 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 11:45:25 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_f44201d5: RetryError[<Future at 0x247ef72f9d0 state=finished raised HTTPStatusError>]
2025-09-17 11:45:25 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 50: RetryError[<Future at 0x247ef72f9d0 state=finished raised HTTPStatusError>]
2025-09-17 11:45:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 11:45:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.006s
2025-09-17 14:08:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/10/files - Client: 127.0.0.1
2025-09-17 14:08:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/10 - Client: 127.0.0.1
2025-09-17 14:08:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/10 - Status: 200 - Time: 0.089s
2025-09-17 14:08:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/10/files - Status: 200 - Time: 0.098s
2025-09-17 14:21:00 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 14:21:26 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 14:21:26 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 14:21:26 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 14:21:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 14:21:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.088s
2025-09-17 14:21:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:21:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 14:21:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.055s
2025-09-17 14:21:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.062s
2025-09-17 14:21:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-17 14:21:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-17 14:21:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.012s
2025-09-17 14:21:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.012s
2025-09-17 14:21:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:21:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 14:21:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.121s
2025-09-17 14:21:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.125s
2025-09-17 14:21:57 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:21:57 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 14:21:57 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:21:57 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 14:21:58 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 8
2025-09-17 14:21:58 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.076s
2025-09-17 14:21:58 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 14:21:58 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_f44201d5
2025-09-17 14:21:59 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:22:03 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:22:08 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:22:08 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_f44201d5: RetryError[<Future at 0x197970fb730 state=finished raised HTTPStatusError>]
2025-09-17 14:22:08 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 51: RetryError[<Future at 0x197970fb730 state=finished raised HTTPStatusError>]
2025-09-17 14:22:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:22:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 14:23:03 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 14:23:03 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/9 - Status: 200 - Time: 0.001s
2025-09-17 14:23:03 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 14:23:03 | ERROR    | app.services.vector_store:delete_collection:157 - Failed to delete collection kb_015f09fc: Collection [kb_015f09fc] does not exists
2025-09-17 14:23:03 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 9: object bool can't be used in 'await' expression
2025-09-17 14:23:03 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 14:23:03 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/9 - Status: 500 - Time: 0.047s
2025-09-17 14:29:53 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 14:31:47 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 14:31:47 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 14:31:47 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 14:32:45 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:32:45 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 14:32:45 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:32:45 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 14:32:45 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 14:32:45 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.174s
2025-09-17 14:32:45 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 14:32:45 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 14:32:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:32:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.012s
2025-09-17 14:33:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:33:27 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 14:33:27 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 14:33:27 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.044s
2025-09-17 14:33:27 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 14:33:27 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_f44201d5
2025-09-17 14:33:28 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:33:32 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:33:37 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:33:37 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_f44201d5: RetryError[<Future at 0x1d87a2bd750 state=finished raised HTTPStatusError>]
2025-09-17 14:33:37 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 53: RetryError[<Future at 0x1d87a2bd750 state=finished raised HTTPStatusError>]
2025-09-17 14:33:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:33:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.007s
2025-09-17 14:41:44 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 14:41:48 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 14:41:48 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 14:41:48 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 14:42:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 14:42:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.058s
2025-09-17 14:42:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:42:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 14:42:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.067s
2025-09-17 14:42:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.082s
2025-09-17 14:42:13 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:42:13 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 14:42:14 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 14:42:14 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.161s
2025-09-17 14:42:14 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 14:42:14 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_f44201d5
2025-09-17 14:42:14 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:42:19 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:42:24 | ERROR    | app.services.bailian_client:create_embeddings:80 - HTTP error creating embeddings: 404 - 
2025-09-17 14:42:24 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_f44201d5: RetryError[<Future at 0x1cec8beda50 state=finished raised HTTPStatusError>]
2025-09-17 14:42:24 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 54: RetryError[<Future at 0x1cec8beda50 state=finished raised HTTPStatusError>]
2025-09-17 14:42:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 14:42:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.006s
2025-09-17 14:58:51 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 14:59:05 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 14:59:05 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 14:59:05 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 14:59:35 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 14:59:41 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 14:59:41 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 14:59:41 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 14:59:45 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 15:02:20 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 15:02:20 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 15:02:20 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 15:02:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 15:02:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-17 15:02:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:02:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 15:02:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.040s
2025-09-17 15:02:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.051s
2025-09-17 15:02:37 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:02:37 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.002s
2025-09-17 15:02:37 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:02:38 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:02:38 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 7
2025-09-17 15:02:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.156s
2025-09-17 15:02:38 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:02:38 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_8cb894f8
2025-09-17 15:02:38 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 404 - 
2025-09-17 15:02:38 | ERROR    | app.services.bailian_client:create_embeddings:103 - API endpoint not found: https://dashscope.aliyuncs.com/api/v1/embeddings
2025-09-17 15:02:38 | ERROR    | app.services.bailian_client:create_embeddings:104 - Please check if the endpoint URL is correct
2025-09-17 15:02:43 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 404 - 
2025-09-17 15:02:43 | ERROR    | app.services.bailian_client:create_embeddings:103 - API endpoint not found: https://dashscope.aliyuncs.com/api/v1/embeddings
2025-09-17 15:02:43 | ERROR    | app.services.bailian_client:create_embeddings:104 - Please check if the endpoint URL is correct
2025-09-17 15:02:47 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 404 - 
2025-09-17 15:02:47 | ERROR    | app.services.bailian_client:create_embeddings:103 - API endpoint not found: https://dashscope.aliyuncs.com/api/v1/embeddings
2025-09-17 15:02:47 | ERROR    | app.services.bailian_client:create_embeddings:104 - Please check if the endpoint URL is correct
2025-09-17 15:02:47 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_8cb894f8: RetryError[<Future at 0x24e8e7a9d20 state=finished raised HTTPStatusError>]
2025-09-17 15:02:47 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 55: RetryError[<Future at 0x24e8e7a9d20 state=finished raised HTTPStatusError>]
2025-09-17 15:02:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:02:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.003s
2025-09-17 15:03:01 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 15:16:34 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 15:16:34 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 15:16:34 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 15:16:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 15:16:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-17 15:16:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:16:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 15:16:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.075s
2025-09-17 15:16:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.081s
2025-09-17 15:16:46 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:16:46 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.001s
2025-09-17 15:16:46 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:16:46 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:16:46 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 7
2025-09-17 15:16:46 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.186s
2025-09-17 15:16:46 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:16:46 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_8cb894f8
2025-09-17 15:16:47 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 15:16:47 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_8cb894f8: Expected metadata value to be a str, int, float, bool, SparseVector, or None, got [] which is a list in add.
2025-09-17 15:16:47 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 56: Expected metadata value to be a str, int, float, bool, SparseVector, or None, got [] which is a list in add.
2025-09-17 15:16:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:16:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.006s
2025-09-17 15:17:10 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:17:10 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 15:17:10 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 7
2025-09-17 15:17:10 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.090s
2025-09-17 15:17:10 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 15:17:10 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 15:17:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:17:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-17 15:17:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:17:24 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_7/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:17:24 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 7
2025-09-17 15:17:24 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.065s
2025-09-17 15:17:24 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:17:24 | INFO     | app.services.vector_store:get_or_create_collection:134 - Got or created collection: kb_8cb894f8
2025-09-17 15:17:25 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 15:17:25 | ERROR    | app.services.vector_store:add_documents:223 - Failed to add documents to collection kb_8cb894f8: Expected metadata value to be a str, int, float, bool, SparseVector, or None, got [] which is a list in add.
2025-09-17 15:17:25 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 58: Expected metadata value to be a str, int, float, bool, SparseVector, or None, got [] which is a list in add.
2025-09-17 15:17:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 15:17:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.004s
2025-09-17 15:18:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 15:18:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-17 15:20:19 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 15:30:28 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 15:30:28 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 15:30:28 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 15:30:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 15:30:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.052s
2025-09-17 15:30:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:30:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 15:30:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.058s
2025-09-17 15:30:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.073s
2025-09-17 15:30:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:30:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 15:30:49 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:30:49 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:30:49 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 15:30:49 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.147s
2025-09-17 15:30:49 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:30:49 | INFO     | app.services.vector_store:get_or_create_collection:180 - Got or created collection: kb_f44201d5
2025-09-17 15:30:50 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 15:30:50 | ERROR    | app.services.vector_store:add_documents:272 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:30:50 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 59: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:30:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:30:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.008s
2025-09-17 15:32:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:32:27 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:32:27 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 15:32:27 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.075s
2025-09-17 15:32:27 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:32:28 | INFO     | app.services.vector_store:get_or_create_collection:180 - Got or created collection: kb_f44201d5
2025-09-17 15:32:28 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 15:32:28 | ERROR    | app.services.vector_store:add_documents:272 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:32:28 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 60: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:32:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:32:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 15:32:30 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:32:30 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 15:32:30 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 15:32:30 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.084s
2025-09-17 15:32:30 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 15:32:30 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 15:32:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:32:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 15:33:46 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 15:34:03 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 15:34:03 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 15:34:03 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 15:34:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 15:34:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-17 15:34:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:34:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 15:34:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.065s
2025-09-17 15:34:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.077s
2025-09-17 15:34:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:34:16 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 15:34:16 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 15:34:16 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.186s
2025-09-17 15:34:16 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 15:34:16 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 15:34:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 15:34:17 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': 'cesi.pdf', 'file_type': 'pdf', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T15:34:16.192952', 'processor_type': 'PDFProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 8, 'char_count': 73, 'line_count': 7}
2025-09-17 15:34:17 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:34:17 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 62: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 15:34:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:34:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.012s
2025-09-17 15:41:00 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:41:00 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 15:41:00 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:41:00 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 15:41:00 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 15:41:00 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.129s
2025-09-17 15:41:00 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 15:41:00 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 15:41:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 15:41:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 15:42:25 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 15:42:25 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/9 - Status: 200 - Time: 0.004s
2025-09-17 15:42:25 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 15:42:25 | ERROR    | app.services.vector_store:delete_collection:233 - Failed to delete collection kb_015f09fc: Collection [kb_015f09fc] does not exists
2025-09-17 15:42:25 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 9: object bool can't be used in 'await' expression
2025-09-17 15:42:25 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 15:42:25 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/9 - Status: 500 - Time: 0.049s
2025-09-17 16:21:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:21:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-17 16:21:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 16:21:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/19 - Client: 127.0.0.1
2025-09-17 16:21:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/19 - Status: 200 - Time: 0.053s
2025-09-17 16:21:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.077s
2025-09-17 16:22:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19 - Client: 127.0.0.1
2025-09-17 16:22:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19 - Status: 200 - Time: 0.011s
2025-09-17 16:22:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/file - Client: 127.0.0.1
2025-09-17 16:22:28 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-17 16:22:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/file - Status: 404 - Time: 0.003s
2025-09-17 16:22:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/19/files - Client: 127.0.0.1
2025-09-17 16:22:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/19/files - Status: 200 - Time: 0.011s
2025-09-17 16:23:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 16:23:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:23:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.016s
2025-09-17 16:23:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.016s
2025-09-17 16:23:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-17 16:23:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.002s
2025-09-17 16:23:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:23:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-17 16:23:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-17 16:23:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.001s
2025-09-17 16:23:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:23:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-17 16:24:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/ - Client: 127.0.0.1
2025-09-17 16:24:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/ - Status: 307 - Time: 0.001s
2025-09-17 16:24:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8 - Client: 127.0.0.1
2025-09-17 16:24:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8 - Status: 200 - Time: 0.010s
2025-09-17 16:24:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:24:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.017s
2025-09-17 16:24:57 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:24:57 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.003s
2025-09-17 16:24:57 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:24:57 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 16:24:57 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 16:24:57 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.048s
2025-09-17 16:24:57 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-17 16:24:57 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 16:24:58 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 16:24:58 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': '测试.txt', 'file_type': 'txt', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T16:24:57.616871', 'processor_type': 'TextProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 1, 'char_count': 6, 'line_count': 1}
2025-09-17 16:24:58 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:24:58 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 64: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:24:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:24:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 16:26:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:26:27 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 16:26:27 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 16:26:27 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.034s
2025-09-17 16:26:27 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 16:26:27 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 16:26:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:26:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.008s
2025-09-17 16:27:55 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:27:56 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 16:27:56 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 16:27:56 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.134s
2025-09-17 16:27:56 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 16:27:56 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 16:27:56 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 16:27:56 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': 'cesi.pdf', 'file_type': 'pdf', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T16:27:56.132477', 'processor_type': 'PDFProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 8, 'char_count': 73, 'line_count': 7}
2025-09-17 16:27:56 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:27:56 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 66: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:27:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:27:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 16:28:19 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:19 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 16:28:19 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 16:28:19 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.076s
2025-09-17 16:28:19 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 16:28:19 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 16:28:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 16:28:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:24 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 16:28:24 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 16:28:24 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.docx to knowledge base 8
2025-09-17 16:28:24 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.117s
2025-09-17 16:28:24 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 16:28:24 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.115s
2025-09-17 16:28:24 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 16:28:24 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:257 - File cesi.docx has no processable text, marked as completed.
2025-09-17 16:28:24 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 16:28:24 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 16:28:25 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 16:28:25 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': 'cesi.pdf', 'file_type': 'pdf', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T16:28:24.424860', 'processor_type': 'PDFProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 8, 'char_count': 73, 'line_count': 7}
2025-09-17 16:28:25 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:28:25 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 69: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:28:25 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 16:28:25 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 测试.txt to knowledge base 8
2025-09-17 16:28:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 1.125s
2025-09-17 16:28:25 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-17 16:28:25 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 16:28:26 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 16:28:26 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': '测试.txt', 'file_type': 'txt', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T16:28:25.410035', 'processor_type': 'TextProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 1, 'char_count': 6, 'line_count': 1}
2025-09-17 16:28:26 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:28:26 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 70: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:28:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 16:28:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.009s
2025-09-17 16:28:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:28:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.003s
2025-09-17 16:34:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/6/files - Client: 127.0.0.1
2025-09-17 16:34:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/6 - Client: 127.0.0.1
2025-09-17 16:34:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/6/files - Status: 200 - Time: 0.087s
2025-09-17 16:34:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/6 - Status: 200 - Time: 0.083s
2025-09-17 16:34:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 16:34:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 16:34:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.054s
2025-09-17 16:34:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.070s
2025-09-17 16:39:21 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 16:39:28 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 16:39:28 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 16:39:28 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 16:39:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:39:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.070s
2025-09-17 16:39:40 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:39:40 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-17 16:39:40 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:39:40 | ERROR    | app.services.vector_store:create_collection:160 - Failed to create collection kb_20: Failed to deserialize the JSON body into the target type: metadata.description: data did not match any variant of untagged enum MetadataValue at line 1 column 82
2025-09-17 16:39:40 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:90 - Error creating knowledge base: Failed to deserialize the JSON body into the target type: metadata.description: data did not match any variant of untagged enum MetadataValue at line 1 column 82
2025-09-17 16:39:40 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to create knowledge base
2025-09-17 16:39:40 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.044s
2025-09-17 16:39:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:39:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 16:39:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.089s
2025-09-17 16:39:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.101s
2025-09-17 16:40:01 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:40:01 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 16:40:01 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:40:01 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 16:40:01 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 8
2025-09-17 16:40:01 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.057s
2025-09-17 16:40:01 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 16:40:01 | INFO     | app.services.vector_store:get_or_create_collection:210 - Got or created collection: kb_f44201d5
2025-09-17 16:40:02 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 16:40:02 | DEBUG    | app.services.vector_store:add_documents:296 - First document metadata: {'chunk_id': None, 'file_id': None, 'knowledge_base_id': None, 'chunk_index': 0, 'source_file': 'cesi.pdf', 'file_type': 'pdf', 'content_type': 'text', 'keywords': None, 'page_number': None, 'section_title': None, 'created_at': '2025-09-17T16:40:01.926147', 'processor_type': 'PDFProcessor', 'chunk_method': 'recursive', 'total_chunks': 1, 'chunk_position': 1, 'word_count': 8, 'char_count': 73, 'line_count': 7}
2025-09-17 16:40:02 | ERROR    | app.services.vector_store:add_documents:312 - Failed to add documents to collection kb_f44201d5: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:40:02 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 71: Failed to deserialize the JSON body into the target type: metadatas[0].chunk_id: data did not match any variant of untagged enum MetadataValue at line 1 column 5559
2025-09-17 16:40:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 16:40:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.007s
2025-09-17 16:42:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:42:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-17 16:44:40 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/20 - Client: 127.0.0.1
2025-09-17 16:44:40 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/20 - Status: 200 - Time: 0.000s
2025-09-17 16:44:40 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/20 - Client: 127.0.0.1
2025-09-17 16:44:40 | ERROR    | app.services.vector_store:delete_collection:233 - Failed to delete collection kb_96dc2ba8: Collection [kb_96dc2ba8] does not exists
2025-09-17 16:44:40 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 20: object bool can't be used in 'await' expression
2025-09-17 16:44:40 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 16:44:40 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/20 - Status: 500 - Time: 0.088s
2025-09-17 16:44:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:44:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-17 16:44:45 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/20 - Client: 127.0.0.1
2025-09-17 16:44:45 | ERROR    | app.services.vector_store:delete_collection:233 - Failed to delete collection kb_96dc2ba8: Collection [kb_96dc2ba8] does not exists
2025-09-17 16:44:45 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 20: object bool can't be used in 'await' expression
2025-09-17 16:44:45 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 16:44:45 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/20 - Status: 500 - Time: 0.028s
2025-09-17 16:44:58 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:44:58 | ERROR    | app.services.vector_store:create_collection:160 - Failed to create collection kb_21: Failed to deserialize the JSON body into the target type: metadata.description: data did not match any variant of untagged enum MetadataValue at line 1 column 82
2025-09-17 16:44:58 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:90 - Error creating knowledge base: Failed to deserialize the JSON body into the target type: metadata.description: data did not match any variant of untagged enum MetadataValue at line 1 column 82
2025-09-17 16:44:58 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to create knowledge base
2025-09-17 16:44:58 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.074s
2025-09-17 16:45:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:45:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-17 16:45:10 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/21 - Client: 127.0.0.1
2025-09-17 16:45:10 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/21 - Status: 200 - Time: 0.002s
2025-09-17 16:45:10 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/21 - Client: 127.0.0.1
2025-09-17 16:45:10 | ERROR    | app.services.vector_store:delete_collection:233 - Failed to delete collection kb_338fe394: Collection [kb_338fe394] does not exists
2025-09-17 16:45:10 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 21: object bool can't be used in 'await' expression
2025-09-17 16:45:10 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 16:45:10 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/21 - Status: 500 - Time: 0.023s
2025-09-17 16:45:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/21/files - Client: 127.0.0.1
2025-09-17 16:45:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/21 - Client: 127.0.0.1
2025-09-17 16:45:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/21/files - Status: 200 - Time: 0.019s
2025-09-17 16:45:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/21 - Status: 200 - Time: 0.016s
2025-09-17 16:45:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:45:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-17 16:45:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:45:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-17 16:47:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:47:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-17 16:47:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:47:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-17 16:47:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:47:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-17 16:48:12 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 16:48:16 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 16:48:16 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 16:48:16 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 16:48:19 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 16:48:27 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 16:48:27 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 16:48:27 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 16:48:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 16:48:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.099s
2025-09-17 16:48:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:48:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/20 - Client: 127.0.0.1
2025-09-17 16:48:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.065s
2025-09-17 16:48:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/20 - Status: 200 - Time: 0.077s
2025-09-17 16:48:52 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:48:52 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.002s
2025-09-17 16:48:52 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:48:53 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_20/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 16:48:53 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 20
2025-09-17 16:48:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.183s
2025-09-17 16:48:53 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 16:48:53 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 72: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-17 16:48:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:48:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.007s
2025-09-17 16:49:13 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:49:13 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_20/2025/09/17/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-17 16:49:13 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file 环评名录查询使用教程.docx to knowledge base 20
2025-09-17 16:49:13 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.123s
2025-09-17 16:49:13 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-17 16:49:13 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 73: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-17 16:49:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/20/files - Client: 127.0.0.1
2025-09-17 16:49:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/20/files - Status: 200 - Time: 0.008s
2025-09-17 17:10:18 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:11:24 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:11:24 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:11:24 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:11:29 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:11:38 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:11:38 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:11:38 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:11:51 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:11:51 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-17 17:11:51 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:11:51 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:90 - Error creating knowledge base: 'VectorStoreManager' object has no attribute 'create_knowledge_base_collection'
2025-09-17 17:11:51 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to create knowledge base
2025-09-17 17:11:51 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.090s
2025-09-17 17:11:58 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:11:58 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:90 - Error creating knowledge base: 'VectorStoreManager' object has no attribute 'create_knowledge_base_collection'
2025-09-17 17:11:58 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to create knowledge base
2025-09-17 17:11:58 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.024s
2025-09-17 17:12:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:12:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.017s
2025-09-17 17:12:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/23 - Client: 127.0.0.1
2025-09-17 17:12:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/23/files - Client: 127.0.0.1
2025-09-17 17:12:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/23 - Status: 200 - Time: 0.049s
2025-09-17 17:12:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/23/files - Status: 200 - Time: 0.110s
2025-09-17 17:12:15 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/23/files - Client: 127.0.0.1
2025-09-17 17:12:15 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/23/files - Status: 200 - Time: 0.001s
2025-09-17 17:12:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/23/files - Client: 127.0.0.1
2025-09-17 17:12:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_23/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 17:12:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:404 - Uploaded file cesi.pdf to knowledge base 23
2025-09-17 17:12:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/23/files - Status: 200 - Time: 0.050s
2025-09-17 17:12:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 17:12:15 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:315 - Error processing file 74: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-17 17:12:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/23/files - Client: 127.0.0.1
2025-09-17 17:12:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/23/files - Status: 200 - Time: 0.007s
2025-09-17 17:12:19 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/22 - Client: 127.0.0.1
2025-09-17 17:12:19 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/22 - Status: 200 - Time: 0.000s
2025-09-17 17:12:19 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/22 - Client: 127.0.0.1
2025-09-17 17:12:19 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:181 - Error deleting knowledge base 22: 'VectorStoreManager' object has no attribute 'delete_knowledge_base_collection'
2025-09-17 17:12:19 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:12:19 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/22 - Status: 500 - Time: 0.006s
2025-09-17 17:21:35 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:21:40 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:21:40 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:21:40 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:29:27 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:29:31 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:29:31 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:29:31 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:30:16 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:30:21 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:30:21 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:30:21 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:32:02 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 17:32:56 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 17:32:56 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 17:32:56 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 17:33:02 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/23 - Client: 127.0.0.1
2025-09-17 17:33:02 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/23 - Status: 200 - Time: 0.001s
2025-09-17 17:33:02 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/23 - Client: 127.0.0.1
2025-09-17 17:33:02 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_8a5f8596 got: Collection [kb_8a5f8596] does not exists (ignored if not found)
2025-09-17 17:33:02 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_8a5f8596
2025-09-17 17:33:02 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 23: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:02 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:02 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/23 - Status: 500 - Time: 0.110s
2025-09-17 17:33:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-17 17:33:09 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/22 - Client: 127.0.0.1
2025-09-17 17:33:09 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/22 - Status: 200 - Time: 0.000s
2025-09-17 17:33:09 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/22 - Client: 127.0.0.1
2025-09-17 17:33:09 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_595bb688 got: Collection [kb_595bb688] does not exists (ignored if not found)
2025-09-17 17:33:09 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_595bb688
2025-09-17 17:33:09 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 22: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:09 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:09 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/22 - Status: 500 - Time: 0.033s
2025-09-17 17:33:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-17 17:33:13 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/21 - Client: 127.0.0.1
2025-09-17 17:33:13 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/21 - Status: 200 - Time: 0.005s
2025-09-17 17:33:13 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/21 - Client: 127.0.0.1
2025-09-17 17:33:13 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_338fe394 got: Collection [kb_338fe394] does not exists (ignored if not found)
2025-09-17 17:33:13 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_338fe394
2025-09-17 17:33:13 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 21: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:13 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:13 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/21 - Status: 500 - Time: 0.109s
2025-09-17 17:33:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-17 17:33:19 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/20 - Client: 127.0.0.1
2025-09-17 17:33:19 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/20 - Status: 200 - Time: 0.001s
2025-09-17 17:33:19 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/20 - Client: 127.0.0.1
2025-09-17 17:33:19 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_96dc2ba8 got: Collection [kb_96dc2ba8] does not exists (ignored if not found)
2025-09-17 17:33:19 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_96dc2ba8
2025-09-17 17:33:19 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 20: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:19 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:19 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/20 - Status: 500 - Time: 0.047s
2025-09-17 17:33:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-17 17:33:23 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/19 - Client: 127.0.0.1
2025-09-17 17:33:23 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/19 - Status: 200 - Time: 0.004s
2025-09-17 17:33:23 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/19 - Client: 127.0.0.1
2025-09-17 17:33:23 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_8a658a78 got: Collection [kb_8a658a78] does not exists (ignored if not found)
2025-09-17 17:33:23 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_8a658a78
2025-09-17 17:33:23 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 19: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:23 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:23 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/19 - Status: 500 - Time: 0.042s
2025-09-17 17:33:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.044s
2025-09-17 17:33:28 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/18 - Client: 127.0.0.1
2025-09-17 17:33:28 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/18 - Status: 200 - Time: 0.001s
2025-09-17 17:33:28 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/18 - Client: 127.0.0.1
2025-09-17 17:33:28 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_ac667420 got: Collection [kb_ac667420] does not exists (ignored if not found)
2025-09-17 17:33:28 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_ac667420
2025-09-17 17:33:28 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 18: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:33:28 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:33:28 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/18 - Status: 500 - Time: 0.033s
2025-09-17 17:33:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-17 17:33:46 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:46 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-17 17:33:46 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:33:46 | INFO     | app.services.vector_store:create_knowledge_base_collection:286 - Ensured Chroma collection exists: kb_91108203
2025-09-17 17:33:46 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 测试11 (ID: 24)
2025-09-17 17:33:46 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-17 17:33:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24 - Client: 127.0.0.1
2025-09-17 17:33:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.039s
2025-09-17 17:33:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24 - Status: 200 - Time: 0.046s
2025-09-17 17:33:54 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:54 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.001s
2025-09-17 17:33:54 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:54 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_24/2025/09/17/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-17 17:33:54 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file cesi.docx to knowledge base 24
2025-09-17 17:33:54 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.063s
2025-09-17 17:33:54 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-17 17:33:54 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:258 - File cesi.docx has no processable text, marked as completed.
2025-09-17 17:33:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.004s
2025-09-17 17:33:58 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:58 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_24/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 17:33:58 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file cesi.pdf to knowledge base 24
2025-09-17 17:33:58 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.073s
2025-09-17 17:33:58 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 17:33:59 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 17:33:59 | DEBUG    | app.services.vector_store:add_documents:242 - First document chunk_id: None, type: None
2025-09-17 17:33:59 | INFO     | app.services.vector_store:add_documents:258 - Added batch 1: 1 documents
2025-09-17 17:33:59 | INFO     | app.services.vector_store:add_documents:260 - Added 1 documents to collection kb_91108203
2025-09-17 17:33:59 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:311 - Successfully processed and vectorized file cesi.pdf
2025-09-17 17:33:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:33:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.007s
2025-09-17 17:34:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 17:34:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-17 17:35:35 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:35:35 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_24/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 17:35:35 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 24
2025-09-17 17:35:35 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.051s
2025-09-17 17:35:35 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 17:35:36 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"<400> InternalError.Algo.InvalidParameter: Value error, batch size is invalid, it should not be larger than 10.: input.contents","type":"InvalidParameter"},"id":"98a7d2ab-3ebf-4fed-98dd-97e02487a4c0","request_id":"98a7d2ab-3ebf-4fed-98dd-97e02487a4c0"}
2025-09-17 17:35:42 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"<400> InternalError.Algo.InvalidParameter: Value error, batch size is invalid, it should not be larger than 10.: input.contents","type":"InvalidParameter"},"id":"8c20fb0f-6f2e-4d23-b9ad-cc50b1725e29","request_id":"8c20fb0f-6f2e-4d23-b9ad-cc50b1725e29"}
2025-09-17 17:35:47 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"<400> InternalError.Algo.InvalidParameter: Value error, batch size is invalid, it should not be larger than 10.: input.contents","type":"InvalidParameter"},"id":"a16f5948-d323-482d-8d34-f88b261ca56f","request_id":"a16f5948-d323-482d-8d34-f88b261ca56f"}
2025-09-17 17:35:47 | ERROR    | app.services.vector_store:add_documents:231 - Failed to generate embeddings for batch: RetryError[<Future at 0x158d0306da0 state=finished raised HTTPStatusError>]
2025-09-17 17:35:47 | DEBUG    | app.services.vector_store:add_documents:242 - First document chunk_id: None, type: None
2025-09-17 17:35:47 | ERROR    | app.services.vector_store:add_documents:253 - Failed to add batch to collection: list index out of range in add.
2025-09-17 17:35:47 | DEBUG    | app.services.vector_store:add_documents:255 - Problematic metadata: {'chunk_index': 0, 'source_file': '排污许可证申请表 (玻璃制造）.docx', 'file_type': 'docx', 'content_type': 'text', 'created_at': '2025-09-17T17:35:35.430947', 'processor_type': 'DocxProcessor', 'chunk_method': 'recursive', 'total_chunks': 17, 'chunk_position': 1, 'word_count': 2, 'char_count': 884, 'line_count': 1}
2025-09-17 17:35:47 | ERROR    | app.services.vector_store:add_documents:264 - Failed to add documents to collection kb_91108203: list index out of range in add.
2025-09-17 17:35:47 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:316 - Error processing file 77: list index out of range in add.
2025-09-17 17:35:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:35:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.002s
2025-09-17 17:36:02 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:36:02 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_24/2025/09/17/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-17 17:36:02 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file Chatflow工作总结.docx to knowledge base 24
2025-09-17 17:36:02 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.181s
2025-09-17 17:36:02 | INFO     | app.services.text_splitter:create_chunks:255 - Created 2 chunks from text of length 1657
2025-09-17 17:36:03 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 2 texts using model text-embedding-v4
2025-09-17 17:36:03 | DEBUG    | app.services.vector_store:add_documents:242 - First document chunk_id: None, type: None
2025-09-17 17:36:03 | INFO     | app.services.vector_store:add_documents:258 - Added batch 1: 2 documents
2025-09-17 17:36:03 | INFO     | app.services.vector_store:add_documents:260 - Added 2 documents to collection kb_91108203
2025-09-17 17:36:03 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:311 - Successfully processed and vectorized file Chatflow工作总结.docx
2025-09-17 17:36:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/24/files - Client: 127.0.0.1
2025-09-17 17:36:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/24/files - Status: 200 - Time: 0.009s
2025-09-17 17:36:27 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/17 - Client: 127.0.0.1
2025-09-17 17:36:27 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/17 - Status: 200 - Time: 0.001s
2025-09-17 17:36:27 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/17 - Client: 127.0.0.1
2025-09-17 17:36:27 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_5271d6d3 got: Collection [kb_5271d6d3] does not exists (ignored if not found)
2025-09-17 17:36:27 | INFO     | app.services.vector_store:delete_knowledge_base_collection:291 - Deleted Chroma collection (if exists): kb_5271d6d3
2025-09-17 17:36:27 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 17: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 17:36:27 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 17:36:27 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/17 - Status: 500 - Time: 0.029s
2025-09-17 17:44:03 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 18:09:47 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 18:09:47 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 18:09:47 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 18:09:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:09:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-17 18:09:55 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 18:09:59 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 18:09:59 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 18:09:59 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 18:09:59 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/24 - Client: 127.0.0.1
2025-09-17 18:09:59 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/24 - Status: 200 - Time: 0.000s
2025-09-17 18:09:59 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/24 - Client: 127.0.0.1
2025-09-17 18:09:59 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_91108203
2025-09-17 18:09:59 | INFO     | app.services.vector_store:delete_knowledge_base_collection:307 - Deleted Chroma collection (if exists): kb_91108203
2025-09-17 18:09:59 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 24: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:09:59 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:09:59 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/24 - Status: 500 - Time: 0.093s
2025-09-17 18:10:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:10:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-17 18:10:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/16 - Client: 127.0.0.1
2025-09-17 18:10:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/16 - Status: 200 - Time: 0.001s
2025-09-17 18:10:06 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/16 - Client: 127.0.0.1
2025-09-17 18:10:06 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_5fef7922 got: Collection [kb_5fef7922] does not exists (ignored if not found)
2025-09-17 18:10:06 | INFO     | app.services.vector_store:delete_knowledge_base_collection:307 - Deleted Chroma collection (if exists): kb_5fef7922
2025-09-17 18:10:06 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 16: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:10:06 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:10:06 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/16 - Status: 500 - Time: 0.054s
2025-09-17 18:10:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:10:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 18:10:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.162s
2025-09-17 18:10:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.162s
2025-09-17 18:10:26 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:10:26 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 18:10:26 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:10:26 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 18:10:26 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 8
2025-09-17 18:10:26 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.096s
2025-09-17 18:10:26 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 18:10:28 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-17 18:10:30 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 7 texts using model text-embedding-v4
2025-09-17 18:10:30 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 18:10:30 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 17 documents
2025-09-17 18:10:30 | INFO     | app.services.vector_store:add_documents:276 - Added 17 documents to collection kb_f44201d5
2025-09-17 18:10:30 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:311 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-17 18:10:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:10:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.011s
2025-09-17 18:11:02 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:11:02 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-17 18:11:02 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:405 - Uploaded file 环评名录查询使用教程.docx to knowledge base 8
2025-09-17 18:11:02 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.140s
2025-09-17 18:11:02 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-17 18:11:03 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 18:11:03 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 18:11:03 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 1 documents
2025-09-17 18:11:03 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_f44201d5
2025-09-17 18:11:03 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:311 - Successfully processed and vectorized file 环评名录查询使用教程.docx
2025-09-17 18:11:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:11:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.017s
2025-09-17 18:11:18 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 18:11:18 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/9 - Status: 200 - Time: 0.004s
2025-09-17 18:11:18 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/9 - Client: 127.0.0.1
2025-09-17 18:11:18 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_015f09fc got: Collection [kb_015f09fc] does not exists (ignored if not found)
2025-09-17 18:11:18 | INFO     | app.services.vector_store:delete_knowledge_base_collection:307 - Deleted Chroma collection (if exists): kb_015f09fc
2025-09-17 18:11:18 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Error deleting knowledge base 9: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:11:18 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:11:18 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/9 - Status: 500 - Time: 0.037s
2025-09-17 18:17:39 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 18:21:54 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 18:21:54 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 18:21:54 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 18:21:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:21:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.070s
2025-09-17 18:22:00 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/15 - Client: 127.0.0.1
2025-09-17 18:22:00 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/15 - Status: 200 - Time: 0.002s
2025-09-17 18:22:00 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/15 - Client: 127.0.0.1
2025-09-17 18:22:00 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_de4ba467 got: Collection [kb_de4ba467] does not exists (ignored if not found)
2025-09-17 18:22:00 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_de4ba467
2025-09-17 18:22:00 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 15: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:00 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:00 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/15 - Status: 500 - Time: 0.042s
2025-09-17 18:22:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:22:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-17 18:22:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/14 - Client: 127.0.0.1
2025-09-17 18:22:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/14 - Status: 200 - Time: 0.000s
2025-09-17 18:22:06 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/14 - Client: 127.0.0.1
2025-09-17 18:22:06 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_3881b2da got: Collection [kb_3881b2da] does not exists (ignored if not found)
2025-09-17 18:22:06 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_3881b2da
2025-09-17 18:22:06 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 14: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:06 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:06 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/14 - Status: 500 - Time: 0.042s
2025-09-17 18:22:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:22:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-17 18:22:11 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/13 - Client: 127.0.0.1
2025-09-17 18:22:11 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/13 - Status: 200 - Time: 0.000s
2025-09-17 18:22:11 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/13 - Client: 127.0.0.1
2025-09-17 18:22:11 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_e0732690 got: Collection [kb_e0732690] does not exists (ignored if not found)
2025-09-17 18:22:11 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_e0732690
2025-09-17 18:22:11 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 13: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:11 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:11 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/13 - Status: 500 - Time: 0.104s
2025-09-17 18:22:13 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/13 - Client: 127.0.0.1
2025-09-17 18:22:13 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_e0732690 got: Collection [kb_e0732690] does not exists (ignored if not found)
2025-09-17 18:22:13 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_e0732690
2025-09-17 18:22:13 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 13: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:13 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:13 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/13 - Status: 500 - Time: 0.075s
2025-09-17 18:22:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:22:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.057s
2025-09-17 18:22:19 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/10 - Client: 127.0.0.1
2025-09-17 18:22:19 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/10 - Status: 200 - Time: 0.001s
2025-09-17 18:22:19 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/10 - Client: 127.0.0.1
2025-09-17 18:22:19 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_79caebac got: Collection [kb_79caebac] does not exists (ignored if not found)
2025-09-17 18:22:19 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_79caebac
2025-09-17 18:22:19 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 10: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:19 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:19 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/10 - Status: 500 - Time: 0.033s
2025-09-17 18:22:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:22:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.044s
2025-09-17 18:22:26 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/12 - Client: 127.0.0.1
2025-09-17 18:22:26 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/12 - Status: 200 - Time: 0.000s
2025-09-17 18:22:26 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/12 - Client: 127.0.0.1
2025-09-17 18:22:26 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_9fae4e32 got: Collection [kb_9fae4e32] does not exists (ignored if not found)
2025-09-17 18:22:26 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_9fae4e32
2025-09-17 18:22:26 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:177 - Error deleting knowledge base 12: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-17 18:22:26 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to delete knowledge base
2025-09-17 18:22:26 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/12 - Status: 500 - Time: 0.042s
2025-09-17 18:22:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:22:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 18:22:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.093s
2025-09-17 18:22:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.093s
2025-09-17 18:23:05 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:23:05 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.001s
2025-09-17 18:23:05 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:23:05 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 18:23:05 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:407 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 8
2025-09-17 18:23:05 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.073s
2025-09-17 18:23:05 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 18:23:07 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-17 18:23:10 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-17 18:23:10 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 18:23:10 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 16 documents
2025-09-17 18:23:10 | INFO     | app.services.vector_store:add_documents:276 - Added 16 documents to collection kb_f44201d5
2025-09-17 18:23:10 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:318 - Error processing file 81: Vectorization failed: number of vector IDs does not match chunks.
2025-09-17 18:23:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:23:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.015s
2025-09-17 18:23:26 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:23:26 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_8/2025/09/17/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-17 18:23:26 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:407 - Uploaded file 环评名录查询使用教程.docx to knowledge base 8
2025-09-17 18:23:26 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.156s
2025-09-17 18:23:26 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-17 18:23:26 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:260 - File 环评名录查询使用教程.docx has no processable text, marked as completed.
2025-09-17 18:23:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:23:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.010s
2025-09-17 18:24:52 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 18:25:46 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 18:25:46 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 18:25:46 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 18:25:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:25:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-17 18:25:52 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/11 - Client: 127.0.0.1
2025-09-17 18:25:52 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/11 - Status: 200 - Time: 0.000s
2025-09-17 18:25:52 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/11 - Client: 127.0.0.1
2025-09-17 18:25:52 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_fc10867b got: Collection [kb_fc10867b] does not exists (ignored if not found)
2025-09-17 18:25:52 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_fc10867b
2025-09-17 18:25:52 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: Test Knowledge Base (ID: 11)
2025-09-17 18:25:52 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/11 - Status: 200 - Time: 0.034s
2025-09-17 18:25:57 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/6 - Client: 127.0.0.1
2025-09-17 18:25:57 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/6 - Status: 200 - Time: 0.006s
2025-09-17 18:25:57 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/6 - Client: 127.0.0.1
2025-09-17 18:25:57 | WARNING  | app.services.vector_store:delete_collection:163 - Delete collection kb_9dc44801 got: Collection [kb_9dc44801] does not exists (ignored if not found)
2025-09-17 18:25:57 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_9dc44801
2025-09-17 18:25:57 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: test (ID: 6)
2025-09-17 18:25:57 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/6 - Status: 200 - Time: 0.030s
2025-09-17 18:26:10 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:26:10 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-17 18:26:10 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:26:10 | INFO     | app.services.vector_store:create_knowledge_base_collection:302 - Ensured Chroma collection exists: kb_b32e8114
2025-09-17 18:26:10 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 测试知识库 (ID: 25)
2025-09-17 18:26:10 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-17 18:26:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 18:26:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.164s
2025-09-17 18:26:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.177s
2025-09-17 18:26:15 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:15 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.003s
2025-09-17 18:26:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_25/2025/09/17/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-17 18:26:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 工作流和对话流的操作指南.docx to knowledge base 25
2025-09-17 18:26:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.153s
2025-09-17 18:26:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 967
2025-09-17 18:26:15 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:269 - File 工作流和对话流的操作指南.docx has no processable text, marked as completed.
2025-09-17 18:26:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.006s
2025-09-17 18:26:21 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_25/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 18:26:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 25
2025-09-17 18:26:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.073s
2025-09-17 18:26:21 | INFO     | app.services.text_splitter:create_chunks:255 - Created 8 chunks from text of length 12589
2025-09-17 18:26:24 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 8 texts using model text-embedding-v4
2025-09-17 18:26:24 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 18:26:24 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 8 documents
2025-09-17 18:26:24 | INFO     | app.services.vector_store:add_documents:276 - Added 8 documents to collection kb_b32e8114
2025-09-17 18:26:24 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-17 18:26:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.005s
2025-09-17 18:26:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-17 18:26:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/8 - Client: 127.0.0.1
2025-09-17 18:26:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.020s
2025-09-17 18:26:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/8 - Status: 200 - Time: 0.033s
2025-09-17 18:26:32 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/8 - Client: 127.0.0.1
2025-09-17 18:26:32 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/8 - Status: 200 - Time: 0.000s
2025-09-17 18:26:32 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/8 - Client: 127.0.0.1
2025-09-17 18:26:32 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_f44201d5
2025-09-17 18:26:32 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_f44201d5
2025-09-17 18:26:32 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 排污 (ID: 8)
2025-09-17 18:26:32 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/8 - Status: 200 - Time: 0.046s
2025-09-17 18:26:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/7/files - Client: 127.0.0.1
2025-09-17 18:26:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/7 - Client: 127.0.0.1
2025-09-17 18:26:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/7/files - Status: 200 - Time: 0.011s
2025-09-17 18:26:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/7 - Status: 200 - Time: 0.012s
2025-09-17 18:26:36 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 18:26:36 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.001s
2025-09-17 18:26:36 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/7 - Client: 127.0.0.1
2025-09-17 18:26:36 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_8cb894f8
2025-09-17 18:26:36 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_8cb894f8
2025-09-17 18:26:36 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 测试1 (ID: 7)
2025-09-17 18:26:36 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/7 - Status: 200 - Time: 0.031s
2025-09-17 18:26:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 18:26:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.010s
2025-09-17 18:26:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-17 18:26:46 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 18:26:46 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.002s
2025-09-17 18:26:46 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 18:26:46 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 18:26:46 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.022s
2025-09-17 18:26:54 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 18:26:54 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 18:26:54 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.031s
2025-09-17 18:26:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 18:26:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 18:26:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.010s
2025-09-17 18:26:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-17 18:27:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 18:27:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-17 18:30:43 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-17 18:30:47 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-17 18:30:47 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-17 18:30:47 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-17 23:41:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:41:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.069s
2025-09-17 23:41:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:41:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-17 23:41:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:41:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:41:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.031s
2025-09-17 23:41:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.039s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.064s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.064s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.007s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:41:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:41:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:41:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:41:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.006s
2025-09-17 23:41:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.005s
2025-09-17 23:42:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:42:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.000s
2025-09-17 23:42:49 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:42:49 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_25/2025/09/17/4173adb871df29097aa8666c024135af.pdf
2025-09-17 23:42:49 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file cesi.pdf to knowledge base 25
2025-09-17 23:42:49 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.052s
2025-09-17 23:42:49 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-17 23:42:50 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 23:42:50 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 23:42:50 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 1 documents
2025-09-17 23:42:50 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_b32e8114
2025-09-17 23:42:50 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file cesi.pdf
2025-09-17 23:42:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:42:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.006s
2025-09-17 23:43:25 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 23:43:25 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.000s
2025-09-17 23:43:25 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 23:43:26 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 23:43:26 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.025s
2025-09-17 23:43:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:43:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-17 23:43:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:43:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:43:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.007s
2025-09-17 23:43:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-17 23:43:38 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 23:43:38 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 23:43:38 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.009s
2025-09-17 23:43:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:43:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:43:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.006s
2025-09-17 23:43:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-17 23:44:16 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 23:44:16 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 23:44:16 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.011s
2025-09-17 23:44:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:44:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:44:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-17 23:44:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.010s
2025-09-17 23:44:49 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-17 23:44:49 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-17 23:44:49 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.011s
2025-09-17 23:44:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:44:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-17 23:44:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:44:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:44:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:44:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:45:08 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:45:08 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-17 23:45:08 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:45:09 | INFO     | app.services.vector_store:create_knowledge_base_collection:302 - Ensured Chroma collection exists: kb_417d880d
2025-09-17 23:45:09 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 测试1 (ID: 26)
2025-09-17 23:45:09 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-17 23:45:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/26 - Client: 127.0.0.1
2025-09-17 23:45:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.013s
2025-09-17 23:45:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/26 - Status: 200 - Time: 0.012s
2025-09-17 23:45:15 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:15 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.001s
2025-09-17 23:45:15 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-17 23:45:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 测试.txt to knowledge base 26
2025-09-17 23:45:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.030s
2025-09-17 23:45:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-17 23:45:15 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:269 - File 测试.txt has no processable text, marked as completed.
2025-09-17 23:45:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.006s
2025-09-17 23:45:35 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:36 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-17 23:45:36 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file Chatflow工作总结.docx to knowledge base 26
2025-09-17 23:45:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.234s
2025-09-17 23:45:36 | INFO     | app.services.text_splitter:create_chunks:255 - Created 2 chunks from text of length 1657
2025-09-17 23:45:37 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-17 23:45:37 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 23:45:37 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 1 documents
2025-09-17 23:45:37 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_417d880d
2025-09-17 23:45:37 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:327 - Error processing file 87: Vectorization failed: number of vector IDs does not match chunks.
2025-09-17 23:45:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.007s
2025-09-17 23:45:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:50 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 23:45:50 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 26
2025-09-17 23:45:50 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.075s
2025-09-17 23:45:50 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 23:45:52 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-17 23:45:54 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-17 23:45:54 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 23:45:54 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 16 documents
2025-09-17 23:45:54 | INFO     | app.services.vector_store:add_documents:276 - Added 16 documents to collection kb_417d880d
2025-09-17 23:45:54 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:327 - Error processing file 88: Vectorization failed: number of vector IDs does not match chunks.
2025-09-17 23:45:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:45:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.006s
2025-09-17 23:46:08 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:08 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-17 23:46:08 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 26
2025-09-17 23:46:08 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.088s
2025-09-17 23:46:08 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-17 23:46:10 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-17 23:46:12 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-17 23:46:12 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 23:46:12 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 16 documents
2025-09-17 23:46:12 | INFO     | app.services.vector_store:add_documents:276 - Added 16 documents to collection kb_417d880d
2025-09-17 23:46:12 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:327 - Error processing file 89: Vectorization failed: number of vector IDs does not match chunks.
2025-09-17 23:46:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.004s
2025-09-17 23:46:18 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:18 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-17 23:46:18 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 环评名录测试问答对.docx to knowledge base 26
2025-09-17 23:46:18 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.115s
2025-09-17 23:46:18 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-17 23:46:21 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-17 23:46:22 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 2 texts using model text-embedding-v4
2025-09-17 23:46:22 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-17 23:46:22 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 12 documents
2025-09-17 23:46:22 | INFO     | app.services.vector_store:add_documents:276 - Added 12 documents to collection kb_417d880d
2025-09-17 23:46:22 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:327 - Error processing file 90: Vectorization failed: number of vector IDs does not match chunks.
2025-09-17 23:46:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.005s
2025-09-17 23:46:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:33 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_26/2025/09/17/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-17 23:46:33 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 工作流和对话流的操作指南.docx to knowledge base 26
2025-09-17 23:46:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.117s
2025-09-17 23:46:33 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 967
2025-09-17 23:46:33 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:269 - File 工作流和对话流的操作指南.docx has no processable text, marked as completed.
2025-09-17 23:46:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/26/files - Client: 127.0.0.1
2025-09-17 23:46:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/26/files - Status: 200 - Time: 0.008s
2025-09-17 23:52:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.087s
2025-09-17 23:52:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.088s
2025-09-17 23:52:21 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/26 - Client: 127.0.0.1
2025-09-17 23:52:21 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/26 - Status: 200 - Time: 0.001s
2025-09-17 23:52:21 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/26 - Client: 127.0.0.1
2025-09-17 23:52:21 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_417d880d
2025-09-17 23:52:21 | INFO     | app.services.vector_store:delete_knowledge_base_collection:308 - Deleted Chroma collection (if exists): kb_417d880d
2025-09-17 23:52:21 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 测试1 (ID: 26)
2025-09-17 23:52:21 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/26 - Status: 200 - Time: 0.080s
2025-09-17 23:52:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-17 23:52:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.010s
2025-09-17 23:52:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:52:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:52:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:52:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:52:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.006s
2025-09-17 23:52:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-17 23:52:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.005s
2025-09-17 23:52:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.005s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-17 23:52:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.009s
2025-09-17 23:52:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:52:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:52:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-17 23:52:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.009s
2025-09-17 23:53:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-17 23:53:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-17 23:53:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-17 23:53:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-17 23:53:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.007s
2025-09-17 23:53:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.006s
2025-09-18 08:44:19 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 08:44:19 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 08:44:19 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 08:44:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 08:44:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.091s
2025-09-18 08:44:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 08:44:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 08:44:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.059s
2025-09-18 08:44:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.066s
2025-09-18 08:45:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 08:45:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-18 08:45:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 08:45:14 | INFO     | app.services.vector_store:create_knowledge_base_collection:302 - Ensured Chroma collection exists: kb_8d868d7e
2025-09-18 08:45:14 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 东西 (ID: 27)
2025-09-18 08:45:14 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.052s
2025-09-18 08:45:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:45:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 08:45:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.067s
2025-09-18 08:45:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.066s
2025-09-18 08:45:21 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:45:21 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.001s
2025-09-18 08:45:21 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:45:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-18 08:45:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 27
2025-09-18 08:45:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.040s
2025-09-18 08:45:21 | INFO     | app.services.text_splitter:create_chunks:255 - Created 29 chunks from text of length 12589
2025-09-18 08:45:23 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 08:45:26 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 08:45:28 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 7 texts using model text-embedding-v4
2025-09-18 08:45:28 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-18 08:45:28 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 27 documents
2025-09-18 08:45:28 | INFO     | app.services.vector_store:add_documents:276 - Added 27 documents to collection kb_8d868d7e
2025-09-18 08:45:28 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:327 - Error processing file 92: Vectorization failed: number of vector IDs does not match chunks.
2025-09-18 08:45:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:45:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.009s
2025-09-18 08:49:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 08:49:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-18 08:49:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:49:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 08:49:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.006s
2025-09-18 08:49:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.005s
2025-09-18 08:49:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:49:32 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 08:49:32 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:416 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 08:49:32 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.137s
2025-09-18 08:49:32 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 08:49:33 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-18 08:49:33 | DEBUG    | app.services.vector_store:add_documents:258 - First document chunk_id: None, type: None
2025-09-18 08:49:33 | INFO     | app.services.vector_store:add_documents:274 - Added batch 1: 1 documents
2025-09-18 08:49:33 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_8d868d7e
2025-09-18 08:49:33 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file cesi.pdf
2025-09-18 08:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 08:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.006s
2025-09-18 08:57:09 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:11:59 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:11:59 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:11:59 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:15:01 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:15:05 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:15:05 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:15:05 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:18:58 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:19:04 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:19:04 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:19:04 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:19:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:19:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-18 09:19:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:19:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 09:19:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.028s
2025-09-18 09:19:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.035s
2025-09-18 09:19:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:19:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.001s
2025-09-18 09:19:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:19:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:19:22 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:467 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 09:19:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.163s
2025-09-18 09:19:22 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: cannot import name 'create_chunks' from 'app.services.text_splitter' (C:\Users\97247\Desktop\ecoful-chat\backend\app\services\text_splitter.py)
Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 344
               │     └ 3
               └ <function _main at 0x0000024CC8733A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 344
           │    └ <function BaseProcess._bootstrap at 0x0000024CC863E3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=14320 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024CC863DA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=14320 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024CC833F100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14320 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=14320 started>
    │    └ <function subprocess_started at 0x0000024CCAB4EC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=14320 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=820, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024CC833F0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=820, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x0000024CCAB2F880>
           │       │   └ <uvicorn.server.Server object at 0x0000024CC833F0D0>
           │       └ <function run at 0x0000024CC8750940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024CCAC4C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024CCA42AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024CCA42AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024CCA430700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024CCA383A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024CCAC89120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024C81...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024C81343580>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024CCAC89120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024C81...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024C81...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024C813C2290>
          └ <fastapi.applications.FastAPI object at 0x0000024C81343580>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024C81522CB0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024C813C2230>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024C813C2290>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024C81522CB0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          └ <starlette.middleware.base._StreamingResponse object at 0x0000024C81461060>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
               │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0x0000024C8156BE80>
               │     └ <function create_task_group at 0x0000024CCABAD090>
               └ <module 'anyio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
          └ [ImportError("cannot import name 'create_chunks' from 'app.services.text_splitter' (C:\\Users\\97247\\Desktop\\ecoful-chat\\b...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
          └ functools.partial(<bound method _StreamingResponse.stream_response of <starlette.middleware.base._StreamingResponse object at...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
                                         └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024C81522CB0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
              │        │    └ <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x0000024C811D3D40>
              │        └ <starlette.middleware.base._StreamingResponse object at 0x0000024C81461060>
              └ b'{"id":94,"filename":"cesi.pdf","file_size":27529,"file_type":"pdf","processing_status":"pending","created_at":"2025-09-18T0...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
          └ ImportError("cannot import name 'create_chunks' from 'app.services.text_splitter' (C:\\Users\\97247\\Desktop\\ecoful-chat\\ba...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024C815228C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024C813C21D0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024C813C2230>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024C815228C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024C813C2170>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024C813C21D0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'content-length': '27716', 'sec-ch-ua-platform': '"Windows"', ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024C815228C0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000024CCBD9E440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024C813C2170>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024C813C2170...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024C813C2140>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024C813C2170>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024C815224D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024C813C20E0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024C813C2140>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024C815224D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000024C81394310>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024C813C20E0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024C815224D0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x0000024CCBD57880>
          └ APIRoute(path='/api/v1/knowledge-bases/{kb_id}/files', name='upload_file', methods=['POST'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024C815224D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024C8138AB90>
          └ APIRoute(path='/api/v1/knowledge-bases/{kb_id}/files', name='upload_file', methods=['POST'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
          │        │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024C815224D0>
          │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024C81522950>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          └ <starlette.responses.JSONResponse object at 0x0000024C8151AFE0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\responses.py", line 174, in __call__
    await self.background()
          │    └ <fastapi.background.BackgroundTasks object at 0x0000024C8156BFA0>
          └ <starlette.responses.JSONResponse object at 0x0000024C8151AFE0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\background.py", line 43, in __call__
    await task()
          └ <starlette.background.BackgroundTask object at 0x0000024C812E4100>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x0000024C812E4100>
          │                 │    │      │    └ (94, 27)
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x0000024C812E4100>
          │                 │    └ <function process_uploaded_file at 0x0000024C81354CA0>
          │                 └ <starlette.background.BackgroundTask object at 0x0000024C812E4100>
          └ <function run_in_threadpool at 0x0000024CCB073D00>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (94, 27)
                 │     │         │        └ <function process_uploaded_file at 0x0000024C81354CA0>
                 │     │         └ <function run_sync at 0x0000024CCAB6BBE0>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\site-packages\\anyio\\to_thread.py'>
                 └ <module 'anyio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\site-packages\\anyio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x0000024CCAB69630>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=ImportError("cannot import name 'create_chunks' from 'app.services.text_splitter' (C:\\Users\\9724...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (94, 27)
             │       │   └ <function process_uploaded_file at 0x0000024C81354CA0>
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024C815928C0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\knowledge_bases.py", line 229, in process_uploaded_file
    from app.services.text_splitter import create_chunks

ImportError: cannot import name 'create_chunks' from 'app.services.text_splitter' (C:\Users\97247\Desktop\ecoful-chat\backend\app\services\text_splitter.py)
2025-09-18 09:19:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:19:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.006s
2025-09-18 09:20:38 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:20:42 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:20:42 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:20:42 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:20:54 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:20:54 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:20:54 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:442 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 09:20:54 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.142s
2025-09-18 09:20:54 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 09:20:55 | ERROR    | app.services.vector_store:add_documents:307 - Failed to add documents to collection kb_8d868d7e: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:20:55 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:353 - Error processing file 95: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:20:55 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:20:58 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:20:58 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:20:58 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:20:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:20:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.062s
2025-09-18 09:21:07 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:21:13 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:21:13 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:21:13 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:21:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:21:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.056s
2025-09-18 09:21:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:21:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 09:21:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.059s
2025-09-18 09:21:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.065s
2025-09-18 09:21:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:21:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:21:22 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:442 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 09:21:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.187s
2025-09-18 09:21:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 09:21:22 | ERROR    | app.services.vector_store:add_documents:307 - Failed to add documents to collection kb_8d868d7e: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:21:22 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:353 - Error processing file 96: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:21:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:21:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.004s
2025-09-18 09:21:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:22:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-18 09:22:00 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:22:04 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:22:04 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:22:04 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:22:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 09:22:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:22:04 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:22:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.111s
2025-09-18 09:22:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.121s
2025-09-18 09:22:04 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:22:04 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:415 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 09:22:04 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.253s
2025-09-18 09:22:04 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 09:22:04 | ERROR    | app.services.vector_store:add_documents:307 - Failed to add documents to collection kb_8d868d7e: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:22:04 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:326 - Error processing file 97: Expected Embeddings to be non-empty list or numpy array, got [] in add.
2025-09-18 09:22:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:22:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.009s
2025-09-18 09:24:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/8/files - Client: 127.0.0.1
2025-09-18 09:24:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/8/files - Status: 200 - Time: 0.011s
2025-09-18 09:24:30 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-18 09:24:30 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-18 09:24:30 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.002s
2025-09-18 09:24:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-18 09:24:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.004s
2025-09-18 09:24:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:24:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-18 09:24:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1 - Client: 127.0.0.1
2025-09-18 09:24:49 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-18 09:24:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1 - Status: 404 - Time: 0.003s
2025-09-18 09:24:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/1 - Client: 127.0.0.1
2025-09-18 09:24:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/1 - Status: 200 - Time: 0.012s
2025-09-18 09:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-18 09:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.000s
2025-09-18 09:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-18 09:28:06 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:30:37 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:30:37 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:30:37 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:30:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:30:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-18 09:30:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:30:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 09:30:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.036s
2025-09-18 09:30:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.047s
2025-09-18 09:30:48 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:30:48 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.001s
2025-09-18 09:30:48 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:30:48 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_27/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:30:48 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:415 - Uploaded file cesi.pdf to knowledge base 27
2025-09-18 09:30:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.166s
2025-09-18 09:30:48 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 09:30:48 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:326 - Error processing file 98: ChromaVectorStore.add_documents() missing 1 required positional argument: 'metadatas'
2025-09-18 09:30:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:30:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.007s
2025-09-18 09:32:19 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:32:23 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:32:23 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:32:23 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:34:08 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 09:34:22 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 09:34:22 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 09:34:22 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 09:34:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:34:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-18 09:34:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/27/files - Client: 127.0.0.1
2025-09-18 09:34:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/27 - Client: 127.0.0.1
2025-09-18 09:34:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/27/files - Status: 200 - Time: 0.036s
2025-09-18 09:34:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/27 - Status: 200 - Time: 0.043s
2025-09-18 09:34:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/27 - Client: 127.0.0.1
2025-09-18 09:34:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/27 - Status: 200 - Time: 0.001s
2025-09-18 09:34:49 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/27 - Client: 127.0.0.1
2025-09-18 09:34:49 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_8d868d7e
2025-09-18 09:34:49 | INFO     | app.services.vector_store:delete_knowledge_base_collection:286 - Deleted Chroma collection (if exists): kb_8d868d7e
2025-09-18 09:34:49 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 东西 (ID: 27)
2025-09-18 09:34:49 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/27 - Status: 200 - Time: 0.076s
2025-09-18 09:35:11 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:35:11 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-18 09:35:11 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:35:11 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_04ea94b9
2025-09-18 09:35:11 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 菜谱 (ID: 28)
2025-09-18 09:35:11 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.124s
2025-09-18 09:35:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 09:35:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.006s
2025-09-18 09:35:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.006s
2025-09-18 09:35:17 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:17 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.000s
2025-09-18 09:35:17 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:17 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-18 09:35:17 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file cesi.docx to knowledge base 28
2025-09-18 09:35:17 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.056s
2025-09-18 09:35:17 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-18 09:35:17 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:268 - File cesi.docx has no processable text, marked as completed.
2025-09-18 09:35:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.005s
2025-09-18 09:35:21 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/4173adb871df29097aa8666c024135af.pdf
2025-09-18 09:35:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file cesi.pdf to knowledge base 28
2025-09-18 09:35:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.080s
2025-09-18 09:35:21 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-18 09:35:22 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-18 09:35:22 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 1 documents
2025-09-18 09:35:22 | INFO     | app.services.vector_store:add_documents:257 - Added 1 documents to collection kb_04ea94b9
2025-09-18 09:35:22 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file cesi.pdf
2025-09-18 09:35:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.005s
2025-09-18 09:35:25 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:25 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-18 09:35:25 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 测试.txt to knowledge base 28
2025-09-18 09:35:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.080s
2025-09-18 09:35:25 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-18 09:35:25 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:268 - File 测试.txt has no processable text, marked as completed.
2025-09-18 09:35:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.005s
2025-09-18 09:35:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:39 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/9f9b88853096546f530374cfd7ead8d3.docx
2025-09-18 09:35:39 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file Chatflow工作总结.docx to knowledge base 28
2025-09-18 09:35:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.219s
2025-09-18 09:35:39 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 1657
2025-09-18 09:35:40 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-18 09:35:40 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 1 documents
2025-09-18 09:35:40 | INFO     | app.services.vector_store:add_documents:257 - Added 1 documents to collection kb_04ea94b9
2025-09-18 09:35:40 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file Chatflow工作总结.docx
2025-09-18 09:35:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.007s
2025-09-18 09:35:53 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:53 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-18 09:35:53 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 28
2025-09-18 09:35:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.046s
2025-09-18 09:35:53 | INFO     | app.services.text_splitter:create_chunks:255 - Created 5 chunks from text of length 12589
2025-09-18 09:35:56 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 09:35:56 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 09:35:56 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_04ea94b9
2025-09-18 09:35:56 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-18 09:35:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:35:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.004s
2025-09-18 09:36:09 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:36:09 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-18 09:36:09 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 28
2025-09-18 09:36:09 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.083s
2025-09-18 09:36:10 | INFO     | app.services.text_splitter:create_chunks:255 - Created 6 chunks from text of length 21821
2025-09-18 09:36:14 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-18 09:36:14 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 6 documents
2025-09-18 09:36:14 | INFO     | app.services.vector_store:add_documents:257 - Added 6 documents to collection kb_04ea94b9
2025-09-18 09:36:14 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf
2025-09-18 09:36:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:36:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.002s
2025-09-18 09:41:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:41:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-18 09:41:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:07 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/4973e210a593ecaaba92001bb758f930.pdf
2025-09-18 09:41:07 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 环保智能体.pdf to knowledge base 28
2025-09-18 09:41:07 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.168s
2025-09-18 09:41:08 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-18 09:41:08 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:268 - File 环保智能体.pdf has no processable text, marked as completed.
2025-09-18 09:41:08 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-18 09:41:08 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 28
2025-09-18 09:41:08 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.267s
2025-09-18 09:41:08 | INFO     | app.services.text_splitter:create_chunks:255 - Created 6 chunks from text of length 21821
2025-09-18 09:41:08 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/12bd79bdd849e764ab9f345eaba2b433.pdf
2025-09-18 09:41:08 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 企业突发环境事件风险分级方法HJ941-2018.pdf to knowledge base 28
2025-09-18 09:41:08 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 1.159s
2025-09-18 09:41:12 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-18 09:41:13 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 6 documents
2025-09-18 09:41:13 | INFO     | app.services.vector_store:add_documents:257 - Added 6 documents to collection kb_04ea94b9
2025-09-18 09:41:13 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf
2025-09-18 09:41:13 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/1115a60019905121f4f9c92669e04fbd.pdf
2025-09-18 09:41:14 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 企业简介032701.pdf to knowledge base 28
2025-09-18 09:41:14 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 6.602s
2025-09-18 09:41:18 | INFO     | app.services.text_splitter:create_chunks:255 - Created 5 chunks from text of length 17626
2025-09-18 09:41:21 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 09:41:21 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 09:41:21 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_04ea94b9
2025-09-18 09:41:21 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 企业简介032701.pdf
2025-09-18 09:41:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-18 09:41:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.007s
2025-09-18 09:41:22 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:268 - File 企业突发环境事件风险分级方法HJ941-2018.pdf has no processable text, marked as completed.
2025-09-18 09:41:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.008s
2025-09-18 09:41:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.006s
2025-09-18 09:41:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.006s
2025-09-18 09:41:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/2fca4288de3be4aed51b9565c7d0df24.pdf
2025-09-18 09:41:22 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 1、华福涂料（江门）有限公司风险评估.pdf to knowledge base 28
2025-09-18 09:41:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 14.453s
2025-09-18 09:41:24 | INFO     | app.services.text_splitter:create_chunks:255 - Created 15 chunks from text of length 57265
2025-09-18 09:41:29 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 09:41:32 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 09:41:32 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 15 documents
2025-09-18 09:41:32 | INFO     | app.services.vector_store:add_documents:257 - Added 15 documents to collection kb_04ea94b9
2025-09-18 09:41:32 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 1、华福涂料（江门）有限公司风险评估.pdf
2025-09-18 09:41:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:41:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.006s
2025-09-18 09:42:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 09:42:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 09:42:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.017s
2025-09-18 09:42:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.016s
2025-09-18 09:42:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 09:42:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 09:42:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.008s
2025-09-18 09:42:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.014s
2025-09-18 09:43:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:43:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-18 09:59:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:59:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-18 09:59:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:59:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-18 09:59:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 09:59:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-18 10:04:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:04:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-18 10:04:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:04:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-18 10:15:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:15:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-18 10:16:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:16:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-18 10:17:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:17:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-18 10:17:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:17:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-18 10:17:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 10:17:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 10:17:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.013s
2025-09-18 10:17:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.020s
2025-09-18 10:17:36 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 10:17:36 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.000s
2025-09-18 10:17:36 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 10:17:36 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/0e1aa4282cd5203e57f7f24d5eb8aaa6.pdf
2025-09-18 10:17:36 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf to knowledge base 28
2025-09-18 10:17:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.075s
2025-09-18 10:17:36 | INFO     | app.services.text_splitter:create_chunks:255 - Created 3 chunks from text of length 8268
2025-09-18 10:17:38 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-18 10:17:38 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 3 documents
2025-09-18 10:17:38 | INFO     | app.services.vector_store:add_documents:257 - Added 3 documents to collection kb_04ea94b9
2025-09-18 10:17:38 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf
2025-09-18 10:17:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 10:17:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.011s
2025-09-18 10:18:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:18:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-18 10:18:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:18:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-18 10:46:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:46:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-18 10:46:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:46:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-18 10:46:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:46:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-18 10:57:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 10:57:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-18 11:13:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:13:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-18 11:13:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:13:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:13:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.038s
2025-09-18 11:13:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.051s
2025-09-18 11:14:01 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:14:01 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-18 11:14:01 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:14:01 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_d0483fcb
2025-09-18 11:14:01 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 5 (ID: 29)
2025-09-18 11:14:01 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-18 11:14:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:14:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.006s
2025-09-18 11:14:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.005s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.000s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.003s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.003s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.002s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.003s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.004s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.002s
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/e2a710ca65532efb16f85d56a9c80eaa.pdf
2025-09-18 11:14:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/0feec64e43a8d2946dcb7c5df15d718d.pdf
2025-09-18 11:14:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/8dd17a1d6d3de3bd8cccea4db21a4c00.pdf
2025-09-18 11:14:14 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/499330e320f56896f60e5a952202d3a8.pdf
2025-09-18 11:14:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/c8dc05f287cd5aa278faa051a835e502.pdf
2025-09-18 11:14:15 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/79c32bf8dc5697255a76d2931be8be68.pdf
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 畜禽规模养殖污染防治条例.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.417s
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 建设项目环境保护管理条例.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.420s
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 规划环境影响评价条例.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.429s
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 地下水管理条例.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.432s
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 排污许可管理条例.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.430s
2025-09-18 11:14:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 全国人民代表大会常务委员会关于积极应对气候变化的决议.pdf to knowledge base 29
2025-09-18 11:14:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.438s
2025-09-18 11:14:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 5 chunks from text of length 4393
2025-09-18 11:14:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 5 chunks from text of length 4948
2025-09-18 11:14:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 9 chunks from text of length 8223
2025-09-18 11:14:15 | INFO     | app.services.text_splitter:create_chunks:255 - Created 5 chunks from text of length 4276
2025-09-18 11:14:16 | INFO     | app.services.text_splitter:create_chunks:255 - Created 4 chunks from text of length 3698
2025-09-18 11:14:16 | INFO     | app.services.text_splitter:create_chunks:255 - Created 11 chunks from text of length 10071
2025-09-18 11:14:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 11:14:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_d0483fcb
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_d0483fcb
2025-09-18 11:14:17 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 规划环境影响评价条例.pdf
2025-09-18 11:14:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 4 texts using model text-embedding-v4
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 4 documents
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:257 - Added 4 documents to collection kb_d0483fcb
2025-09-18 11:14:17 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 畜禽规模养殖污染防治条例.pdf
2025-09-18 11:14:17 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 9 texts using model text-embedding-v4
2025-09-18 11:14:17 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/80e3339847141b8f3e81305bdb2669bb.pdf
2025-09-18 11:14:17 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 9 documents
2025-09-18 11:14:17 | INFO     | app.services.vector_store:add_documents:257 - Added 9 documents to collection kb_d0483fcb
2025-09-18 11:14:18 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 全国人民代表大会常务委员会关于积极应对气候变化的决议.pdf
2025-09-18 11:14:18 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 中华人民共和国草原法.pdf to knowledge base 29
2025-09-18 11:14:18 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.094s
2025-09-18 11:14:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.006s
2025-09-18 11:14:18 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 11:14:18 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_d0483fcb
2025-09-18 11:14:18 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可管理条例.pdf
2025-09-18 11:14:18 | INFO     | app.services.text_splitter:create_chunks:255 - Created 11 chunks from text of length 10098
2025-09-18 11:14:18 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 11:14:18 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 建设项目环境保护管理条例.pdf
2025-09-18 11:14:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.006s
2025-09-18 11:14:19 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-18 11:14:19 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 11 documents
2025-09-18 11:14:19 | INFO     | app.services.vector_store:add_documents:257 - Added 11 documents to collection kb_d0483fcb
2025-09-18 11:14:19 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 地下水管理条例.pdf
2025-09-18 11:14:20 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 11:14:21 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-18 11:14:21 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 11 documents
2025-09-18 11:14:21 | INFO     | app.services.vector_store:add_documents:257 - Added 11 documents to collection kb_d0483fcb
2025-09-18 11:14:21 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 中华人民共和国草原法.pdf
2025-09-18 11:14:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.005s
2025-09-18 11:14:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.005s
2025-09-18 11:14:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.007s
2025-09-18 11:14:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.004s
2025-09-18 11:14:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.005s
2025-09-18 11:14:56 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:56 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-18 11:14:57 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 环评名录查询使用教程.docx to knowledge base 29
2025-09-18 11:14:57 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.111s
2025-09-18 11:14:57 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-18 11:14:57 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:268 - File 环评名录查询使用教程.docx has no processable text, marked as completed.
2025-09-18 11:14:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:14:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.009s
2025-09-18 11:15:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:15:06 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-18 11:15:06 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 29
2025-09-18 11:15:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.024s
2025-09-18 11:15:07 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-18 11:15:09 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-18 11:15:11 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-18 11:15:11 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 16 documents
2025-09-18 11:15:11 | INFO     | app.services.vector_store:add_documents:257 - Added 16 documents to collection kb_d0483fcb
2025-09-18 11:15:11 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-18 11:15:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:15:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.008s
2025-09-18 11:15:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:15:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-18 11:16:35 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:16:35 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.000s
2025-09-18 11:16:35 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:16:35 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 5 (ID: 29)
2025-09-18 11:16:35 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.012s
2025-09-18 11:16:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:16:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:16:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.007s
2025-09-18 11:16:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.008s
2025-09-18 11:17:07 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:17:07 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_29/2025/09/18/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-18 11:17:07 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 29
2025-09-18 11:17:07 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.029s
2025-09-18 11:17:07 | INFO     | app.services.text_splitter:create_chunks:255 - Created 8 chunks from text of length 12589
2025-09-18 11:17:09 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 8 texts using model text-embedding-v4
2025-09-18 11:17:09 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 8 documents
2025-09-18 11:17:09 | INFO     | app.services.vector_store:add_documents:257 - Added 8 documents to collection kb_d0483fcb
2025-09-18 11:17:09 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-18 11:17:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:17:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.005s
2025-09-18 11:17:48 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:17:48 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 5 (ID: 29)
2025-09-18 11:17:48 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.016s
2025-09-18 11:18:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:18:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:18:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.009s
2025-09-18 11:18:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.010s
2025-09-18 11:18:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:18:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:18:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.007s
2025-09-18 11:18:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-18 11:19:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:19:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-18 11:19:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:19:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-18 11:20:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:20:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-18 11:20:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:20:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.056s
2025-09-18 11:20:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:20:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:20:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.110s
2025-09-18 11:20:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.108s
2025-09-18 11:20:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:20:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:20:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.016s
2025-09-18 11:20:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.019s
2025-09-18 11:20:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:20:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:20:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.020s
2025-09-18 11:20:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.020s
2025-09-18 11:20:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:20:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:20:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.008s
2025-09-18 11:20:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.017s
2025-09-18 11:20:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:20:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:20:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.015s
2025-09-18 11:20:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.014s
2025-09-18 11:20:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:20:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-18 11:21:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:21:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-18 11:23:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:23:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-18 11:23:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:23:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:23:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.015s
2025-09-18 11:23:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.015s
2025-09-18 11:24:05 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:24:05 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 5 (ID: 29)
2025-09-18 11:24:05 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.030s
2025-09-18 11:24:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:24:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:24:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.008s
2025-09-18 11:24:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.013s
2025-09-18 11:24:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:24:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:24:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.016s
2025-09-18 11:24:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.018s
2025-09-18 11:24:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:24:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:24:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.004s
2025-09-18 11:24:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.034s
2025-09-18 11:24:13 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-18 11:24:13 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.000s
2025-09-18 11:24:13 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-18 11:24:13 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 菜谱 (ID: 28)
2025-09-18 11:24:13 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.044s
2025-09-18 11:24:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:24:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:24:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.020s
2025-09-18 11:24:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.019s
2025-09-18 11:24:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:24:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:24:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.012s
2025-09-18 11:24:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-18 11:24:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:24:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.020s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.024s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.012s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.016s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.022s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.026s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-18 11:24:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.010s
2025-09-18 11:25:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:25:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-18 11:25:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:25:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-18 11:27:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:27:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-18 11:29:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:29:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.078s
2025-09-18 11:31:53 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-18 11:41:21 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-18 11:41:21 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-18 11:41:21 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-18 11:41:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:41:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.097s
2025-09-18 11:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/29/files - Client: 127.0.0.1
2025-09-18 11:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/29 - Client: 127.0.0.1
2025-09-18 11:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/29/files - Status: 200 - Time: 0.063s
2025-09-18 11:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/29 - Status: 200 - Time: 0.070s
2025-09-18 11:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.017s
2025-09-18 11:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.014s
2025-09-18 11:41:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:41:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:41:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.016s
2025-09-18 11:41:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.013s
2025-09-18 11:41:40 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:41:40 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.002s
2025-09-18 11:41:40 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/29 - Client: 127.0.0.1
2025-09-18 11:41:40 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_d0483fcb
2025-09-18 11:41:40 | INFO     | app.services.vector_store:delete_knowledge_base_collection:286 - Deleted Chroma collection (if exists): kb_d0483fcb
2025-09-18 11:41:40 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 5 (ID: 29)
2025-09-18 11:41:40 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/29 - Status: 200 - Time: 0.167s
2025-09-18 11:41:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:41:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:41:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.015s
2025-09-18 11:41:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.013s
2025-09-18 11:41:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:41:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:41:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-18 11:41:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.006s
2025-09-18 11:41:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 11:41:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 11:41:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.016s
2025-09-18 11:41:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.016s
2025-09-18 11:41:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 11:41:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 11:41:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.017s
2025-09-18 11:41:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.013s
2025-09-18 11:52:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:52:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.048s
2025-09-18 11:52:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 11:52:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-18 12:25:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:25:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-18 12:25:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:25:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 12:25:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.034s
2025-09-18 12:25:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.050s
2025-09-18 12:26:03 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:26:03 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.001s
2025-09-18 12:26:03 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:26:03 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-18 12:26:03 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 环评名录测试问答对.docx to knowledge base 28
2025-09-18 12:26:03 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.052s
2025-09-18 12:26:03 | INFO     | app.services.text_splitter:create_chunks:255 - Created 9 chunks from text of length 31833
2025-09-18 12:26:06 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 5 texts using model text-embedding-v4
2025-09-18 12:26:07 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 5 documents
2025-09-18 12:26:07 | INFO     | app.services.vector_store:add_documents:257 - Added 5 documents to collection kb_04ea94b9
2025-09-18 12:26:07 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 环评名录测试问答对.docx
2025-09-18 12:26:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:26:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.009s
2025-09-18 12:26:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 12:26:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 12:26:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.008s
2025-09-18 12:26:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-18 12:26:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:26:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 12:26:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.009s
2025-09-18 12:26:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.011s
2025-09-18 12:43:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:43:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-18 12:43:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:43:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-18 12:47:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:47:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-18 12:48:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:48:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-18 12:48:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 12:48:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-18 12:48:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 12:48:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 12:48:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.022s
2025-09-18 12:48:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.023s
2025-09-18 14:04:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:04:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-18 14:04:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:04:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-18 14:09:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:09:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-18 14:15:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:15:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-18 14:15:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:15:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.087s
2025-09-18 14:48:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:48:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-18 14:48:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:48:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.078s
2025-09-18 14:50:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:50:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-18 14:51:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 14:51:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 14:51:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.011s
2025-09-18 14:51:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.020s
2025-09-18 14:51:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-18 14:51:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-18 14:51:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.009s
2025-09-18 14:51:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.011s
2025-09-18 14:51:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 14:51:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 14:51:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.010s
2025-09-18 14:51:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.019s
2025-09-18 14:53:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:53:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-18 14:53:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:53:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-18 14:56:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 14:56:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-18 15:00:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:00:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-18 15:00:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:00:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.050s
2025-09-18 15:00:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 15:00:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 15:00:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.007s
2025-09-18 15:00:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.012s
2025-09-18 15:00:26 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 15:00:26 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.001s
2025-09-18 15:00:26 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 15:00:26 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_28/2025/09/18/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-18 15:00:26 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 28
2025-09-18 15:00:26 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.083s
2025-09-18 15:00:27 | INFO     | app.services.text_splitter:create_chunks:255 - Created 6 chunks from text of length 21821
2025-09-18 15:00:30 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-18 15:00:30 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 6 documents
2025-09-18 15:00:30 | INFO     | app.services.vector_store:add_documents:257 - Added 6 documents to collection kb_04ea94b9
2025-09-18 15:00:30 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf
2025-09-18 15:00:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 15:00:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.008s
2025-09-18 15:10:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:10:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-18 15:10:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:10:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.088s
2025-09-18 15:11:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:11:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-18 15:57:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 15:57:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-18 16:07:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 16:07:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-18 16:07:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 16:07:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.086s
2025-09-18 16:07:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 16:07:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 16:07:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.015s
2025-09-18 16:07:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.025s
2025-09-18 17:57:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 17:57:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.047s
2025-09-18 17:57:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-18 17:57:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-18 17:57:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.070s
2025-09-18 17:57:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.078s
2025-09-18 18:00:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-18 18:00:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 08:45:49 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 08:45:49 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 08:45:49 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 08:48:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 08:48:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.125s
2025-09-19 08:48:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 08:48:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 08:48:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.078s
2025-09-19 08:48:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.087s
2025-09-19 08:53:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 08:53:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 08:53:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 08:53:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 09:29:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:29:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-19 09:29:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:29:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-19 09:29:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:29:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 09:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:29:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 09:29:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:29:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 09:34:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 09:34:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-19 09:46:15 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 10:22:03 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 10:22:03 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 10:22:03 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 14:22:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:22:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.071s
2025-09-19 14:22:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:22:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:22:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.067s
2025-09-19 14:22:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.083s
2025-09-19 14:22:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:22:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:22:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.013s
2025-09-19 14:22:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.024s
2025-09-19 14:22:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:22:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:22:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.010s
2025-09-19 14:22:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.122s
2025-09-19 14:22:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:22:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:22:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.013s
2025-09-19 14:22:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-19 14:22:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:22:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:22:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.022s
2025-09-19 14:22:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.021s
2025-09-19 14:22:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:22:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:22:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.011s
2025-09-19 14:22:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.015s
2025-09-19 14:22:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:22:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:22:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.020s
2025-09-19 14:22:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.024s
2025-09-19 14:22:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:22:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:22:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.011s
2025-09-19 14:22:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.009s
2025-09-19 14:22:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:22:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:22:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.014s
2025-09-19 14:22:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.018s
2025-09-19 14:22:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:22:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 14:22:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:22:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 14:23:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:23:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-19 14:23:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-19 14:23:29 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:29 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.000s
2025-09-19 14:23:29 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:29 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_25/2025/09/19/0e1aa4282cd5203e57f7f24d5eb8aaa6.pdf
2025-09-19 14:23:29 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf to knowledge base 25
2025-09-19 14:23:29 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.084s
2025-09-19 14:23:29 | INFO     | app.services.text_splitter:create_chunks:255 - Created 4 chunks from text of length 8268
2025-09-19 14:23:31 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 4 texts using model text-embedding-v4
2025-09-19 14:23:31 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 4 documents
2025-09-19 14:23:31 | INFO     | app.services.vector_store:add_documents:257 - Added 4 documents to collection kb_b32e8114
2025-09-19 14:23:31 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf
2025-09-19 14:23:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.004s
2025-09-19 14:23:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:23:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:23:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.013s
2025-09-19 14:23:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.021s
2025-09-19 14:23:43 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 14:23:43 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.003s
2025-09-19 14:23:43 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 14:23:43 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 菜谱 (ID: 28)
2025-09-19 14:23:43 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.024s
2025-09-19 14:23:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:23:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-19 14:23:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-19 14:23:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:23:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:23:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.015s
2025-09-19 14:23:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.017s
2025-09-19 14:23:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:23:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.009s
2025-09-19 14:23:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-19 14:23:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:23:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:23:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.016s
2025-09-19 14:23:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.020s
2025-09-19 14:23:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:23:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:23:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.018s
2025-09-19 14:23:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.019s
2025-09-19 14:24:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:24:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 14:24:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:24:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:24:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.016s
2025-09-19 14:24:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.023s
2025-09-19 14:24:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:24:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-19 14:24:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:24:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 14:25:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:25:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 14:25:52 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:25:52 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-19 14:25:52 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:25:52 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_dc204ff2
2025-09-19 14:25:52 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 1 (ID: 30)
2025-09-19 14:25:52 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-19 14:25:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/30/files - Client: 127.0.0.1
2025-09-19 14:25:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/30 - Client: 127.0.0.1
2025-09-19 14:25:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/30/files - Status: 200 - Time: 0.005s
2025-09-19 14:25:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/30 - Status: 200 - Time: 0.006s
2025-09-19 14:25:55 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:25:55 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_292f2e4b
2025-09-19 14:25:55 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 2 (ID: 31)
2025-09-19 14:25:55 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-19 14:25:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 14:25:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 14:25:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.006s
2025-09-19 14:25:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.006s
2025-09-19 14:25:57 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:25:57 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_458538fb
2025-09-19 14:25:57 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 3 (ID: 32)
2025-09-19 14:25:57 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.054s
2025-09-19 14:25:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 14:25:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 14:25:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.005s
2025-09-19 14:25:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.005s
2025-09-19 14:26:00 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:26:00 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_31aa62dc
2025-09-19 14:26:00 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 4 (ID: 33)
2025-09-19 14:26:00 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-19 14:26:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 14:26:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 14:26:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.006s
2025-09-19 14:26:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.007s
2025-09-19 14:26:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:26:06 | INFO     | app.services.vector_store:create_knowledge_base_collection:280 - Ensured Chroma collection exists: kb_a610ecca
2025-09-19 14:26:06 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:86 - Created knowledge base: 5 (ID: 34)
2025-09-19 14:26:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-19 14:26:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:26:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 14:26:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.103s
2025-09-19 14:26:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.102s
2025-09-19 14:26:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:26:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:26:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.005s
2025-09-19 14:26:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.010s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.006s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.006s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.005s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.010s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/30/files - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/30 - Client: 127.0.0.1
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/30/files - Status: 200 - Time: 0.006s
2025-09-19 14:26:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/30 - Status: 200 - Time: 0.005s
2025-09-19 14:26:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 14:26:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 14:26:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.005s
2025-09-19 14:26:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.006s
2025-09-19 14:26:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 14:26:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 14:26:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.009s
2025-09-19 14:26:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.005s
2025-09-19 14:26:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 14:26:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 14:26:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.005s
2025-09-19 14:26:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.004s
2025-09-19 14:26:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:26:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 14:26:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.006s
2025-09-19 14:26:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.005s
2025-09-19 14:27:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.030s
2025-09-19 14:27:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-19 14:27:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-19 14:27:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 14:27:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 14:27:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:27:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 14:28:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:28:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 14:31:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 14:31:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 14:31:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.008s
2025-09-19 14:31:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.007s
2025-09-19 14:32:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:32:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 14:32:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:32:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 14:32:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 14:32:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:32:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.013s
2025-09-19 14:32:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.018s
2025-09-19 14:32:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:32:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-19 14:32:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:32:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:32:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.066s
2025-09-19 14:32:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.082s
2025-09-19 14:33:07 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-19 14:33:07 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.000s
2025-09-19 14:33:07 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-19 14:33:07 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-19 14:33:07 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.024s
2025-09-19 14:33:27 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-19 14:33:27 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 测试知识库 (ID: 25)
2025-09-19 14:33:27 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.029s
2025-09-19 14:33:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:33:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:33:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-19 14:33:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.012s
2025-09-19 14:33:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:33:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:33:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.010s
2025-09-19 14:33:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.018s
2025-09-19 14:33:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/30/files - Client: 127.0.0.1
2025-09-19 14:33:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/30 - Client: 127.0.0.1
2025-09-19 14:33:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/30 - Status: 200 - Time: 0.012s
2025-09-19 14:33:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/30/files - Status: 200 - Time: 0.012s
2025-09-19 14:33:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 14:33:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 14:33:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.009s
2025-09-19 14:33:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.011s
2025-09-19 14:33:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 14:33:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 14:33:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-19 14:33:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.015s
2025-09-19 14:33:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 14:33:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 14:33:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.023s
2025-09-19 14:33:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.026s
2025-09-19 14:33:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/30/files - Client: 127.0.0.1
2025-09-19 14:33:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/30 - Client: 127.0.0.1
2025-09-19 14:33:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/30/files - Status: 200 - Time: 0.015s
2025-09-19 14:33:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/30 - Status: 200 - Time: 0.016s
2025-09-19 14:33:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:33:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 14:39:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:39:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.044s
2025-09-19 14:41:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 14:41:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.042s
2025-09-19 14:41:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.052s
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.005s
2025-09-19 14:41:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.005s
2025-09-19 14:41:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.003s
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:39 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_34/2025/09/19/0e1aa4282cd5203e57f7f24d5eb8aaa6.pdf
2025-09-19 14:41:39 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf to knowledge base 34
2025-09-19 14:41:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.084s
2025-09-19 14:41:39 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_34/2025/09/19/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-19 14:41:40 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_34/2025/09/19/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-19 14:41:40 | INFO     | app.services.text_splitter:create_chunks:255 - Created 9 chunks from text of length 8268
2025-09-19 14:41:40 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file demo.pdf to knowledge base 34
2025-09-19 14:41:40 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.425s
2025-09-19 14:41:40 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 34
2025-09-19 14:41:40 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.427s
2025-09-19 14:41:41 | INFO     | app.services.text_splitter:create_chunks:255 - Created 23 chunks from text of length 21821
2025-09-19 14:41:42 | INFO     | app.services.text_splitter:create_chunks:255 - Created 23 chunks from text of length 21821
2025-09-19 14:41:42 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 9 texts using model text-embedding-v4
2025-09-19 14:41:42 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 9 documents
2025-09-19 14:41:42 | INFO     | app.services.vector_store:add_documents:257 - Added 9 documents to collection kb_a610ecca
2025-09-19 14:41:42 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 《畜禽养殖业污染物排放标准》(DB44 613-2024).pdf
2025-09-19 14:41:44 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-19 14:41:44 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-19 14:41:46 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-19 14:41:46 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-19 14:41:47 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-19 14:41:47 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 23 documents
2025-09-19 14:41:47 | INFO     | app.services.vector_store:add_documents:257 - Added 23 documents to collection kb_a610ecca
2025-09-19 14:41:47 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-19 14:41:47 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf
2025-09-19 14:41:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.007s
2025-09-19 14:41:47 | INFO     | app.services.vector_store:add_documents:255 - Added batch 1: 23 documents
2025-09-19 14:41:47 | INFO     | app.services.vector_store:add_documents:257 - Added 23 documents to collection kb_a610ecca
2025-09-19 14:41:48 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file demo.pdf
2025-09-19 14:41:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.009s
2025-09-19 14:41:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:41:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.027s
2025-09-19 14:43:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:43:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 14:43:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:43:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 14:45:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:45:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-19 14:45:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 14:45:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 14:45:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.024s
2025-09-19 14:45:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.027s
2025-09-19 14:51:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:51:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-19 14:51:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 14:51:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 14:51:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.026s
2025-09-19 14:51:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.036s
2025-09-19 14:55:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 14:55:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 14:56:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 14:56:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 14:56:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.057s
2025-09-19 14:56:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.059s
2025-09-19 14:56:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 14:56:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 14:56:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.008s
2025-09-19 14:56:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.007s
2025-09-19 15:07:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:07:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-19 15:07:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:07:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-19 15:07:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:07:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 15:13:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:13:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-19 15:13:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 15:13:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 15:13:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.028s
2025-09-19 15:13:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.045s
2025-09-19 15:14:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:14:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 15:14:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 15:14:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 15:14:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.006s
2025-09-19 15:14:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.008s
2025-09-19 15:15:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:15:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 15:15:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 15:15:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 15:15:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.010s
2025-09-19 15:15:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.009s
2025-09-19 15:16:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:16:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 15:16:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:16:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 15:16:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 15:16:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 15:16:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.007s
2025-09-19 15:16:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.008s
2025-09-19 15:18:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:18:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 15:24:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 15:24:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 15:24:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.114s
2025-09-19 15:24:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.107s
2025-09-19 15:24:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/30/files - Client: 127.0.0.1
2025-09-19 15:24:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/30 - Client: 127.0.0.1
2025-09-19 15:24:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/30/files - Status: 200 - Time: 0.010s
2025-09-19 15:24:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/30 - Status: 200 - Time: 0.011s
2025-09-19 15:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 15:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 15:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.024s
2025-09-19 15:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.027s
2025-09-19 15:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 15:24:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 15:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.014s
2025-09-19 15:24:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.019s
2025-09-19 15:25:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 15:25:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 15:25:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.014s
2025-09-19 15:25:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.012s
2025-09-19 15:25:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:25:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 15:25:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 15:25:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 15:25:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.010s
2025-09-19 15:25:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.007s
2025-09-19 15:25:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:25:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 15:25:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 15:25:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 15:25:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.014s
2025-09-19 15:25:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.015s
2025-09-19 15:25:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:25:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 15:27:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/32/files - Client: 127.0.0.1
2025-09-19 15:27:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32 - Client: 127.0.0.1
2025-09-19 15:27:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32 - Status: 200 - Time: 0.011s
2025-09-19 15:27:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/32/files - Status: 200 - Time: 0.013s
2025-09-19 15:27:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/33/files - Client: 127.0.0.1
2025-09-19 15:27:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/33 - Client: 127.0.0.1
2025-09-19 15:27:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/33/files - Status: 200 - Time: 0.015s
2025-09-19 15:27:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/33 - Status: 200 - Time: 0.014s
2025-09-19 15:27:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 15:27:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 15:27:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.015s
2025-09-19 15:27:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.013s
2025-09-19 15:27:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:27:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 15:28:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:28:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 15:28:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:28:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 15:28:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 15:28:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 15:28:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.015s
2025-09-19 15:28:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.014s
2025-09-19 15:28:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:28:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 15:29:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:29:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 15:29:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:29:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 15:29:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:29:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 15:29:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/31/files - Client: 127.0.0.1
2025-09-19 15:29:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/31 - Client: 127.0.0.1
2025-09-19 15:29:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/31 - Status: 200 - Time: 0.010s
2025-09-19 15:29:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/31/files - Status: 200 - Time: 0.013s
2025-09-19 15:32:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:32:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.080s
2025-09-19 15:45:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:45:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-19 15:46:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:46:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-19 15:46:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:46:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 15:47:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 15:47:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 15:47:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 15:47:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 15:47:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 15:47:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 15:47:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 15:47:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:47:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 15:49:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:49:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 15:49:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:49:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 15:50:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:50:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 15:50:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:50:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.058s
2025-09-19 15:50:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:50:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 15:58:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 15:58:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-19 16:00:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:00:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-19 16:00:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:00:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-19 16:05:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:05:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 16:05:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:05:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.071s
2025-09-19 16:05:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/34/files - Client: 127.0.0.1
2025-09-19 16:05:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/34 - Client: 127.0.0.1
2025-09-19 16:05:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/34/files - Status: 200 - Time: 0.020s
2025-09-19 16:05:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/34 - Status: 200 - Time: 0.019s
2025-09-19 16:26:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:26:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-19 16:26:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:26:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-19 16:26:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:26:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 16:27:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:27:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 16:27:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:27:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 16:30:34 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:30:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 16:30:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:30:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 16:30:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-19 16:30:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.012s
2025-09-19 16:30:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 16:30:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.007s
2025-09-19 16:30:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:30:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.005s
2025-09-19 16:30:49 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:30:49 | ERROR    | app.api.v1.endpoints.chat:ask_question:118 - Error in chat: 'VectorStoreManager' object has no attribute 'search_knowledge_base'
2025-09-19 16:30:49 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to process question
2025-09-19 16:30:49 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.010s
2025-09-19 16:32:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 16:32:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.061s
2025-09-19 16:32:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:32:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.046s
2025-09-19 16:32:35 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:32:35 | ERROR    | app.api.v1.endpoints.chat:ask_question:118 - Error in chat: 'VectorStoreManager' object has no attribute 'search_knowledge_base'
2025-09-19 16:32:35 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to process question
2025-09-19 16:32:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.012s
2025-09-19 16:33:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:33:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 16:33:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:33:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-19 16:34:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-19 16:34:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.011s
2025-09-19 16:34:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 16:34:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.006s
2025-09-19 16:34:04 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:34:04 | ERROR    | app.api.v1.endpoints.chat:ask_question:118 - Error in chat: 'VectorStoreManager' object has no attribute 'search_knowledge_base'
2025-09-19 16:34:04 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to process question
2025-09-19 16:34:04 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.012s
2025-09-19 16:44:38 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:44:38 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-19 16:44:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:44:38 | ERROR    | app.api.v1.endpoints.chat:ask_question:118 - Error in chat: 'VectorStoreManager' object has no attribute 'search_knowledge_base'
2025-09-19 16:44:38 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 500 - Failed to process question
2025-09-19 16:44:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.042s
2025-09-19 16:49:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:49:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.056s
2025-09-19 16:49:30 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 16:49:36 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 16:49:36 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 16:49:36 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 16:49:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 16:49:36 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:49:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.089s
2025-09-19 16:49:36 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:49:36 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:49:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:49:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.010s
2025-09-19 16:49:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.127s
2025-09-19 16:49:53 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:49:53 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:49:53 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:49:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.055s
2025-09-19 16:50:13 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:50:13 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:50:13 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:50:13 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.053s
2025-09-19 16:50:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:50:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-19 16:50:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 16:50:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:50:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.015s
2025-09-19 16:50:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.026s
2025-09-19 16:50:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:50:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-19 16:50:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:50:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-19 16:50:55 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/30 - Client: 127.0.0.1
2025-09-19 16:50:55 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/30 - Status: 200 - Time: 0.005s
2025-09-19 16:50:55 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/30 - Client: 127.0.0.1
2025-09-19 16:50:55 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_dc204ff2
2025-09-19 16:50:55 | INFO     | app.services.vector_store:delete_knowledge_base_collection:349 - Deleted Chroma collection (if exists): kb_dc204ff2
2025-09-19 16:50:55 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 1 (ID: 30)
2025-09-19 16:50:55 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/30 - Status: 200 - Time: 0.079s
2025-09-19 16:50:58 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/31 - Client: 127.0.0.1
2025-09-19 16:50:58 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/31 - Status: 200 - Time: 0.002s
2025-09-19 16:50:58 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/31 - Client: 127.0.0.1
2025-09-19 16:50:58 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_292f2e4b
2025-09-19 16:50:58 | INFO     | app.services.vector_store:delete_knowledge_base_collection:349 - Deleted Chroma collection (if exists): kb_292f2e4b
2025-09-19 16:50:58 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 2 (ID: 31)
2025-09-19 16:50:58 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/31 - Status: 200 - Time: 0.044s
2025-09-19 16:51:00 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/32 - Client: 127.0.0.1
2025-09-19 16:51:00 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/32 - Status: 200 - Time: 0.002s
2025-09-19 16:51:00 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/32 - Client: 127.0.0.1
2025-09-19 16:51:00 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_458538fb
2025-09-19 16:51:00 | INFO     | app.services.vector_store:delete_knowledge_base_collection:349 - Deleted Chroma collection (if exists): kb_458538fb
2025-09-19 16:51:00 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 3 (ID: 32)
2025-09-19 16:51:00 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/32 - Status: 200 - Time: 0.033s
2025-09-19 16:51:02 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/33 - Client: 127.0.0.1
2025-09-19 16:51:02 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/33 - Status: 200 - Time: 0.002s
2025-09-19 16:51:02 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/33 - Client: 127.0.0.1
2025-09-19 16:51:02 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_31aa62dc
2025-09-19 16:51:02 | INFO     | app.services.vector_store:delete_knowledge_base_collection:349 - Deleted Chroma collection (if exists): kb_31aa62dc
2025-09-19 16:51:02 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 4 (ID: 33)
2025-09-19 16:51:02 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/33 - Status: 200 - Time: 0.059s
2025-09-19 16:51:04 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/34 - Client: 127.0.0.1
2025-09-19 16:51:04 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/34 - Status: 200 - Time: 0.003s
2025-09-19 16:51:04 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/34 - Client: 127.0.0.1
2025-09-19 16:51:04 | INFO     | app.services.vector_store:delete_collection:159 - Deleted Chroma collection: kb_a610ecca
2025-09-19 16:51:04 | INFO     | app.services.vector_store:delete_knowledge_base_collection:349 - Deleted Chroma collection (if exists): kb_a610ecca
2025-09-19 16:51:04 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:179 - Deleted knowledge base: 5 (ID: 34)
2025-09-19 16:51:04 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/34 - Status: 200 - Time: 0.056s
2025-09-19 16:51:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 16:51:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:51:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.013s
2025-09-19 16:51:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.016s
2025-09-19 16:51:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 16:51:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:51:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.019s
2025-09-19 16:51:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.029s
2025-09-19 16:51:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:51:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-19 16:51:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:51:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 16:51:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 16:51:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.001s
2025-09-19 16:51:22 | INFO     | app.main:log_requests:45 - Request started: PUT /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 16:51:22 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:142 - Updated knowledge base: 环评名录 (ID: 28)
2025-09-19 16:51:22 | INFO     | app.main:log_requests:56 - Request completed: PUT /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.029s
2025-09-19 16:51:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 16:51:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 16:51:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 16:51:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.009s
2025-09-19 16:51:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 16:51:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.008s
2025-09-19 16:51:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:51:38 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:51:38 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:51:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.065s
2025-09-19 16:52:19 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:52:19 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:52:19 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:52:19 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.048s
2025-09-19 16:52:43 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 16:52:43 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:52:43 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 16:52:43 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.042s
2025-09-19 17:00:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-19 17:00:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-19 17:00:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-19 17:00:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 17:00:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-19 17:00:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-19 17:00:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-19 17:00:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:00:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-19 17:01:59 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 17:02:03 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 17:02:03 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 17:02:03 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 17:02:06 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 17:07:22 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 17:07:22 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 17:07:22 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 17:07:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:07:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.086s
2025-09-19 17:07:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 17:07:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.013s
2025-09-19 17:07:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:07:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.014s
2025-09-19 17:07:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-19 17:07:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.017s
2025-09-19 17:07:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:07:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-19 17:07:49 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:07:49 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:07:49 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:07:49 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.105s
2025-09-19 17:09:01 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:09:01 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:09:01 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:09:01 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.042s
2025-09-19 17:09:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:09:50 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:09:50 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:09:50 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.048s
2025-09-19 17:10:58 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 17:11:02 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 17:11:02 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 17:11:02 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 17:11:33 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:11:33 | ERROR    | app.services.vector_store:get_or_create_collection:151 - Failed to get_or_create_collection kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:11:33 | ERROR    | app.services.vector_store:search_knowledge_base:326 - search_knowledge_base error on collection=kb_04ea94b9: Validation error: metadata: Metadata cannot be empty
2025-09-19 17:11:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.120s
2025-09-19 17:14:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:14:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.116s
2025-09-19 17:14:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 17:14:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:14:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.073s
2025-09-19 17:14:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.084s
2025-09-19 17:20:22 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-19 17:22:05 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-19 17:22:05 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-19 17:22:05 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-19 17:22:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:22:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-19 17:22:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 17:22:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.013s
2025-09-19 17:22:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:22:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.006s
2025-09-19 17:22:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-19 17:22:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.020s
2025-09-19 17:22:22 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:22:22 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-19 17:22:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-19 17:22:23 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-19 17:22:23 | WARNING  | app.services.vector_store:search_knowledge_base:303 - embedding 查询失败，回退到 query_texts：Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-19 17:22:23 | ERROR    | app.services.vector_store:search_knowledge_base:331 - search_knowledge_base error on collection=kb_04ea94b9: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-19 17:22:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.966s
2025-09-19 17:27:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:27:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-19 17:27:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:27:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-19 17:27:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 17:27:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.009s
2025-09-19 17:27:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:27:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.009s
2025-09-19 17:27:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-19 17:27:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.016s
2025-09-19 17:27:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:27:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-19 17:27:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:27:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 17:27:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.058s
2025-09-19 17:27:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.065s
2025-09-19 17:27:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 17:27:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:27:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.015s
2025-09-19 17:27:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.019s
2025-09-19 17:27:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:27:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 17:27:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.012s
2025-09-19 17:27:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.010s
2025-09-19 17:27:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:27:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.001s
2025-09-19 17:27:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:27:39 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_25/2025/09/19/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-19 17:27:39 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:418 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 25
2025-09-19 17:27:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.061s
2025-09-19 17:27:39 | INFO     | app.services.text_splitter:create_chunks:255 - Created 8 chunks from text of length 12589
2025-09-19 17:27:42 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 8 texts using model text-embedding-v4
2025-09-19 17:27:42 | INFO     | app.services.vector_store:add_documents:260 - Added batch 1: 8 documents
2025-09-19 17:27:42 | INFO     | app.services.vector_store:add_documents:262 - Added 8 documents to collection kb_b32e8114
2025-09-19 17:27:42 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:322 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx
2025-09-19 17:27:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:27:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.008s
2025-09-19 17:27:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:27:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-19 17:27:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-19 17:27:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.006s
2025-09-19 17:27:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:27:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.006s
2025-09-19 17:27:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-19 17:27:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.016s
2025-09-19 17:30:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:30:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-19 17:51:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:51:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.072s
2025-09-19 17:51:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-19 17:51:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-19 17:51:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-19 17:51:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-19 17:51:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.018s
2025-09-19 17:51:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.021s
2025-09-19 17:51:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-19 17:51:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-19 17:51:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.017s
2025-09-19 17:51:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.019s
2025-09-22 08:52:54 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 08:52:54 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 08:52:54 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 08:53:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 08:53:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.102s
2025-09-22 08:53:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 08:53:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-22 08:53:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 08:53:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-22 08:54:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-22 08:54:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.006s
2025-09-22 08:54:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-22 08:54:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.015s
2025-09-22 08:54:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-22 08:54:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.011s
2025-09-22 08:54:18 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 08:54:18 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-22 08:54:18 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 08:54:19 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 08:54:19 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.885s
2025-09-22 08:54:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 08:54:51 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 08:54:51 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.872s
2025-09-22 14:08:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 14:08:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-22 14:08:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 14:08:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-22 14:08:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-22 14:08:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-22 14:08:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.077s
2025-09-22 14:08:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.082s
2025-09-22 14:08:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-22 14:08:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-22 14:08:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.015s
2025-09-22 14:08:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.016s
2025-09-22 14:09:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1 - Client: 127.0.0.1
2025-09-22 14:09:15 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:09:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1 - Status: 404 - Time: 0.003s
2025-09-22 14:09:15 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 14:09:15 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:09:15 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.000s
2025-09-22 14:09:15 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-22 14:09:15 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:09:15 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.001s
2025-09-22 14:09:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v - Client: 127.0.0.1
2025-09-22 14:09:21 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:09:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v - Status: 404 - Time: 0.002s
2025-09-22 14:09:21 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 14:09:21 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:09:21 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.003s
2025-09-22 14:11:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25/files - Client: 127.0.0.1
2025-09-22 14:11:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25/files - Status: 200 - Time: 0.011s
2025-09-22 14:11:11 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 14:11:11 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:11:11 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.003s
2025-09-22 14:13:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-22 14:13:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.013s
2025-09-22 14:13:00 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 14:13:00 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 14:13:00 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 14:14:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-22 14:14:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-22 14:14:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.072s
2025-09-22 14:14:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.072s
2025-09-22 14:40:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 14:40:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-22 14:40:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-22 14:40:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.075s
2025-09-22 14:40:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/25 - Client: 127.0.0.1
2025-09-22 14:40:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/25 - Status: 200 - Time: 0.009s
2025-09-22 14:40:47 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 14:40:47 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-22 14:40:47 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 14:40:47 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 14:40:47 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.844s
2025-09-22 14:43:10 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 14:43:15 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 14:43:15 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 14:43:15 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 14:43:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-22 14:43:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.069s
2025-09-22 14:43:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/28 - Client: 127.0.0.1
2025-09-22 14:43:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/28 - Status: 200 - Time: 0.009s
2025-09-22 14:43:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Client: 127.0.0.1
2025-09-22 14:43:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/f75e20c4-a860-4bff-af02-db1d8f99d92d/messages - Status: 200 - Time: 0.011s
2025-09-22 14:43:42 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 14:43:43 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 14:43:43 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.004s
2025-09-22 15:28:55 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 15:51:44 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 15:51:44 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 15:51:44 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 15:51:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:51:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.071s
2025-09-22 15:51:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:51:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-22 15:51:58 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-22 15:51:58 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.002s
2025-09-22 15:51:58 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/28 - Client: 127.0.0.1
2025-09-22 15:51:58 | INFO     | app.services.vector_store:delete_collection:179 - Deleted Chroma collection: kb_04ea94b9
2025-09-22 15:51:58 | INFO     | app.services.vector_store:delete_knowledge_base_collection:362 - Deleted Chroma collection (if exists): kb_04ea94b9
2025-09-22 15:51:58 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:180 - Deleted knowledge base: 环评名录 (ID: 28)
2025-09-22 15:51:58 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/28 - Status: 200 - Time: 0.057s
2025-09-22 15:52:01 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-22 15:52:01 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.004s
2025-09-22 15:52:01 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/25 - Client: 127.0.0.1
2025-09-22 15:52:01 | INFO     | app.services.vector_store:delete_collection:179 - Deleted Chroma collection: kb_b32e8114
2025-09-22 15:52:01 | INFO     | app.services.vector_store:delete_knowledge_base_collection:362 - Deleted Chroma collection (if exists): kb_b32e8114
2025-09-22 15:52:01 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:180 - Deleted knowledge base: 测试知识库 (ID: 25)
2025-09-22 15:52:01 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/25 - Status: 200 - Time: 0.050s
2025-09-22 15:52:10 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:52:10 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-22 15:52:10 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:52:10 | INFO     | app.services.vector_store:create_knowledge_base_collection:356 - Ensured Chroma collection exists: kb_2bd9700e
2025-09-22 15:52:10 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:87 - Created knowledge base: 环评名录 (ID: 35)
2025-09-22 15:52:10 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.080s
2025-09-22 15:52:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 15:52:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:52:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.116s
2025-09-22 15:52:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.119s
2025-09-22 15:52:20 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 15:52:20 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.001s
2025-09-22 15:52:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 15:52:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_35/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-22 15:52:20 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:435 - Uploaded file 环评名录测试问答对.docx to knowledge base 35
2025-09-22 15:52:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.063s
2025-09-22 15:52:20 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-22 15:52:22 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-22 15:52:23 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 2 texts using model text-embedding-v4
2025-09-22 15:52:23 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 12 documents
2025-09-22 15:52:23 | INFO     | app.services.vector_store:add_documents:276 - Added 12 documents to collection kb_2bd9700e
2025-09-22 15:52:23 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:332 - Successfully processed and vectorized file 环评名录测试问答对.docx
2025-09-22 15:52:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 15:52:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.006s
2025-09-22 15:52:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:52:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-22 15:52:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 15:52:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.007s
2025-09-22 15:52:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:52:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.005s
2025-09-22 15:52:50 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:52:50 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.000s
2025-09-22 15:52:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:52:51 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:52:51 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.830s
2025-09-22 15:53:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:53:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.006s
2025-09-22 15:53:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 15:53:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.008s
2025-09-22 15:53:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 15:53:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.007s
2025-09-22 15:53:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:53:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.011s
2025-09-22 15:53:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:53:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.006s
2025-09-22 15:53:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 15:53:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.005s
2025-09-22 15:53:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 15:53:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.007s
2025-09-22 15:54:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/28/files - Client: 127.0.0.1
2025-09-22 15:54:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/28/files - Status: 200 - Time: 0.020s
2025-09-22 15:54:18 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 15:54:18 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 15:54:18 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 15:54:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-22 15:54:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.001s
2025-09-22 15:54:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 15:54:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-22 15:54:22 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 15:54:22 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 15:54:22 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 15:54:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 15:54:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.005s
2025-09-22 15:54:27 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 15:54:27 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 15:54:27 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 15:54:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 15:54:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.012s
2025-09-22 15:54:35 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 15:54:35 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 15:54:35 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.001s
2025-09-22 15:55:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:55:41 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:55:41 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.929s
2025-09-22 15:56:11 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:56:12 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:56:12 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.855s
2025-09-22 15:56:34 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:56:35 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:56:35 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.845s
2025-09-22 15:57:48 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:57:48 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:57:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.885s
2025-09-22 15:58:33 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 15:58:34 | INFO     | app.services.bailian_client:create_embeddings:91 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 15:58:34 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.946s
2025-09-22 16:14:56 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 16:15:00 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 16:15:00 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 16:15:00 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 16:15:29 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 16:15:33 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 16:15:33 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 16:15:33 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 16:15:35 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 16:15:41 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 16:15:41 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 16:15:41 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 16:16:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:16:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-22 16:16:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:16:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-22 16:16:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:16:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 16:16:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.059s
2025-09-22 16:16:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.070s
2025-09-22 16:16:16 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:16:16 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.001s
2025-09-22 16:16:16 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:16:16 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_35/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-22 16:16:16 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:501 - Uploaded file 环评名录测试问答对.docx to knowledge base 35
2025-09-22 16:16:16 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.157s
2025-09-22 16:16:16 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-22 16:16:17 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"d9547e59-64b0-4460-bfda-fd5d31e490f7","request_id":"d9547e59-64b0-4460-bfda-fd5d31e490f7"}
2025-09-22 16:16:23 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"dfd560ae-d190-4f0c-bddb-c3f2eb6a075c","request_id":"dfd560ae-d190-4f0c-bddb-c3f2eb6a075c"}
2025-09-22 16:16:28 | ERROR    | app.services.bailian_client:create_embeddings:100 - HTTP error creating embeddings: 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Range of input length should be [1, 8192]","type":"InvalidParameter"},"id":"63e1a7f7-8507-466b-bcd4-8ff40487a819","request_id":"63e1a7f7-8507-466b-bcd4-8ff40487a819"}
2025-09-22 16:16:28 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:403 - Error processing file 129: Embedding sub-batch failed at 1: RetryError[<Future at 0x1f6ee1a6530 state=finished raised HTTPStatusError>]
2025-09-22 16:16:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:16:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.005s
2025-09-22 16:16:44 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 16:16:50 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 16:16:50 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 16:16:50 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 16:19:21 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 16:43:28 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 16:43:28 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 16:43:28 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 16:45:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:45:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.072s
2025-09-22 16:45:12 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 16:45:12 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:45:12 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.001s
2025-09-22 16:45:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-base/kb_35/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx - Client: 127.0.0.1
2025-09-22 16:45:42 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:45:42 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-base/kb_35/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx - Status: 404 - Time: 0.001s
2025-09-22 16:46:11 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:46:11 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.001s
2025-09-22 16:46:11 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:46:11 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_35/2025/09/22/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-22 16:46:11 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:554 - Uploaded file 环评名录查询使用教程.docx to knowledge base 35
2025-09-22 16:46:11 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.193s
2025-09-22 16:46:11 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-22 16:46:12 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:46:12 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-22 16:46:12 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_2bd9700e
2025-09-22 16:46:12 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:449 - Successfully processed and vectorized file 环评名录查询使用教程.docx (chunks=1)
2025-09-22 16:46:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:46:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.008s
2025-09-22 16:46:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:46:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.007s
2025-09-22 16:46:30 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 16:46:30 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:46:30 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.003s
2025-09-22 16:47:50 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:47:50 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_35/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-22 16:47:50 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:554 - Uploaded file 环评名录测试问答对.docx to knowledge base 35
2025-09-22 16:47:50 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.032s
2025-09-22 16:47:50 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-22 16:47:54 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-22 16:47:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-22 16:47:56 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 13 documents
2025-09-22 16:47:56 | INFO     | app.services.vector_store:add_documents:276 - Added 13 documents to collection kb_2bd9700e
2025-09-22 16:47:56 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:449 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=13)
2025-09-22 16:47:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:47:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.005s
2025-09-22 16:48:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:48:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-22 16:48:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 16:48:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.009s
2025-09-22 16:48:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 16:48:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.012s
2025-09-22 16:48:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:48:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.000s
2025-09-22 16:48:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:48:15 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:48:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.353s
2025-09-22 16:48:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 16:48:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.028s
2025-09-22 16:48:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:48:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-22 16:48:53 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:48:53 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-22 16:48:53 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:48:53 | INFO     | app.services.vector_store:create_knowledge_base_collection:356 - Ensured Chroma collection exists: kb_900e6d08
2025-09-22 16:48:53 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:87 - Created knowledge base: 测试问答对 (ID: 36)
2025-09-22 16:48:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-22 16:48:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:48:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 16:48:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.011s
2025-09-22 16:48:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.035s
2025-09-22 16:49:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:49:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.001s
2025-09-22 16:49:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:49:06 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_36/2025/09/22/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-22 16:49:06 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:554 - Uploaded file 环评名录测试问答对.docx to knowledge base 36
2025-09-22 16:49:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.050s
2025-09-22 16:49:06 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 31833
2025-09-22 16:49:11 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 9 texts using model text-embedding-v4
2025-09-22 16:49:11 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 9 documents
2025-09-22 16:49:11 | INFO     | app.services.vector_store:add_documents:276 - Added 9 documents to collection kb_900e6d08
2025-09-22 16:49:11 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:449 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=9)
2025-09-22 16:49:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:49:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.006s
2025-09-22 16:49:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:49:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 16:49:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.012s
2025-09-22 16:49:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.019s
2025-09-22 16:49:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-22 16:49:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.012s
2025-09-22 16:49:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:49:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-22 16:49:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 16:49:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.010s
2025-09-22 16:49:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 16:49:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.010s
2025-09-22 16:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 16:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.009s
2025-09-22 16:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 16:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.007s
2025-09-22 16:49:43 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:49:44 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:49:44 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.915s
2025-09-22 16:50:30 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:50:30 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:50:30 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.857s
2025-09-22 16:50:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:50:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.009s
2025-09-22 16:50:37 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 16:50:37 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:50:37 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.003s
2025-09-22 16:51:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:51:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.008s
2025-09-22 16:51:03 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 16:51:03 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:51:03 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 16:53:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 16:53:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.012s
2025-09-22 16:53:48 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 16:53:48 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 16:53:48 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-22 16:54:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:54:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.090s
2025-09-22 16:55:27 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:55:28 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:55:28 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.985s
2025-09-22 16:56:34 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:56:35 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:56:35 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.830s
2025-09-22 16:57:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:57:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-22 16:57:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:57:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 16:57:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.008s
2025-09-22 16:57:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-22 16:57:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:57:41 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_36/2025/09/22/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-22 16:57:41 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:554 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 36
2025-09-22 16:57:41 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.100s
2025-09-22 16:57:42 | INFO     | app.services.text_splitter:create_chunks:255 - Created 11 chunks from text of length 21821
2025-09-22 16:57:45 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 6 texts using model text-embedding-v4
2025-09-22 16:57:45 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 6 documents
2025-09-22 16:57:45 | INFO     | app.services.vector_store:add_documents:276 - Added 6 documents to collection kb_900e6d08
2025-09-22 16:57:45 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:449 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf (chunks=6)
2025-09-22 16:57:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 16:57:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.005s
2025-09-22 16:58:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 16:58:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-22 16:58:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 16:58:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.004s
2025-09-22 16:58:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 16:58:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.005s
2025-09-22 16:58:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 16:58:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.005s
2025-09-22 16:58:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 16:58:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.004s
2025-09-22 16:58:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 16:58:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.014s
2025-09-22 16:58:56 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:58:56 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-22 16:58:56 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:58:56 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:58:56 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.781s
2025-09-22 16:59:47 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 16:59:47 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 16:59:47 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.838s
2025-09-22 17:01:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:01:39 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:01:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.954s
2025-09-22 17:02:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:02:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.011s
2025-09-22 17:02:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:02:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.035s
2025-09-22 17:02:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:02:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.026s
2025-09-22 17:02:54 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:02:54 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:02:54 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.787s
2025-09-22 17:04:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 17:04:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.011s
2025-09-22 17:04:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:04:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.016s
2025-09-22 17:04:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:04:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.008s
2025-09-22 17:04:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:04:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-22 17:04:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-22 17:04:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-22 17:04:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-22 17:04:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-22 17:04:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-22 17:04:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-22 17:04:54 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:04:54 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-22 17:04:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 17:04:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:04:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.012s
2025-09-22 17:04:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.010s
2025-09-22 17:04:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 17:04:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:04:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.020s
2025-09-22 17:04:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.019s
2025-09-22 17:05:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:05:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-22 17:05:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:05:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.011s
2025-09-22 17:05:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:05:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.010s
2025-09-22 17:05:16 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:05:17 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:05:17 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.874s
2025-09-22 17:05:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:05:21 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:05:21 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.892s
2025-09-22 17:05:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:05:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:05:38 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.722s
2025-09-22 17:06:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:06:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.040s
2025-09-22 17:17:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:17:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-22 17:17:46 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-22 17:17:51 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-22 17:17:51 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-22 17:17:51 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-22 17:17:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:17:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-22 17:17:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:17:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-22 17:17:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:17:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-22 17:18:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:18:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.013s
2025-09-22 17:18:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:18:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.011s
2025-09-22 17:18:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:18:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.010s
2025-09-22 17:18:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:18:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.072s
2025-09-22 17:18:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:18:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.006s
2025-09-22 17:18:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:18:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.020s
2025-09-22 17:18:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:18:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.006s
2025-09-22 17:18:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:18:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.006s
2025-09-22 17:18:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:18:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.005s
2025-09-22 17:18:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:18:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.005s
2025-09-22 17:18:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:18:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.007s
2025-09-22 17:18:39 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:18:39 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-22 17:18:39 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:18:39 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:18:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.756s
2025-09-22 17:21:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 17:21:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.007s
2025-09-22 17:21:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:21:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.008s
2025-09-22 17:21:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:21:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.006s
2025-09-22 17:21:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:21:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-22 17:21:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-22 17:21:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.011s
2025-09-22 17:21:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:21:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.007s
2025-09-22 17:22:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:22:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.008s
2025-09-22 17:22:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:22:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.006s
2025-09-22 17:22:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:22:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-22 17:22:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-22 17:22:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.010s
2025-09-22 17:22:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:22:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.011s
2025-09-22 17:23:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:23:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.050s
2025-09-22 17:23:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:23:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.007s
2025-09-22 17:23:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:23:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.004s
2025-09-22 17:23:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:23:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.004s
2025-09-22 17:25:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-22 17:25:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.021s
2025-09-22 17:25:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:25:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-22 17:25:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:25:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.013s
2025-09-22 17:25:22 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:25:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:25:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.950s
2025-09-22 17:37:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:37:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-22 17:37:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:37:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.007s
2025-09-22 17:37:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:37:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.014s
2025-09-22 17:37:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:37:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.009s
2025-09-22 17:37:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:37:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.006s
2025-09-22 17:37:32 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:37:32 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-22 17:37:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:37:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:37:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.873s
2025-09-22 17:38:01 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-22 17:38:02 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-22 17:38:02 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.823s
2025-09-22 17:39:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 17:39:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.030s
2025-09-22 17:39:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-22 17:39:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.012s
2025-09-22 17:43:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:43:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.097s
2025-09-22 17:43:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:43:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.010s
2025-09-22 17:43:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Client: 127.0.0.1
2025-09-22 17:43:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Status: 200 - Time: 0.018s
2025-09-22 17:43:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-22 17:43:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.021s
2025-09-22 17:43:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-22 17:43:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.015s
2025-09-22 17:43:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Client: 127.0.0.1
2025-09-22 17:43:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Status: 200 - Time: 0.009s
2025-09-22 17:43:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:43:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-22 17:43:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:43:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-22 17:43:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-22 17:43:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:43:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.046s
2025-09-22 17:43:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.055s
2025-09-22 17:43:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 17:43:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:43:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.008s
2025-09-22 17:43:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.008s
2025-09-22 17:43:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-22 17:43:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-22 17:44:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:44:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.005s
2025-09-22 17:44:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-22 17:44:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.007s
2025-09-22 17:44:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-22 17:44:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.006s
2025-09-22 17:44:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-22 17:44:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.008s
2025-09-22 17:44:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 17:44:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.008s
2025-09-22 17:44:30 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 17:44:30 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 17:44:30 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.001s
2025-09-22 17:48:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-22 17:48:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.039s
2025-09-22 17:48:40 | INFO     | app.main:log_requests:45 - Request started: GET /.well-known/appspecific/com.chrome.devtools.json - Client: 127.0.0.1
2025-09-22 17:48:40 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-22 17:48:40 | INFO     | app.main:log_requests:56 - Request completed: GET /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Time: 0.002s
2025-09-23 09:43:54 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:43:54 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:43:54 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:44:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.165s
2025-09-23 09:44:03 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 09:44:07 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:44:07 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:44:07 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:44:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.121s
2025-09-23 09:44:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:44:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.060s
2025-09-23 09:44:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.061s
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:44:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.010s
2025-09-23 09:44:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-23 09:44:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-23 09:44:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.011s
2025-09-23 09:44:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.013s
2025-09-23 09:44:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-23 09:44:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:44:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.012s
2025-09-23 09:44:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.020s
2025-09-23 09:44:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:13 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 09:44:16 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:44:16 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.005s
2025-09-23 09:44:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Client: 127.0.0.1
2025-09-23 09:44:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/32dc0aeb-2f24-4109-9dc3-7cbf2dbc6a56/messages - Status: 200 - Time: 0.040s
2025-09-23 09:44:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-23 09:44:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.036s
2025-09-23 09:44:30 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:44:30 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-23 09:44:30 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:44:31 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:44:31 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.879s
2025-09-23 09:44:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 09:44:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:44:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 09:44:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36/files - Client: 127.0.0.1
2025-09-23 09:44:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:44:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-23 09:44:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36/files - Status: 200 - Time: 0.012s
2025-09-23 09:45:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-23 09:45:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-23 09:45:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.014s
2025-09-23 09:45:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.014s
2025-09-23 09:45:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:45:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-23 09:45:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 09:45:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.013s
2025-09-23 09:45:30 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:45:31 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:45:31 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.895s
2025-09-23 09:46:08 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:46:09 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:46:09 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.923s
2025-09-23 09:46:23 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:46:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:46:23 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.846s
2025-09-23 09:46:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:46:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 09:47:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:47:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-23 09:47:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:47:06 | INFO     | app.services.vector_store:create_knowledge_base_collection:357 - Ensured Chroma collection exists: kb_908e31a4
2025-09-23 09:47:06 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:89 - Created knowledge base: 0923 (ID: 37)
2025-09-23 09:47:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-23 09:47:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 09:47:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/37 - Client: 127.0.0.1
2025-09-23 09:47:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.011s
2025-09-23 09:47:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/37 - Status: 200 - Time: 0.009s
2025-09-23 09:47:18 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 09:47:18 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.001s
2025-09-23 09:47:18 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 09:47:18 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_37/2025/09/23/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-23 09:47:18 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:555 - Uploaded file 环评名录测试问答对.docx to knowledge base 37
2025-09-23 09:47:18 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.043s
2025-09-23 09:47:18 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-23 09:47:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-23 09:47:24 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-23 09:47:24 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 13 documents
2025-09-23 09:47:24 | INFO     | app.services.vector_store:add_documents:276 - Added 13 documents to collection kb_908e31a4
2025-09-23 09:47:24 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:451 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=13)
2025-09-23 09:47:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 09:47:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.005s
2025-09-23 09:47:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35/files - Client: 127.0.0.1
2025-09-23 09:47:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35/files - Status: 200 - Time: 0.007s
2025-09-23 09:47:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 09:47:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.005s
2025-09-23 09:47:36 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-23 09:47:36 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-23 09:47:36 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.001s
2025-09-23 09:48:12 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:48:12 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 09:48:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:48:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:48:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.797s
2025-09-23 09:54:04 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 09:54:09 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:54:09 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:54:09 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:55:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:55:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.127s
2025-09-23 09:55:03 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 09:55:07 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:55:07 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:55:07 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:55:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/37 - Client: 127.0.0.1
2025-09-23 09:55:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/37 - Status: 200 - Time: 0.114s
2025-09-23 09:55:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/328ebcc8-8e3f-4ef4-8221-9f1fe90c6c29/messages - Client: 127.0.0.1
2025-09-23 09:55:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/328ebcc8-8e3f-4ef4-8221-9f1fe90c6c29/messages - Status: 200 - Time: 0.014s
2025-09-23 09:55:14 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:55:14 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 09:55:14 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:55:15 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:55:15 | ERROR    | app.services.vector_store:search_knowledge_base:348 - search_knowledge_base error on collection=kb_908e31a4: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 09:55:15 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.993s
2025-09-23 09:55:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:55:25 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:55:25 | ERROR    | app.services.vector_store:search_knowledge_base:348 - search_knowledge_base error on collection=kb_908e31a4: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 09:55:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.788s
2025-09-23 09:57:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:57:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-23 09:57:13 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 09:57:19 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:57:19 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:57:19 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:57:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:57:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.109s
2025-09-23 09:57:26 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/37 - Client: 127.0.0.1
2025-09-23 09:57:26 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/37 - Status: 200 - Time: 0.001s
2025-09-23 09:57:26 | INFO     | app.main:log_requests:45 - Request started: DELETE /api/v1/knowledge-bases/37 - Client: 127.0.0.1
2025-09-23 09:57:26 | INFO     | app.services.vector_store:delete_collection:179 - Deleted Chroma collection: kb_908e31a4
2025-09-23 09:57:26 | INFO     | app.services.vector_store:delete_knowledge_base_collection:371 - Deleted Chroma collection (if exists): kb_908e31a4
2025-09-23 09:57:26 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 0923 (ID: 37)
2025-09-23 09:57:26 | INFO     | app.main:log_requests:56 - Request completed: DELETE /api/v1/knowledge-bases/37 - Status: 200 - Time: 0.062s
2025-09-23 09:57:31 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:57:31 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-23 09:57:31 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:57:32 | INFO     | app.services.vector_store:create_knowledge_base_collection:365 - Ensured Chroma collection exists: kb_ca0f9fd3
2025-09-23 09:57:32 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:89 - Created knowledge base: 0923 (ID: 38)
2025-09-23 09:57:32 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.082s
2025-09-23 09:57:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 09:57:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 09:57:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.033s
2025-09-23 09:57:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.041s
2025-09-23 09:57:36 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 09:57:36 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.001s
2025-09-23 09:57:36 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 09:57:36 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_38/2025/09/23/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-23 09:57:36 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:555 - Uploaded file 环评名录测试问答对.docx to knowledge base 38
2025-09-23 09:57:36 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.041s
2025-09-23 09:57:36 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-23 09:57:41 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-23 09:57:42 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-23 09:57:42 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 13 documents
2025-09-23 09:57:42 | INFO     | app.services.vector_store:add_documents:276 - Added 13 documents to collection kb_ca0f9fd3
2025-09-23 09:57:42 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:451 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=13)
2025-09-23 09:57:42 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 09:57:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.008s
2025-09-23 09:57:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:57:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-23 09:58:05 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:58:06 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:58:06 | ERROR    | app.services.vector_store:search_knowledge_base:348 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 09:58:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.734s
2025-09-23 09:58:55 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 09:59:00 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 09:59:00 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 09:59:00 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 09:59:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:59:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.146s
2025-09-23 09:59:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:59:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-23 09:59:06 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 09:59:06 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 09:59:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 09:59:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.015s
2025-09-23 09:59:18 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 09:59:18 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 09:59:18 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.868s
2025-09-23 10:11:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:11:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.048s
2025-09-23 10:11:22 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 10:11:26 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 10:11:26 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 10:11:26 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 10:11:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:11:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.114s
2025-09-23 10:11:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:11:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:11:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.033s
2025-09-23 10:11:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.038s
2025-09-23 10:12:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:12:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.001s
2025-09-23 10:12:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:12:06 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_38/2025/09/23/98f44b53affc502c05bed31829853df8.txt
2025-09-23 10:12:06 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:555 - Uploaded file ollama部署教程.txt to knowledge base 38
2025-09-23 10:12:06 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.054s
2025-09-23 10:12:06 | INFO     | app.services.text_splitter:create_chunks:255 - Created 3 chunks from text of length 2481
2025-09-23 10:12:07 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v4
2025-09-23 10:12:07 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 2 documents
2025-09-23 10:12:07 | INFO     | app.services.vector_store:add_documents:276 - Added 2 documents to collection kb_ca0f9fd3
2025-09-23 10:12:07 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:451 - Successfully processed and vectorized file ollama部署教程.txt (chunks=2)
2025-09-23 10:12:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:12:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.006s
2025-09-23 10:12:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:12:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 10:12:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:12:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.005s
2025-09-23 10:12:24 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:12:24 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 10:12:24 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:12:25 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:12:25 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.787s
2025-09-23 10:14:47 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:14:48 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:14:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.743s
2025-09-23 10:15:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/37/files - Client: 127.0.0.1
2025-09-23 10:15:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/37/files - Status: 200 - Time: 0.008s
2025-09-23 10:16:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases - Client: 127.0.0.1
2025-09-23 10:16:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.000s
2025-09-23 10:16:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:16:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 10:16:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:16:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.005s
2025-09-23 10:27:15 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 10:27:19 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 10:27:19 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 10:27:19 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 10:27:21 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 10:27:33 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 10:27:33 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 10:27:33 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 10:27:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:27:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.145s
2025-09-23 10:27:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:27:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 10:27:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:27:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:27:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.061s
2025-09-23 10:27:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.073s
2025-09-23 10:27:45 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:27:45 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.000s
2025-09-23 10:27:46 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:27:46 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_38/2025/09/23/c23aec8e67f6e397e29c8de48f41e505.txt
2025-09-23 10:27:46 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:555 - Uploaded file 部署dify.txt to knowledge base 38
2025-09-23 10:27:46 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.084s
2025-09-23 10:27:46 | INFO     | app.services.text_splitter:create_chunks:255 - Created 2 chunks from text of length 1007
2025-09-23 10:27:47 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:27:47 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-23 10:27:47 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_ca0f9fd3
2025-09-23 10:27:47 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:451 - Successfully processed and vectorized file 部署dify.txt (chunks=1)
2025-09-23 10:27:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:27:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.005s
2025-09-23 10:27:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:27:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-23 10:27:52 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:27:52 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 10:27:52 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:27:53 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:27:53 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.806s
2025-09-23 10:27:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:27:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.008s
2025-09-23 10:28:41 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 10:51:51 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 10:51:51 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 10:51:51 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 10:52:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:52:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.117s
2025-09-23 10:53:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 10:53:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:53:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:53:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 10:53:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:53:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:53:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:53:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 10:54:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 10:54:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:54:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 10:54:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-23 10:54:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:54:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:54:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:54:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 10:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 10:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 10:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 10:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 10:54:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:54:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-23 10:56:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:56:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 10:56:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:56:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 10:56:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:56:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:56:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.031s
2025-09-23 10:56:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.040s
2025-09-23 10:56:41 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:56:41 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.002s
2025-09-23 10:56:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:56:41 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_38/2025/09/23/27e3cd629f8b22364c7bddcf5cc4710b.docx
2025-09-23 10:56:41 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 知识库系统启动.docx to knowledge base 38
2025-09-23 10:56:41 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.093s
2025-09-23 10:56:41 | INFO     | app.services.text_splitter:create_chunks:255 - Created 3 chunks from text of length 1697
2025-09-23 10:56:43 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v4
2025-09-23 10:56:43 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 2 documents
2025-09-23 10:56:43 | INFO     | app.services.vector_store:add_documents:276 - Added 2 documents to collection kb_ca0f9fd3
2025-09-23 10:56:43 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 知识库系统启动.docx (chunks=2)
2025-09-23 10:56:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 10:56:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.007s
2025-09-23 10:56:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 10:56:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-23 10:56:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 10:56:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.014s
2025-09-23 10:56:53 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:56:53 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.005s
2025-09-23 10:56:53 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:56:54 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:56:54 | ERROR    | app.services.vector_store:search_knowledge_base:345 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 10:56:54 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.886s
2025-09-23 10:58:23 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:58:24 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:58:24 | ERROR    | app.services.vector_store:search_knowledge_base:345 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 10:58:24 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.808s
2025-09-23 10:59:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 10:59:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 10:59:33 | ERROR    | app.services.vector_store:search_knowledge_base:345 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 10:59:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.007s
2025-09-23 11:21:23 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 11:35:30 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 11:35:30 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 11:35:30 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 11:35:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 11:35:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.134s
2025-09-23 11:35:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 11:35:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 11:35:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 11:35:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 11:35:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.070s
2025-09-23 11:35:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.080s
2025-09-23 11:35:45 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 11:35:45 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 11:35:48 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 11:35:48 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.014s
2025-09-23 11:35:55 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 11:35:55 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-23 11:35:55 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 11:35:56 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 11:35:56 | ERROR    | app.services.vector_store:search_knowledge_base:344 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 11:35:56 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.878s
2025-09-23 11:36:02 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:228 - Error in stream response: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-23 11:43:00 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 11:43:05 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 11:43:05 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 11:43:05 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 11:43:34 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 11:43:41 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 11:43:41 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 11:43:41 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 11:44:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 11:44:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.200s
2025-09-23 11:44:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 11:44:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.018s
2025-09-23 11:44:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Client: 127.0.0.1
2025-09-23 11:44:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Status: 200 - Time: 0.017s
2025-09-23 11:44:21 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 11:44:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 11:44:22 | ERROR    | app.services.vector_store:search_knowledge_base:344 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 11:44:22 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.837s
2025-09-23 11:44:39 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 11:44:44 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 11:44:44 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 11:44:44 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 11:44:47 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 11:44:48 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 11:44:48 | ERROR    | app.services.vector_store:search_knowledge_base:344 - search_knowledge_base error on collection=kb_ca0f9fd3: Expected include item to be one of documents, embeddings, metadatas, distances, uris, data, got ids in query.
2025-09-23 11:44:48 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.900s
2025-09-23 12:02:53 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 12:02:59 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 12:02:59 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 12:02:59 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 12:03:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 12:03:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.176s
2025-09-23 12:03:50 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 12:03:50 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-23 12:03:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 12:03:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 12:03:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 12:03:53 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 12:03:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.057s
2025-09-23 12:03:53 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.066s
2025-09-23 12:04:20 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 12:04:20 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.000s
2025-09-23 12:04:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 12:04:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_38/2025/09/23/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-23 12:04:20 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.docx to knowledge base 38
2025-09-23 12:04:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.053s
2025-09-23 12:04:21 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 31833
2025-09-23 12:04:25 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v4
2025-09-23 12:04:27 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 3 texts using model text-embedding-v4
2025-09-23 12:04:27 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 13 documents
2025-09-23 12:04:27 | INFO     | app.services.vector_store:add_documents:276 - Added 13 documents to collection kb_ca0f9fd3
2025-09-23 12:04:27 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=13)
2025-09-23 12:04:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 12:04:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.005s
2025-09-23 12:04:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 12:04:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-23 12:04:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 12:04:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.014s
2025-09-23 12:04:38 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 12:04:38 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.000s
2025-09-23 12:04:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 12:04:39 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 12:04:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.913s
2025-09-23 14:17:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 14:17:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-23 14:18:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 14:18:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-23 14:19:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:19:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.012s
2025-09-23 14:19:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 14:19:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.011s
2025-09-23 14:20:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:20:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.010s
2025-09-23 14:20:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:20:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.010s
2025-09-23 14:20:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:20:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.010s
2025-09-23 14:20:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:20:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.006s
2025-09-23 14:20:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Client: 127.0.0.1
2025-09-23 14:20:01 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Status: 200 - Time: 0.013s
2025-09-23 14:20:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 14:20:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.005s
2025-09-23 14:22:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 14:22:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 14:22:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:22:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.002s
2025-09-23 14:22:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 14:22:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.096s
2025-09-23 14:23:06 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 14:23:06 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-23 14:23:06 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 14:23:07 | ERROR    | app.services.bailian_client:create_embeddings:161 - HTTP error on segments batch (0-1): 400 - {"error":{"code":"Arrearage","param":null,"message":"Access denied, please make sure your account is in good standing.","type":"Arrearage"},"id":"5ecac943-4111-419c-a243-5e666ec2a74c","request_id":"5ecac943-4111-419c-a243-5e666ec2a74c"}
2025-09-23 14:23:08 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-23 14:23:08 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v4
2025-09-23 14:23:08 | ERROR    | app.services.vector_store:search_knowledge_base:344 - search_knowledge_base error on collection=kb_ca0f9fd3: Collection expecting embedding with dimension of 1024, got 1536
2025-09-23 14:23:08 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.529s
2025-09-23 14:23:08 | ERROR    | app.services.bailian_client:_process_stream_response:473 - Error processing stream response: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-23 14:23:08 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:217 - Error in stream response: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-23 14:40:20 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 14:40:25 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 14:40:25 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 14:40:25 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 14:41:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 14:41:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.191s
2025-09-23 14:41:22 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 14:41:27 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 14:41:27 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 14:41:27 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 14:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 14:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.119s
2025-09-23 14:41:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 14:41:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.010s
2025-09-23 14:41:41 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 14:41:41 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 14:41:41 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 14:41:42 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 14:41:42 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.959s
2025-09-23 15:24:32 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 15:24:32 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 15:24:32 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 15:24:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 15:24:33 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.920s
2025-09-23 15:28:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 15:28:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 15:28:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-23 15:28:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 15:28:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.028s
2025-09-23 15:28:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.039s
2025-09-23 15:29:20 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 15:29:20 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-23 15:29:20 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 15:29:20 | INFO     | app.services.vector_store:create_knowledge_base_collection:362 - Ensured Chroma collection exists: kb_20035486
2025-09-23 15:29:20 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:89 - Created knowledge base: 检验知识库 (ID: 39)
2025-09-23 15:29:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-23 15:29:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-23 15:29:20 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 15:29:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.004s
2025-09-23 15:29:20 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 15:30:46 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-23 15:30:46 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.001s
2025-09-23 15:30:46 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-23 15:30:46 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/23/4173adb871df29097aa8666c024135af.pdf
2025-09-23 15:30:46 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file cesi.pdf to knowledge base 39
2025-09-23 15:30:46 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.085s
2025-09-23 15:30:46 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-23 15:30:47 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 15:30:47 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-23 15:30:47 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-23 15:30:47 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file cesi.pdf (chunks=1)
2025-09-23 15:30:47 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-23 15:30:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.005s
2025-09-23 15:40:31 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 15:40:31 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-23 16:46:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:46:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-23 16:50:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:50:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-23 16:50:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:50:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 16:50:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:50:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 16:50:51 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:51 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 16:50:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-23 16:50:52 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:52 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-23 16:50:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 16:50:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.012s
2025-09-23 16:50:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-23 16:50:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-23 16:50:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-23 16:50:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:50:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 16:50:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-23 16:50:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 16:50:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-23 16:50:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.011s
2025-09-23 16:51:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 16:51:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 16:51:25 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 16:51:25 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 16:51:25 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 16:51:26 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 16:51:26 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.965s
2025-09-23 17:04:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:04:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-23 17:08:19 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:08:19 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-23 17:08:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:08:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-23 17:08:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:08:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.013s
2025-09-23 17:08:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:08:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.014s
2025-09-23 17:08:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:08:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-23 17:08:38 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:08:38 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.001s
2025-09-23 17:08:38 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:08:39 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 17:08:39 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.856s
2025-09-23 17:09:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-23 17:09:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-23 17:09:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-23 17:09:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-23 17:09:08 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:08 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-23 17:09:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 17:09:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.013s
2025-09-23 17:09:14 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:09:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 17:12:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:12:34 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-23 17:15:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:15:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.051s
2025-09-23 17:15:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:15:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.009s
2025-09-23 17:16:26 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:16:27 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 17:16:27 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.949s
2025-09-23 17:18:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:18:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.042s
2025-09-23 17:18:21 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 17:18:21 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.005s
2025-09-23 17:18:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 17:18:22 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.012s
2025-09-23 17:18:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Client: 127.0.0.1
2025-09-23 17:18:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Status: 200 - Time: 0.007s
2025-09-23 17:18:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 17:18:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.016s
2025-09-23 17:18:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Client: 127.0.0.1
2025-09-23 17:18:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/61c3e954-2f4e-43af-b637-2f7b1a7d0230/messages - Status: 200 - Time: 0.018s
2025-09-23 17:18:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Client: 127.0.0.1
2025-09-23 17:18:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/4c8add8c-59c7-4e59-acea-639c976686f0/messages - Status: 200 - Time: 0.012s
2025-09-23 17:18:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/1cad5c70-2884-4c1a-89bd-abe8c9cab96e/messages - Client: 127.0.0.1
2025-09-23 17:18:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/1cad5c70-2884-4c1a-89bd-abe8c9cab96e/messages - Status: 200 - Time: 0.014s
2025-09-23 17:18:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c6974219-ba2c-4618-b623-88e9531ebe52/messages - Client: 127.0.0.1
2025-09-23 17:18:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c6974219-ba2c-4618-b623-88e9531ebe52/messages - Status: 200 - Time: 0.011s
2025-09-23 17:18:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/9b88e42d-85cc-469e-ac50-7270d74601a7/messages - Client: 127.0.0.1
2025-09-23 17:18:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/9b88e42d-85cc-469e-ac50-7270d74601a7/messages - Status: 200 - Time: 0.018s
2025-09-23 17:29:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-23 17:29:33 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 17:29:39 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 17:29:39 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 17:29:39 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.104s
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:29:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:29:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:30:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-23 17:30:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-23 17:30:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 17:30:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 17:30:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 17:30:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:30:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-23 17:30:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:30:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.001s
2025-09-23 17:30:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 17:30:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 17:30:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-23 17:30:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:30:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-23 17:30:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:30:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-23 17:30:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:30:43 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.016s
2025-09-23 17:30:49 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:30:49 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-23 17:30:49 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:30:50 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 17:30:50 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.849s
2025-09-23 17:36:15 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:36:15 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-23 17:36:36 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:36:36 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-23 17:42:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:42:46 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-23 17:43:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:43:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.048s
2025-09-23 17:43:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:43:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-23 17:43:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:43:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 17:43:05 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:43:05 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.022s
2025-09-23 17:43:10 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:43:10 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-23 17:43:10 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:43:11 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 17:43:11 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.912s
2025-09-23 17:43:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-23 17:43:18 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x0000024DAA336560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x0000024DAA3365F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000024DA7EA3A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000024DA7DBE3B0>
           └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024DA7DBDA20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024DA7ABF100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    └ <function subprocess_started at 0x0000024DAA26EC20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024DA7ABF0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x0000024DAA24F880>
           │       │   └ <uvicorn.server.Server object at 0x0000024DA7ABF0D0>
           │       └ <function run at 0x0000024DA7EC0940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024DAA37C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024DA9B3AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024DA9B3AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024DA9B40700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024DA9A93A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>
          └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024DE0C27400>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0C27EB0>
                     │    │             └ <starlette.requests.Request object at 0x0000024DE0CB1FC0>
                     │    └ <function log_requests at 0x0000024DE0A73F40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x0000024DE0CB1FC0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0C27EB0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0B79990>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0B79990>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0B79990>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000024DAB50E440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0B795A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0B795A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000024DE0B103A0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0B795A0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x0000024DAB4C7880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0B795A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C27D00>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024DE0B030A0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024DE0CE17B0>
                     └ <function get_request_handler.<locals>.app at 0x0000024DE0B03010>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000024DAB4C6B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000024DE0CE1480>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000024DE0A72B00>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000024DE0A97850>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000024DE0A739A0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-23 17:43:22 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-23 17:43:22 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x0000024DAA336560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x0000024DAA3365F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000024DA7EA3A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000024DA7DBE3B0>
           └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024DA7DBDA20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024DA7ABF100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    └ <function subprocess_started at 0x0000024DAA26EC20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024DA7ABF0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x0000024DAA24F880>
           │       │   └ <uvicorn.server.Server object at 0x0000024DA7ABF0D0>
           │       └ <function run at 0x0000024DA7EC0940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024DAA37C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024DA9B3AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024DA9B3AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024DA9B40700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024DA9A93A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>
          └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024DE0B79090>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0C729E0>
                     │    │             └ <starlette.requests.Request object at 0x0000024DE0CB2830>
                     │    └ <function log_requests at 0x0000024DE0A73F40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x0000024DE0CB2830>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0C729E0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E800D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E800D0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E800D0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000024DAB50E440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E803A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E803A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000024DE0B103A0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E803A0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x0000024DAB4C7880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E803A0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0C70AF0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024DE0B030A0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024DE0CB33D0>
                     └ <function get_request_handler.<locals>.app at 0x0000024DE0B03010>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000024DAB4C6B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000024DE0CB1510>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000024DE0A72B00>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000024DE0A97850>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000024DE0A739A0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-23 17:43:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-23 17:43:24 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x0000024DAA336560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x0000024DAA3365F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 376
               │     └ 3
               └ <function _main at 0x0000024DA7EA3A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 376
           │    └ <function BaseProcess._bootstrap at 0x0000024DA7DBE3B0>
           └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000024DA7DBDA20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000024DA7ABF100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>
    │    └ <function subprocess_started at 0x0000024DAA26EC20>
    └ <SpawnProcess name='SpawnProcess-7' parent=22820 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000024DA7ABF0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=448, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x0000024DAA24F880>
           │       │   └ <uvicorn.server.Server object at 0x0000024DA7ABF0D0>
           │       └ <function run at 0x0000024DA7EC0940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x0000024DAA37C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x0000024DA9B3AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000024DA9B3AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000024DA9B40700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000024DA9A93A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000024DAA3B9120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024DE0...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>
          └ <fastapi.applications.FastAPI object at 0x0000024DE0B102B0>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x0000024DE0E805E0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000024DE0A961D0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0E801F0>
                     │    │             └ <starlette.requests.Request object at 0x0000024DE0CB24A0>
                     │    └ <function log_requests at 0x0000024DE0A73F40>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x0000024DE0CB24A0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x0000024DE0E801F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E804C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x0000024DE0A96230>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E804C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x0000024DE0A96290>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000024DE0E804C0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x0000024DAB50E440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000024DE0A962F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E80940>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x0000024DE0A96320>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E80940>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000024DE0B103A0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x0000024DE0A96380>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E80940>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x0000024DAB4C7880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x0000024DE0E80940>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000024DE0E80280>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000024DE0B030A0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000024DE0CE3280>
                     └ <function get_request_handler.<locals>.app at 0x0000024DE0B03010>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x0000024DAB4C6B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000024DE0CE2410>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000024DE0A72B00>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000024DE0A97850>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000024DE0A739A0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-23 17:43:50 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-23 17:44:43 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-23 17:44:43 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-23 17:44:43 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-23 17:44:46 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:44:47 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.132s
2025-09-23 17:44:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:44:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-23 17:44:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:44:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 17:44:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:44:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 17:44:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-23 17:44:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.011s
2025-09-23 17:44:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-23 17:44:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.009s
2025-09-23 17:44:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38 - Client: 127.0.0.1
2025-09-23 17:44:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38 - Status: 200 - Time: 0.014s
2025-09-23 17:44:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-23 17:44:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.012s
2025-09-23 17:45:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-23 17:45:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.013s
2025-09-23 17:45:00 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-23 17:45:00 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.010s
2025-09-23 17:45:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:45:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-23 17:45:02 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:45:02 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-23 17:45:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:45:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.016s
2025-09-23 17:45:10 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:45:10 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-23 17:45:19 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-23 17:45:20 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-23 17:45:20 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.940s
2025-09-23 17:45:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-23 17:45:38 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x00000242ECBE6560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x00000242ECBE65F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000242EA783A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000242EA6BE3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000242EA6BDA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000242EA3BF100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>
    │    └ <function subprocess_started at 0x00000242ECB1EC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=388, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000242EA3BF0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=388, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x00000242ECAFF880>
           │       │   └ <uvicorn.server.Server object at 0x00000242EA3BF0D0>
           │       └ <function run at 0x00000242EA7A0940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242ECC2C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000242EC38AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000242EC38AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000242EC390700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000242EC2D3A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242ECC69120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000242A39E74C0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242ECC69120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000242A397A1A0>
          └ <fastapi.applications.FastAPI object at 0x00000242A39E74C0>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000242A3B1C0D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000242A397A1A0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000242A3B1C160>
                     │    │             └ <starlette.requests.Request object at 0x00000242A3AFB0D0>
                     │    └ <function log_requests at 0x00000242A396CDC0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x00000242A3AFB0D0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000242A3B1C160>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1CB80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x00000242A397A0E0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1CB80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x00000242A397A0E0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1CB80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000242EED8A440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000242A397A050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C790>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000242A3979FF0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000242A397A050>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C790>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242A39E75B0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000242A3979FF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C790>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x00000242EED47880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C790>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1CD30>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000242A396DCF0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000242A3B2EA40>
                     └ <function get_request_handler.<locals>.app at 0x00000242A396DBD0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000242EED46B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000242A3B2E680>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x00000242A3902D40>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000242A3978FD0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x00000242A3903BE0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-23 17:47:59 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:47:59 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 17:48:04 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:48:04 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-23 17:48:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:48:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-23 17:48:07 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:48:07 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-23 17:48:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-23 17:48:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.008s
2025-09-23 17:48:09 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-23 17:48:09 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.009s
2025-09-23 17:48:11 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:11 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.021s
2025-09-23 17:48:17 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-23 17:48:17 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.024s
2025-09-23 17:48:25 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:25 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.014s
2025-09-23 17:48:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Client: 127.0.0.1
2025-09-23 17:48:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Status: 200 - Time: 0.015s
2025-09-23 17:48:27 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:27 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.013s
2025-09-23 17:48:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-23 17:48:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.019s
2025-09-23 17:48:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.013s
2025-09-23 17:48:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.014s
2025-09-23 17:48:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Client: 127.0.0.1
2025-09-23 17:48:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Status: 200 - Time: 0.014s
2025-09-23 17:48:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-23 17:48:29 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.018s
2025-09-23 17:48:30 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Client: 127.0.0.1
2025-09-23 17:48:30 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/bc88bea5-ae10-4562-b8a2-008c1b9e32bb/messages - Status: 200 - Time: 0.023s
2025-09-23 17:48:32 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Client: 127.0.0.1
2025-09-23 17:48:32 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/c2702fea-d5e1-408e-95f8-a52272ad5d61/messages - Status: 200 - Time: 0.009s
2025-09-23 17:48:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:48:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.008s
2025-09-23 17:48:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:48:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-23 17:48:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:48:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.016s
2025-09-23 17:48:56 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:48:56 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-23 17:50:44 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:50:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-23 17:53:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:53:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-23 17:53:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-23 17:53:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-23 17:53:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-23 17:53:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.015s
2025-09-23 17:53:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-23 17:53:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-23 17:53:26 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-23 17:53:26 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.015s
2025-09-23 17:53:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-23 17:53:28 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x00000242ECBE6560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x00000242ECBE65F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 372
               │     └ 3
               └ <function _main at 0x00000242EA783A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 372
           │    └ <function BaseProcess._bootstrap at 0x00000242EA6BE3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000242EA6BDA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000242EA3BF100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>
    │    └ <function subprocess_started at 0x00000242ECB1EC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=49188 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=388, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000242EA3BF0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=388, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x00000242ECAFF880>
           │       │   └ <uvicorn.server.Server object at 0x00000242EA3BF0D0>
           │       └ <function run at 0x00000242EA7A0940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000242ECC2C200>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000242EC38AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000242EC38AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000242EC390700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000242EC2D3A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242ECC69120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000242A39E74C0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000242ECC69120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x00000242A3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000242A397A1A0>
          └ <fastapi.applications.FastAPI object at 0x00000242A39E74C0>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000242A3A111B0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000024...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x00000242A397A1A0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000242A3B1CAF0>
                     │    │             └ <starlette.requests.Request object at 0x00000242A3B2E770>
                     │    └ <function log_requests at 0x00000242A396CDC0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x00000242A3B2E770>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000242A3B1CAF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1C310>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x00000242A397A0E0>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x00000242A397A140>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1C310>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x00000242A397A0E0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000242A3B1C310>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000242EED8A440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000242A397A050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x00000242A397A080>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C430>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000242A3979FF0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x00000242A397A050>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C430>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x00000242A39E75B0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x00000242A3979FF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C430>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x00000242EED47880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000242A3B1C430>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000242A3B1D240>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x00000242A396DCF0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000242A3B2F4C0>
                     └ <function get_request_handler.<locals>.app at 0x00000242A396DBD0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000242EED46B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x00000242A3B2F160>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x00000242A3902D40>
                 └ <fastapi.dependencies.models.Dependant object at 0x00000242A3978FD0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x00000242A3903BE0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-24 19:48:32 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-24 19:48:32 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-24 19:48:32 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-24 19:48:41 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 19:48:41 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.228s
2025-09-24 19:48:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-24 19:48:44 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.019s
2025-09-24 19:48:44 | INFO     | app.main:log_requests:45 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-24 19:48:44 | ERROR    | app.main:http_exception_handler:68 - HTTP error: 404 - Not Found
2025-09-24 19:48:44 | INFO     | app.main:log_requests:56 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.001s
2025-09-24 19:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-24 19:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.000s
2025-09-24 19:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-24 19:49:33 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-24 19:49:33 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.002s
2025-09-24 19:49:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-24 19:49:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.000s
2025-09-24 19:49:35 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-24 19:49:35 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.000s
2025-09-24 19:49:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-24 19:49:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.004s
2025-09-24 19:49:37 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-24 19:49:37 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.000s
2025-09-24 19:49:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-24 19:49:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.017s
2025-09-24 19:49:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:49:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-24 19:49:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:49:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-24 19:49:40 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-24 19:49:40 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.004s
2025-09-24 19:49:43 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-24 19:49:43 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x00000273D45A6560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x00000273D45A65F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000273D2113A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000273D202E3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000273D202DA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000273D1D2F100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    └ <function subprocess_started at 0x00000273D44DEC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000273D1D2F0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x00000273D44BF880>
           │       │   └ <uvicorn.server.Server object at 0x00000273D1D2F0D0>
           │       └ <function run at 0x00000273D2130940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000273D45EC200>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000273D3D9AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000273D3D9AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000273D3DA0700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000273D26E3A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738A...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738A...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738A...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>
          └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002738AF24550>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738AF24CA0>
                     │    │             └ <starlette.requests.Request object at 0x000002738AFDE830>
                     │    └ <function log_requests at 0x0000027389DF9000>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002738AFDE830>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738AF24CA0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738AF24B80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738AF24B80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738AF24B80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000273D577A440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000027389EA7250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x00000273D5737880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738AF24EE0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000027389DFA050>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002738B056680>
                     └ <function get_request_handler.<locals>.app at 0x0000027389DF93F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000273D5736B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002738B056CB0>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000027389E62DD0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027389EA65F0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000027389E63C70>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-24 19:50:23 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:50:23 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-24 19:50:24 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 19:50:24 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-24 19:50:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-24 19:50:28 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:50:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.013s
2025-09-24 19:50:28 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.064s
2025-09-24 19:50:37 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-24 19:50:37 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.001s
2025-09-24 19:50:37 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-24 19:50:37 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/24/a81b5bfaae4006d09ad37479b5502d09.xlsx
2025-09-24 19:50:37 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 工作总表.xlsx to knowledge base 39
2025-09-24 19:50:37 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.078s
2025-09-24 19:50:37 | INFO     | app.services.text_splitter:create_chunks:255 - Created 2 chunks from text of length 2090
2025-09-24 19:50:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-24 19:50:38 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-24 19:50:38 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-24 19:50:38 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 工作总表.xlsx (chunks=1)
2025-09-24 19:50:38 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-24 19:50:38 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.004s
2025-09-24 19:50:55 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 19:50:55 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-24 19:50:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-24 19:50:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.004s
2025-09-24 19:50:57 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:50:57 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-24 19:50:58 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-24 19:50:58 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.012s
2025-09-24 19:51:01 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-24 19:51:01 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x00000273D45A6560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x00000273D45A65F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000273D2113A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000273D202E3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000273D202DA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000273D1D2F100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    └ <function subprocess_started at 0x00000273D44DEC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000273D1D2F0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x00000273D44BF880>
           │       │   └ <uvicorn.server.Server object at 0x00000273D1D2F0D0>
           │       └ <function run at 0x00000273D2130940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000273D45EC200>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000273D3D9AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000273D3D9AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000273D3DA0700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000273D26E3A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>
          └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002738B1B76D0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738B1B72E0>
                     │    │             └ <starlette.requests.Request object at 0x000002738B25B760>
                     │    └ <function log_requests at 0x0000027389DF9000>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002738B25B760>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738B1B72E0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1B7D90>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1B7D90>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1B7D90>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000273D577A440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000027389EA7250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x00000273D5737880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738AFCFF40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B7880>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000027389DFA050>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002738B25A1D0>
                     └ <function get_request_handler.<locals>.app at 0x0000027389DF93F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000273D5736B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002738B25A530>, 'file_id': 140, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000027389E62DD0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027389EA65F0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000027389E63C70>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-24 19:51:39 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 19:51:39 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-24 19:51:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-24 19:51:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-24 19:51:49 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-24 19:51:49 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-24 19:52:02 | INFO     | app.main:log_requests:45 - Request started: OPTIONS /api/v1/chat/ask - Client: 127.0.0.1
2025-09-24 19:52:02 | INFO     | app.main:log_requests:56 - Request completed: OPTIONS /api/v1/chat/ask - Status: 200 - Time: 0.002s
2025-09-24 19:52:02 | INFO     | app.main:log_requests:45 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-24 19:52:03 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-24 19:52:03 | INFO     | app.main:log_requests:56 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.938s
2025-09-24 19:52:29 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/chat/files/141/download-url - Client: 127.0.0.1
2025-09-24 19:52:29 | ERROR    | app.main:general_exception_handler:84 - Unexpected error: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x00000273D45A6560>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x00000273D45A65F0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 368
               │     └ 3
               └ <function _main at 0x00000273D2113A30>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 368
           │    └ <function BaseProcess._bootstrap at 0x00000273D202E3B0>
           └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x00000273D202DA20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x00000273D1D2F100>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>
    │    └ <function subprocess_started at 0x00000273D44DEC20>
    └ <SpawnProcess name='SpawnProcess-1' parent=29552 started>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x00000273D1D2F0D0>>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=384, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('0.0.0.0', 8080)>]
           │       │   │    └ <function Server.serve at 0x00000273D44BF880>
           │       │   └ <uvicorn.server.Server object at 0x00000273D1D2F0D0>
           │       └ <function run at 0x00000273D2130940>
           └ <module 'asyncio' from 'C:\\Users\\97247\\miniconda3\\envs\\ecoful\\lib\\asyncio\\__init__.py'>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x00000273D45EC200>
           │    └ <function BaseEventLoop.run_until_complete at 0x00000273D3D9AC20>
           └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 636, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x00000273D3D9AB90>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 603, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x00000273D3DA0700>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x00000273D26E3A30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x00000273D4629120>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x000002738B...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>
          └ <fastapi.applications.FastAPI object at 0x0000027389EA7160>

> File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x000002738B1B7EB0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x0000027...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002738AEFDE40>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738B1B79A0>
                     │    │             └ <starlette.requests.Request object at 0x000002738B258EE0>
                     │    └ <function log_requests at 0x0000027389DF9000>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\main.py", line 50, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002738B258EE0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x000002738B1B79A0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ RuntimeError('MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置')

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1E3910>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002738AEFDDE0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1E3910>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x000002738AEFDD80>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:8080', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 ...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002738B1E3910>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function CORSMiddleware.simple_response at 0x00000273D577A440>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002738AEFDD20>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738B1E2EF0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002738AEFDCF0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738B1E2EF0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x0000027389EA7250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002738AEFDC90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738B1E2EF0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │     └ <function Route.handle at 0x00000273D5737880>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x000002738B1E2EF0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002738B1B77F0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8080), 'cl...
          │    └ <function request_response.<locals>.app at 0x0000027389DFA050>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/download-url', name='get_file_download_url', methods=['GET'])

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002738B25AC20>
                     └ <function get_request_handler.<locals>.app at 0x0000027389DF93F0>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x00000273D5736B90>

  File "C:\Users\97247\miniconda3\envs\ecoful\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002738B25ACB0>, 'file_id': 141, 'request': <starlette.requests.Req...
                 │         └ <function get_file_download_url at 0x0000027389E62DD0>
                 └ <fastapi.dependencies.models.Dependant object at 0x0000027389EA65F0>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 336, in get_file_download_url
    mc = _get_minio_client()
         └ <function _get_minio_client at 0x0000027389E63C70>

  File "C:\Users\97247\Desktop\ecoful-chat\backend\app\api\v1\endpoints\chat.py", line 73, in _get_minio_client
    raise RuntimeError("MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置")

RuntimeError: MINIO_ACCESS_KEY / MINIO_SECRET_KEY 未配置
2025-09-24 20:05:03 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 20:05:03 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-24 20:05:13 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-24 20:05:14 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-25 08:48:06 | INFO     | app.main:startup_event:114 - Starting Knowledge Base API v1.0.0
2025-09-25 08:48:06 | INFO     | app.main:startup_event:115 - Debug mode: True
2025-09-25 08:48:06 | INFO     | app.main:startup_event:116 - Database URL: localhost:5432/knowledge_base
2025-09-25 08:48:18 | INFO     | app.main:log_requests:45 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 08:48:18 | INFO     | app.main:log_requests:56 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.211s
2025-09-25 08:57:21 | INFO     | app.main:shutdown_event:121 - Shutting down Knowledge Base API
2025-09-25 08:57:34 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 08:57:34 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 08:57:34 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 08:58:40 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-25 08:58:44 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 08:58:44 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 08:58:44 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 09:01:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:01:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.117s
2025-09-25 09:01:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:01:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.012s
2025-09-25 09:01:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:01:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 09:01:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 09:01:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.020s
2025-09-25 09:01:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/download-url - Client: 127.0.0.1
2025-09-25 09:01:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/download-url - Status: 200 - Time: 0.055s
2025-09-25 09:01:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 09:01:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.017s
2025-09-25 09:01:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 09:01:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.020s
2025-09-25 09:01:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-25 09:01:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/140/download-url - Status: 200 - Time: 0.037s
2025-09-25 09:02:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-25 09:02:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.010s
2025-09-25 09:02:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/36 - Client: 127.0.0.1
2025-09-25 09:02:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/36 - Status: 200 - Time: 0.006s
2025-09-25 09:02:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/f5a5354f-e5bf-45e7-904f-5336ea489e93/messages - Client: 127.0.0.1
2025-09-25 09:02:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/f5a5354f-e5bf-45e7-904f-5336ea489e93/messages - Status: 200 - Time: 0.015s
2025-09-25 09:02:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Client: 127.0.0.1
2025-09-25 09:02:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/1676e28a-45e7-43ce-a0d2-9a9b0b2f06e6/messages - Status: 200 - Time: 0.046s
2025-09-25 09:02:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:02:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:02:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-25 09:02:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.008s
2025-09-25 09:02:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/35 - Client: 127.0.0.1
2025-09-25 09:02:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/35 - Status: 200 - Time: 0.008s
2025-09-25 09:02:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Client: 127.0.0.1
2025-09-25 09:02:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/24273e1f-615e-4bab-8e6b-eca9feea82e8/messages - Status: 200 - Time: 0.027s
2025-09-25 09:02:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:02:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 09:02:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/38/files - Client: 127.0.0.1
2025-09-25 09:02:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38 - Client: 127.0.0.1
2025-09-25 09:02:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/38/files - Status: 200 - Time: 0.072s
2025-09-25 09:02:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38 - Status: 200 - Time: 0.082s
2025-09-25 09:02:30 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/38 - Client: 127.0.0.1
2025-09-25 09:02:30 | WARNING  | app.services.vector_store:delete_collection:183 - Delete collection kb_ca0f9fd3 got: Collection [kb_ca0f9fd3] does not exists (ignored if not found)
2025-09-25 09:02:30 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_ca0f9fd3
2025-09-25 09:02:30 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 0923 (ID: 38)
2025-09-25 09:02:30 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/38 - Status: 200 - Time: 0.076s
2025-09-25 09:02:33 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/36 - Client: 127.0.0.1
2025-09-25 09:02:33 | WARNING  | app.services.vector_store:delete_collection:183 - Delete collection kb_900e6d08 got: Collection [kb_900e6d08] does not exists (ignored if not found)
2025-09-25 09:02:33 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_900e6d08
2025-09-25 09:02:33 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 测试问答对 (ID: 36)
2025-09-25 09:02:33 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/36 - Status: 200 - Time: 0.039s
2025-09-25 09:02:35 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/35 - Client: 127.0.0.1
2025-09-25 09:02:35 | WARNING  | app.services.vector_store:delete_collection:183 - Delete collection kb_2bd9700e got: Collection [kb_2bd9700e] does not exists (ignored if not found)
2025-09-25 09:02:35 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_2bd9700e
2025-09-25 09:02:35 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 环评名录 (ID: 35)
2025-09-25 09:02:35 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/35 - Status: 200 - Time: 0.060s
2025-09-25 09:02:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:02:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:02:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:02:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.020s
2025-09-25 09:02:46 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:02:46 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-25 09:02:46 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.docx to knowledge base 39
2025-09-25 09:02:46 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.057s
2025-09-25 09:02:46 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 31833
2025-09-25 09:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.005s
2025-09-25 09:02:48 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 9 texts using model text-embedding-v3
2025-09-25 09:02:48 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 9 documents
2025-09-25 09:02:48 | INFO     | app.services.vector_store:add_documents:276 - Added 9 documents to collection kb_20035486
2025-09-25 09:02:48 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=9)
2025-09-25 09:03:57 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:03:57 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/5aa414d3b4f22e252c202ca699abcefd.docx
2025-09-25 09:03:57 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 工作流和对话流的操作指南.docx to knowledge base 39
2025-09-25 09:03:57 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.102s
2025-09-25 09:03:57 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 967
2025-09-25 09:03:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:03:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.009s
2025-09-25 09:03:58 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:03:58 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-25 09:03:58 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-25 09:03:58 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 工作流和对话流的操作指南.docx (chunks=1)
2025-09-25 09:04:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:04:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:04:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:04:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 09:04:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:04:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:04:09 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 09:04:09 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:04:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.912s
2025-09-25 09:04:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/download-url - Client: 127.0.0.1
2025-09-25 09:04:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/download-url - Status: 200 - Time: 0.036s
2025-09-25 09:04:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/download-url - Client: 127.0.0.1
2025-09-25 09:04:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/download-url - Status: 200 - Time: 0.054s
2025-09-25 09:04:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:04:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:04:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:04:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 09:04:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:04:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 09:04:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 09:04:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.015s
2025-09-25 09:04:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/download-url - Client: 127.0.0.1
2025-09-25 09:04:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/download-url - Status: 200 - Time: 0.031s
2025-09-25 09:04:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 09:04:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.017s
2025-09-25 09:05:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/download-url - Client: 127.0.0.1
2025-09-25 09:05:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/download-url - Status: 200 - Time: 0.031s
2025-09-25 09:05:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 09:05:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.013s
2025-09-25 09:05:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/140/download-url - Client: 127.0.0.1
2025-09-25 09:05:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/140/download-url - Status: 200 - Time: 0.028s
2025-09-25 09:05:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 09:05:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.013s
2025-09-25 09:05:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:05:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:05:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:05:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:05:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.019s
2025-09-25 09:05:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 09:05:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:05:51 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/dd0879b3aac84e79157212951dc6394d.pdf
2025-09-25 09:05:51 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.pdf to knowledge base 39
2025-09-25 09:05:51 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.072s
2025-09-25 09:05:52 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 32588
2025-09-25 09:05:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:05:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.002s
2025-09-25 09:05:54 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 9 texts using model text-embedding-v3
2025-09-25 09:05:54 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 9 documents
2025-09-25 09:05:54 | INFO     | app.services.vector_store:add_documents:276 - Added 9 documents to collection kb_20035486
2025-09-25 09:05:54 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.pdf (chunks=9)
2025-09-25 09:06:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:06:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 09:06:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:06:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-25 09:07:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:07:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.038s
2025-09-25 09:07:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:07:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:07:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 09:07:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.008s
2025-09-25 09:07:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:07:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:07:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:07:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-25 09:07:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:07:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:08:00 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 09:08:01 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:08:01 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.881s
2025-09-25 09:08:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/download-url - Client: 127.0.0.1
2025-09-25 09:08:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/download-url - Status: 200 - Time: 0.030s
2025-09-25 09:11:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/download-url - Client: 127.0.0.1
2025-09-25 09:11:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/download-url - Status: 200 - Time: 0.040s
2025-09-25 09:11:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/download-url - Client: 127.0.0.1
2025-09-25 09:11:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/download-url - Status: 200 - Time: 0.027s
2025-09-25 09:11:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/download-url - Client: 127.0.0.1
2025-09-25 09:11:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/download-url - Status: 200 - Time: 0.018s
2025-09-25 09:11:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/download-url - Client: 127.0.0.1
2025-09-25 09:11:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/download-url - Status: 200 - Time: 0.026s
2025-09-25 09:16:18 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-25 09:16:23 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 09:16:23 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 09:16:23 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 09:17:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:17:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.122s
2025-09-25 09:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:18:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 09:18:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:18:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 09:18:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:18:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 09:18:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:18:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:18:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:18:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.011s
2025-09-25 09:18:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:18:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.044s
2025-09-25 09:18:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:18:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:18:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:18:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:18:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.059s
2025-09-25 09:18:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.062s
2025-09-25 09:18:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 09:18:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:18:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:18:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:18:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-25 09:18:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:18:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:18:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:18:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.017s
2025-09-25 09:18:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 09:18:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 09:19:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:19:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.037s
2025-09-25 09:23:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:23:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:23:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:23:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.031s
2025-09-25 09:23:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:23:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 09:23:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:23:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.011s
2025-09-25 09:24:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:24:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-25 09:24:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:24:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:24:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:24:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 09:24:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:24:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 09:24:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:24:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.014s
2025-09-25 09:24:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:24:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.025s
2025-09-25 09:26:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:26:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.031s
2025-09-25 09:26:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:26:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:26:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:26:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 09:26:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:26:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:33:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:33:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-25 09:33:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:33:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.038s
2025-09-25 09:33:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:33:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.006s
2025-09-25 09:33:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:33:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 09:33:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:33:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.010s
2025-09-25 09:33:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 09:33:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.008s
2025-09-25 09:33:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 09:33:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.006s
2025-09-25 09:33:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:33:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.034s
2025-09-25 09:33:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 09:33:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 09:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.029s
2025-09-25 09:41:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 09:41:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.098s
2025-09-25 09:42:00 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 09:42:02 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:42:02 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.217s
2025-09-25 09:42:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:42:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:42:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 09:42:30 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:42:30 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.118s
2025-09-25 09:42:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:42:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:42:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 09:42:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.020s
2025-09-25 09:42:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:42:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:42:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:42:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 09:42:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:42:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:45:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:45:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 09:45:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:45:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-25 09:45:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:45:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:45:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:45:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:45:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:45:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:45:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:45:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-25 09:45:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:45:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 09:45:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 09:45:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.023s
2025-09-25 09:45:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 09:45:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.013s
2025-09-25 09:46:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:46:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:46:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:46:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 09:46:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:46:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-25 09:47:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:47:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.057s
2025-09-25 09:48:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:48:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:48:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 09:48:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.009s
2025-09-25 09:48:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:48:08 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/df3409fb9aad05253f033a4218fb3f69.pdf
2025-09-25 09:48:08 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录查询使用教程.pdf to knowledge base 39
2025-09-25 09:48:08 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.037s
2025-09-25 09:48:08 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 254
2025-09-25 09:48:09 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:48:09 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-25 09:48:09 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-25 09:48:09 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录查询使用教程.pdf (chunks=1)
2025-09-25 09:48:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 09:48:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.007s
2025-09-25 09:48:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:48:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 09:48:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:48:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.004s
2025-09-25 09:48:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:48:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.000s
2025-09-25 09:48:22 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 09:48:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 09:48:23 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.913s
2025-09-25 09:49:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 09:49:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 09:50:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:50:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:50:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:50:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 09:50:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:50:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 09:50:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 09:50:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.015s
2025-09-25 09:50:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 09:50:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 09:50:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:50:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:52:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:52:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:52:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:52:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.044s
2025-09-25 09:52:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:52:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.002s
2025-09-25 09:52:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:52:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:54:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.031s
2025-09-25 09:54:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 09:54:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:54:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:54:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 09:54:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:54:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 09:54:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 09:54:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 09:54:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 09:54:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 09:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:56:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:56:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 09:56:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:56:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.000s
2025-09-25 09:56:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:56:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:56:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:56:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 09:56:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:56:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 09:56:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:56:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:56:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:56:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:56:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:56:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:58:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.084s
2025-09-25 09:58:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:58:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:58:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:58:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:58:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.016s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 09:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:58:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:59:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:59:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:59:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:59:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 09:59:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:59:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 09:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.072s
2025-09-25 09:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 09:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 09:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 09:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:59:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:59:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 09:59:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 09:59:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.016s
2025-09-25 09:59:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 09:59:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.018s
2025-09-25 09:59:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 09:59:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 09:59:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 09:59:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 10:01:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:01:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 10:01:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:01:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:01:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 10:01:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.024s
2025-09-25 10:01:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 10:01:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.019s
2025-09-25 10:01:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 10:01:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.020s
2025-09-25 10:01:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 10:01:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.014s
2025-09-25 10:02:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:02:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 10:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 10:04:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:04:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-25 10:04:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:04:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-25 10:04:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:04:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.014s
2025-09-25 10:04:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.016s
2025-09-25 10:04:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 10:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 10:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 10:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 10:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 10:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.016s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:04:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 10:04:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:04:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 10:05:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:05:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 10:05:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:05:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.002s
2025-09-25 10:05:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:05:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 10:05:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:05:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 10:05:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:05:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 10:06:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:06:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 10:06:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:06:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.013s
2025-09-25 10:06:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:06:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 10:06:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:06:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 10:06:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:06:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 10:06:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:06:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 10:07:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:07:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 10:15:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:15:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.072s
2025-09-25 10:15:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:15:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.089s
2025-09-25 10:15:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:15:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 10:15:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 10:15:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.022s
2025-09-25 10:15:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:15:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 10:15:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:15:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.032s
2025-09-25 10:15:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 10:15:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.013s
2025-09-25 10:15:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:15:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.012s
2025-09-25 10:15:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:15:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:16:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 10:16:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.008s
2025-09-25 10:16:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:16:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.011s
2025-09-25 10:16:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 10:16:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.023s
2025-09-25 10:16:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:16:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:16:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:16:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.027s
2025-09-25 10:16:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 10:16:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.015s
2025-09-25 10:16:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 10:16:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.011s
2025-09-25 10:16:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 10:16:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.019s
2025-09-25 10:16:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:16:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:17:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:17:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.024s
2025-09-25 10:17:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:17:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.041s
2025-09-25 10:17:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 10:17:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.014s
2025-09-25 10:17:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:17:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.016s
2025-09-25 10:17:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:17:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.030s
2025-09-25 10:18:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:18:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 10:18:34 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 10:18:35 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 10:18:35 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.892s
2025-09-25 10:18:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:18:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.030s
2025-09-25 10:18:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:18:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.038s
2025-09-25 10:18:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:18:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.040s
2025-09-25 10:18:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:18:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.041s
2025-09-25 10:18:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:18:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.043s
2025-09-25 10:18:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:18:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.020s
2025-09-25 10:21:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:21:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-25 10:21:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:21:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.035s
2025-09-25 10:21:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:21:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:21:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:21:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.011s
2025-09-25 10:21:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:21:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.040s
2025-09-25 10:22:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:22:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 10:22:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:22:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 10:22:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:22:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 10:22:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:22:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.016s
2025-09-25 10:23:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:23:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.031s
2025-09-25 10:27:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:27:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-25 10:27:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:27:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.047s
2025-09-25 10:27:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:27:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 10:27:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:27:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.010s
2025-09-25 10:27:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:27:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.036s
2025-09-25 10:30:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:30:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 10:30:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:30:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-25 10:30:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:30:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 10:30:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:30:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.017s
2025-09-25 10:30:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:30:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.036s
2025-09-25 10:30:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:30:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:30:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:30:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:31:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:31:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.043s
2025-09-25 10:31:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 10:31:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.014s
2025-09-25 10:31:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 10:31:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.020s
2025-09-25 10:31:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Client: 127.0.0.1
2025-09-25 10:31:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Status: 200 - Time: 0.019s
2025-09-25 10:31:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 10:31:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.020s
2025-09-25 10:31:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 10:31:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.013s
2025-09-25 10:31:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:31:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.018s
2025-09-25 10:31:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:31:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.041s
2025-09-25 10:36:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:36:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-25 10:36:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:36:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.044s
2025-09-25 10:36:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:36:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 10:36:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:36:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.021s
2025-09-25 10:36:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:36:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.043s
2025-09-25 10:36:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:36:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.031s
2025-09-25 10:36:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.032s
2025-09-25 10:36:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:36:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:36:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:36:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.034s
2025-09-25 10:36:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:36:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.038s
2025-09-25 10:36:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:36:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.036s
2025-09-25 10:36:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:36:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.033s
2025-09-25 10:36:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.035s
2025-09-25 10:36:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:36:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:36:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.037s
2025-09-25 10:36:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:36:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.039s
2025-09-25 10:36:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.028s
2025-09-25 10:36:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:36:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.034s
2025-09-25 10:36:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:36:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.041s
2025-09-25 10:36:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:36:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 10:36:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.031s
2025-09-25 10:36:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:36:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:36:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:36:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.031s
2025-09-25 10:36:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:36:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:37:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:37:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 10:37:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:37:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.008s
2025-09-25 10:37:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:37:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 10:37:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:37:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.017s
2025-09-25 10:37:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:37:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.039s
2025-09-25 10:38:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:38:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.028s
2025-09-25 10:39:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:39:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.023s
2025-09-25 10:39:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:39:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.022s
2025-09-25 10:39:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:39:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.027s
2025-09-25 10:39:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:39:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.012s
2025-09-25 10:39:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:39:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:39:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:39:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:39:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:39:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.031s
2025-09-25 10:39:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:39:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.009s
2025-09-25 10:39:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:39:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 10:39:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:39:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:39:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:39:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.028s
2025-09-25 10:39:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:39:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.025s
2025-09-25 10:39:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:39:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.026s
2025-09-25 10:39:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:39:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.033s
2025-09-25 10:39:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:39:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.021s
2025-09-25 10:58:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:58:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-25 10:58:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:58:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-25 10:59:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 10:59:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 10:59:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 10:59:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.006s
2025-09-25 10:59:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 10:59:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 10:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 10:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.013s
2025-09-25 10:59:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 10:59:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.028s
2025-09-25 10:59:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 10:59:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.021s
2025-09-25 10:59:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:59:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.036s
2025-09-25 10:59:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 10:59:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.028s
2025-09-25 10:59:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 10:59:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.037s
2025-09-25 10:59:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 10:59:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:00:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:00:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 11:00:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:00:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.012s
2025-09-25 11:00:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:00:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 11:00:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:00:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.018s
2025-09-25 11:00:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:00:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.044s
2025-09-25 11:00:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:00:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:00:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:00:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.026s
2025-09-25 11:00:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:00:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:00:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:00:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:00:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:00:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.026s
2025-09-25 11:00:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:00:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:01:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:01:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:01:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:01:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:01:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:01:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:01:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:01:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.036s
2025-09-25 11:01:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:01:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.042s
2025-09-25 11:01:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:01:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.015s
2025-09-25 11:01:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:01:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.016s
2025-09-25 11:01:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:01:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:01:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:01:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.021s
2025-09-25 11:01:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:01:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:01:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:01:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.019s
2025-09-25 11:01:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:01:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:01:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:01:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:02:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:02:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 11:02:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:02:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 11:02:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:02:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 11:02:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:02:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.021s
2025-09-25 11:02:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:02:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.045s
2025-09-25 11:02:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:02:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:02:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:02:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:02:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:02:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 11:02:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:02:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 11:02:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:02:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.004s
2025-09-25 11:02:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:02:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 11:02:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:02:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.009s
2025-09-25 11:02:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:02:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.030s
2025-09-25 11:03:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:03:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:03:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:03:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:03:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:03:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:03:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:03:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 11:03:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:03:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 11:03:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:03:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 11:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.020s
2025-09-25 11:03:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:03:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.025s
2025-09-25 11:03:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:03:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.042s
2025-09-25 11:03:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:03:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:03:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:03:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:03:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:03:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.035s
2025-09-25 11:09:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:09:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.092s
2025-09-25 11:09:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:09:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-25 11:09:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:09:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.014s
2025-09-25 11:09:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:09:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 11:09:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:09:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.017s
2025-09-25 11:09:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:09:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:10:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:10:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:10:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:10:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.043s
2025-09-25 11:10:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:10:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.030s
2025-09-25 11:12:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:12:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.038s
2025-09-25 11:13:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:13:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 11:13:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:13:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 11:13:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:13:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 11:13:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 11:13:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.021s
2025-09-25 11:14:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 11:14:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:14:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.078s
2025-09-25 11:14:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.072s
2025-09-25 11:19:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:19:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 11:19:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:19:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 11:19:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:19:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.012s
2025-09-25 11:19:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:19:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 11:19:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:19:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.019s
2025-09-25 11:19:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:19:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:19:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:19:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.075s
2025-09-25 11:19:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:19:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.055s
2025-09-25 11:19:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:19:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:19:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:19:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.040s
2025-09-25 11:19:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:19:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.026s
2025-09-25 11:19:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:19:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.022s
2025-09-25 11:20:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:20:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:20:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.038s
2025-09-25 11:20:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.035s
2025-09-25 11:20:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:20:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.038s
2025-09-25 11:20:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:20:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 11:20:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:20:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-25 11:20:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:20:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 11:20:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:20:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.010s
2025-09-25 11:20:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:20:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.025s
2025-09-25 11:20:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:20:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:20:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:20:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:20:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.036s
2025-09-25 11:20:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:20:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:20:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:20:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:20:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.042s
2025-09-25 11:20:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:20:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:20:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:20:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:20:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.036s
2025-09-25 11:20:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:20:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.039s
2025-09-25 11:20:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:20:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:21:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:21:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:21:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:21:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.023s
2025-09-25 11:21:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:21:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:21:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:21:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.024s
2025-09-25 11:21:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:21:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.026s
2025-09-25 11:22:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:22:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:22:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:22:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.028s
2025-09-25 11:23:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:23:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 11:23:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:23:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 11:23:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:23:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 11:23:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:23:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.010s
2025-09-25 11:23:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:23:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.008s
2025-09-25 11:23:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:23:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:23:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:23:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.039s
2025-09-25 11:23:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:23:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:23:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:23:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.024s
2025-09-25 11:23:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:23:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.041s
2025-09-25 11:24:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:24:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 11:24:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:24:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 11:24:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:24:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 11:24:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:24:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.016s
2025-09-25 11:24:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:24:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:25:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:25:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.100s
2025-09-25 11:25:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:25:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.090s
2025-09-25 11:25:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:25:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:25:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:25:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:25:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:25:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.040s
2025-09-25 11:25:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:25:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.045s
2025-09-25 11:26:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:26:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:26:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:26:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:27:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:27:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 11:27:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:27:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.008s
2025-09-25 11:27:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:27:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 11:27:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:27:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.021s
2025-09-25 11:27:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:27:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.033s
2025-09-25 11:27:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:27:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.032s
2025-09-25 11:27:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:27:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.039s
2025-09-25 11:27:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:27:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.030s
2025-09-25 11:27:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:27:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:27:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:27:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:27:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:27:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.032s
2025-09-25 11:28:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:28:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.032s
2025-09-25 11:28:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:28:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.019s
2025-09-25 11:28:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:28:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.025s
2025-09-25 11:28:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:28:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.024s
2025-09-25 11:28:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:28:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:28:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:28:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.035s
2025-09-25 11:28:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:28:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.036s
2025-09-25 11:28:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:28:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.036s
2025-09-25 11:28:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:28:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:28:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:28:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.038s
2025-09-25 11:28:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:28:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.035s
2025-09-25 11:28:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 11:28:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.037s
2025-09-25 11:29:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:29:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.032s
2025-09-25 11:29:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:29:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.029s
2025-09-25 11:29:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:29:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:30:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:30:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.041s
2025-09-25 11:30:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:30:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.024s
2025-09-25 11:30:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:30:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.105s
2025-09-25 11:30:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:30:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.090s
2025-09-25 11:30:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:30:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:32:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:32:19 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:32:19 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.036s
2025-09-25 11:32:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:32:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:32:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:32:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.013s
2025-09-25 11:32:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:32:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.032s
2025-09-25 11:32:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:32:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.031s
2025-09-25 11:32:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 11:32:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.043s
2025-09-25 11:32:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 11:32:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.034s
2025-09-25 11:32:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 11:32:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.027s
2025-09-25 11:33:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 11:33:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.018s
2025-09-25 11:33:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 11:33:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.017s
2025-09-25 11:33:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 11:33:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.018s
2025-09-25 11:33:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 11:33:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.023s
2025-09-25 11:33:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 11:33:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.013s
2025-09-25 11:33:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Client: 127.0.0.1
2025-09-25 11:33:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Status: 200 - Time: 0.016s
2025-09-25 11:33:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 11:33:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.022s
2025-09-25 11:33:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 11:33:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.024s
2025-09-25 11:33:23 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:33:24 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:33:24 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.869s
2025-09-25 11:38:06 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:38:07 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:38:07 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.852s
2025-09-25 11:38:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:38:28 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:38:28 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.795s
2025-09-25 11:40:26 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:40:27 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:40:27 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.777s
2025-09-25 11:52:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:52:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-25 11:54:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:54:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.050s
2025-09-25 11:55:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:55:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 11:55:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:55:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 11:55:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:55:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 11:55:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 11:55:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 11:55:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 11:55:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-25 11:55:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 11:55:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 11:55:43 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:55:44 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:55:44 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.942s
2025-09-25 11:55:58 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 11:55:59 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 11:55:59 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.944s
2025-09-25 11:58:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 11:58:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.042s
2025-09-25 12:06:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 12:06:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.092s
2025-09-25 12:06:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 12:06:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.086s
2025-09-25 12:07:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 12:07:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.027s
2025-09-25 12:07:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 12:07:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.036s
2025-09-25 12:07:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 12:07:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.025s
2025-09-25 12:08:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:08:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 12:08:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 12:08:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 12:08:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.014s
2025-09-25 12:08:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-25 12:08:20 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/55c86dae8937aa68a35ab75c3e255b75.docx
2025-09-25 12:08:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/df3409fb9aad05253f033a4218fb3f69.pdf
2025-09-25 12:08:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 39
2025-09-25 12:08:21 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/dd0879b3aac84e79157212951dc6394d.pdf
2025-09-25 12:08:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.318s
2025-09-25 12:08:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.docx to knowledge base 39
2025-09-25 12:08:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.317s
2025-09-25 12:08:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录查询使用教程.pdf to knowledge base 39
2025-09-25 12:08:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.335s
2025-09-25 12:08:21 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.pdf to knowledge base 39
2025-09-25 12:08:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.342s
2025-09-25 12:08:21 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 254
2025-09-25 12:08:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 32588
2025-09-25 12:08:22 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_39/2025/09/25/f2a7df2768f1daa527aee8f806981e2a.docx
2025-09-25 12:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 12:08:22 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录查询使用教程.docx to knowledge base 39
2025-09-25 12:08:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/39/files - Status: 200 - Time: 1.366s
2025-09-25 12:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.010s
2025-09-25 12:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.013s
2025-09-25 12:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.012s
2025-09-25 12:08:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 265
2025-09-25 12:08:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 31833
2025-09-25 12:08:22 | INFO     | app.services.text_splitter:create_chunks:255 - Created 8 chunks from text of length 12589
2025-09-25 12:08:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 12:08:23 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-25 12:08:23 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-25 12:08:23 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录查询使用教程.pdf (chunks=1)
2025-09-25 12:08:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:08:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.007s
2025-09-25 12:08:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 12:08:23 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-25 12:08:23 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_20035486
2025-09-25 12:08:23 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录查询使用教程.docx (chunks=1)
2025-09-25 12:08:24 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 5 texts using model text-embedding-v3
2025-09-25 12:08:24 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 5 documents
2025-09-25 12:08:24 | INFO     | app.services.vector_store:add_documents:276 - Added 5 documents to collection kb_20035486
2025-09-25 12:08:24 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx (chunks=5)
2025-09-25 12:08:24 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 9 texts using model text-embedding-v3
2025-09-25 12:08:24 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 9 documents
2025-09-25 12:08:24 | INFO     | app.services.vector_store:add_documents:276 - Added 9 documents to collection kb_20035486
2025-09-25 12:08:25 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.pdf (chunks=9)
2025-09-25 12:08:25 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 9 texts using model text-embedding-v3
2025-09-25 12:08:25 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 9 documents
2025-09-25 12:08:25 | INFO     | app.services.vector_store:add_documents:276 - Added 9 documents to collection kb_20035486
2025-09-25 12:08:25 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.docx (chunks=9)
2025-09-25 12:10:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:10:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 12:10:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 12:10:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 12:10:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.019s
2025-09-25 12:10:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.021s
2025-09-25 12:12:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 12:12:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 12:12:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-25 12:12:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.081s
2025-09-25 12:12:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 12:12:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 12:12:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 12:12:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 12:12:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 12:12:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 14:42:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:42:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.036s
2025-09-25 14:42:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:42:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.030s
2025-09-25 14:42:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:42:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.030s
2025-09-25 14:42:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 14:42:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.045s
2025-09-25 14:42:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 14:42:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.009s
2025-09-25 14:42:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 14:42:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.010s
2025-09-25 14:42:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:42:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.000s
2025-09-25 14:49:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:49:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-25 14:50:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:50:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-25 14:50:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:50:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.060s
2025-09-25 14:50:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:50:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.051s
2025-09-25 14:50:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:50:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 14:50:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:50:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.011s
2025-09-25 14:50:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:50:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.038s
2025-09-25 14:50:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:50:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.026s
2025-09-25 14:50:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:50:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.043s
2025-09-25 14:51:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:51:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 14:51:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:51:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 14:51:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:51:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 14:51:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:51:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 14:51:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 14:51:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.012s
2025-09-25 14:51:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:51:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.036s
2025-09-25 14:51:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:51:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.034s
2025-09-25 14:51:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:51:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.042s
2025-09-25 14:51:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:51:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.034s
2025-09-25 14:51:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:51:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.040s
2025-09-25 14:51:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:51:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.039s
2025-09-25 14:51:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:51:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.027s
2025-09-25 14:51:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:51:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.030s
2025-09-25 14:51:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 14:51:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.033s
2025-09-25 14:51:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:51:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.033s
2025-09-25 14:51:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:51:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.034s
2025-09-25 14:51:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:51:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.015s
2025-09-25 14:51:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:51:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.043s
2025-09-25 14:51:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:51:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.017s
2025-09-25 14:51:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 14:51:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.044s
2025-09-25 14:51:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:51:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.019s
2025-09-25 14:51:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:51:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.038s
2025-09-25 14:51:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Client: 127.0.0.1
2025-09-25 14:51:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2f0df960-1e4b-437f-a392-adf0ce16bf38/messages - Status: 200 - Time: 0.014s
2025-09-25 14:51:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/140/open-url - Client: 127.0.0.1
2025-09-25 14:51:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/140/open-url - Status: 200 - Time: 0.043s
2025-09-25 14:51:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 14:51:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.017s
2025-09-25 14:51:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Client: 127.0.0.1
2025-09-25 14:51:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/723a8592-1c36-40c2-883f-8300f6528cd0/messages - Status: 200 - Time: 0.012s
2025-09-25 14:51:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Client: 127.0.0.1
2025-09-25 14:51:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Status: 200 - Time: 0.018s
2025-09-25 14:51:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 14:51:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.024s
2025-09-25 14:51:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 14:51:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.020s
2025-09-25 14:52:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 14:52:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.028s
2025-09-25 14:52:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:52:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.014s
2025-09-25 14:52:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 14:52:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.040s
2025-09-25 14:52:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/141/open-url - Client: 127.0.0.1
2025-09-25 14:52:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/141/open-url - Status: 200 - Time: 0.025s
2025-09-25 14:53:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:53:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 14:53:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:53:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.012s
2025-09-25 14:53:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:53:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.018s
2025-09-25 14:53:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:53:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.015s
2025-09-25 14:53:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:53:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.018s
2025-09-25 14:54:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:54:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 14:54:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:54:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 14:54:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:54:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 14:54:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:54:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.022s
2025-09-25 14:54:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:54:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.028s
2025-09-25 14:54:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 14:54:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.043s
2025-09-25 14:54:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:54:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.027s
2025-09-25 14:54:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:54:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.041s
2025-09-25 14:54:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:54:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 14:54:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:54:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 14:54:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:54:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 14:54:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Client: 127.0.0.1
2025-09-25 14:54:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d0c74881-9c98-49ba-9d03-e227b8e17e08/messages - Status: 200 - Time: 0.019s
2025-09-25 14:54:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 14:54:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.023s
2025-09-25 14:54:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:54:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 14:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 14:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 14:54:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 14:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 14:54:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 14:54:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 14:54:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.009s
2025-09-25 14:54:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 14:54:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.030s
2025-09-25 14:54:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 14:54:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.033s
2025-09-25 14:54:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 14:54:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.029s
2025-09-25 14:59:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:59:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-25 14:59:41 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-25 14:59:45 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 14:59:45 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 14:59:45 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 14:59:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 14:59:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.128s
2025-09-25 15:01:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:01:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 15:01:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:01:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 15:01:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:01:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.009s
2025-09-25 15:01:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:01:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 15:01:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 15:01:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.013s
2025-09-25 15:01:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 15:01:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.012s
2025-09-25 15:08:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:08:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-25 15:08:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:08:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:08:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:08:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 15:08:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:08:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 15:08:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:08:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:08:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.069s
2025-09-25 15:08:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.081s
2025-09-25 15:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:08:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:08:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.014s
2025-09-25 15:08:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:08:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 15:08:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 15:08:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.029s
2025-09-25 15:08:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 15:08:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.029s
2025-09-25 15:08:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 15:08:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.026s
2025-09-25 15:08:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/145/open-url - Client: 127.0.0.1
2025-09-25 15:08:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/145/open-url - Status: 200 - Time: 0.035s
2025-09-25 15:11:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:11:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 15:11:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:11:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 15:11:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:11:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 15:11:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:11:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 15:11:38 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 15:11:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 15:11:39 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.799s
2025-09-25 15:11:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 15:11:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.024s
2025-09-25 15:11:50 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 15:11:51 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 15:11:51 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.842s
2025-09-25 15:11:59 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 15:11:59 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 15:11:59 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.728s
2025-09-25 15:12:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:12:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 15:12:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:12:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.013s
2025-09-25 15:12:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 15:12:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.010s
2025-09-25 15:12:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:12:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.009s
2025-09-25 15:12:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:12:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 15:12:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:12:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.003s
2025-09-25 15:12:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:12:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 15:12:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:12:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.014s
2025-09-25 15:12:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 15:12:30 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 15:12:30 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.805s
2025-09-25 15:12:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/146/open-url - Client: 127.0.0.1
2025-09-25 15:12:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/146/open-url - Status: 200 - Time: 0.023s
2025-09-25 15:12:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/142/open-url - Client: 127.0.0.1
2025-09-25 15:12:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/142/open-url - Status: 200 - Time: 0.022s
2025-09-25 15:12:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/143/open-url - Client: 127.0.0.1
2025-09-25 15:12:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/143/open-url - Status: 200 - Time: 0.025s
2025-09-25 15:12:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/146/open-url - Client: 127.0.0.1
2025-09-25 15:12:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/146/open-url - Status: 200 - Time: 0.029s
2025-09-25 15:13:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:13:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.004s
2025-09-25 15:13:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:13:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.053s
2025-09-25 15:13:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 15:13:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.009s
2025-09-25 15:13:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:13:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.010s
2025-09-25 15:13:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/149/open-url - Client: 127.0.0.1
2025-09-25 15:13:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/149/open-url - Status: 200 - Time: 0.024s
2025-09-25 15:13:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/147/open-url - Client: 127.0.0.1
2025-09-25 15:13:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/147/open-url - Status: 200 - Time: 0.026s
2025-09-25 15:13:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/144/open-url - Client: 127.0.0.1
2025-09-25 15:13:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/144/open-url - Status: 200 - Time: 0.059s
2025-09-25 15:15:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:15:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 15:16:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:16:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 15:16:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:16:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 15:17:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:17:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 15:17:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:17:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 15:17:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:17:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 15:17:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:17:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:17:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 15:17:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.014s
2025-09-25 15:17:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:17:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:18:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:18:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.013s
2025-09-25 15:18:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:18:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.076s
2025-09-25 15:18:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:18:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.034s
2025-09-25 15:18:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:18:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.016s
2025-09-25 15:18:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:18:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:18:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.052s
2025-09-25 15:18:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.070s
2025-09-25 15:18:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:18:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 15:18:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:18:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 15:18:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:18:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 15:18:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:18:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:19:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:19:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 15:19:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:19:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 15:19:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:19:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-25 15:19:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:19:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 15:19:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 15:19:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.020s
2025-09-25 15:19:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 15:19:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.040s
2025-09-25 15:19:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Client: 127.0.0.1
2025-09-25 15:19:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d9511856-5d93-410c-8976-831ceb19dbc9/messages - Status: 200 - Time: 0.016s
2025-09-25 15:19:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 15:19:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.021s
2025-09-25 15:19:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:19:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 15:19:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:19:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:19:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:19:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 15:27:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:27:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.043s
2025-09-25 15:27:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:27:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.046s
2025-09-25 15:30:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:30:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-25 15:30:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:30:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 15:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.076s
2025-09-25 15:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.083s
2025-09-25 15:34:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 15:34:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 15:34:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.014s
2025-09-25 15:34:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 15:34:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.013s
2025-09-25 15:34:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.016s
2025-09-25 15:34:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.022s
2025-09-25 15:34:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 15:34:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.017s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.017s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.018s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.026s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.023s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.022s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.022s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.021s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.024s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.020s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.024s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.017s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.018s
2025-09-25 15:34:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.015s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.018s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.018s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.020s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.024s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.021s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.027s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 15:34:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.018s
2025-09-25 15:34:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.017s
2025-09-25 15:34:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.028s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.021s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.014s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.017s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.017s
2025-09-25 15:34:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.020s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.023s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.022s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.018s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.021s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.019s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.024s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.022s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.016s
2025-09-25 15:34:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.022s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.021s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.020s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.020s
2025-09-25 15:34:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.019s
2025-09-25 15:35:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:35:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-25 15:35:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:35:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.013s
2025-09-25 15:35:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:35:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 15:35:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 15:35:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.028s
2025-09-25 15:39:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:39:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-25 15:39:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 15:39:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.071s
2025-09-25 15:39:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:39:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 15:39:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:39:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 15:39:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 15:39:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.028s
2025-09-25 15:40:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.016s
2025-09-25 15:40:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Client: 127.0.0.1
2025-09-25 15:40:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/70066176-21b6-4f79-ab3e-86f6a09e95e6/messages - Status: 200 - Time: 0.012s
2025-09-25 15:40:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.011s
2025-09-25 15:40:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 15:40:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 15:40:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 15:40:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.015s
2025-09-25 15:40:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 15:40:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 15:40:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.013s
2025-09-25 15:42:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 15:42:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 15:48:22 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-25 15:49:37 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 15:49:37 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 15:49:37 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 16:02:41 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 16:02:41 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 16:02:41 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 16:02:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:02:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.137s
2025-09-25 16:27:19 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 16:27:19 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 16:27:19 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 16:27:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:27:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.140s
2025-09-25 16:27:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 16:27:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 16:27:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:27:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.010s
2025-09-25 16:27:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 16:27:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.023s
2025-09-25 16:27:37 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:27:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:27:38 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.982s
2025-09-25 16:27:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:27:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.009s
2025-09-25 16:27:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 16:27:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.019s
2025-09-25 16:27:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 16:27:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.008s
2025-09-25 16:27:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 16:27:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.018s
2025-09-25 16:28:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Client: 127.0.0.1
2025-09-25 16:28:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49e66d86-1225-4a8f-8154-6d99a7a63ba0/messages - Status: 200 - Time: 0.011s
2025-09-25 16:28:05 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:28:06 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:28:06 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.726s
2025-09-25 16:28:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 16:28:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:28:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 16:28:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 16:28:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 16:28:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 16:28:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 16:28:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 16:28:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:28:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:28:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 16:28:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 16:28:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.010s
2025-09-25 16:28:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:28:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.012s
2025-09-25 16:28:44 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:28:45 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:28:45 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.938s
2025-09-25 16:29:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 16:29:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.023s
2025-09-25 16:29:14 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:29:15 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:29:15 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.853s
2025-09-25 16:29:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:29:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 16:29:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 16:29:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:29:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.061s
2025-09-25 16:29:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.063s
2025-09-25 16:29:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:29:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 16:29:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 16:29:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 16:29:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:29:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.007s
2025-09-25 16:29:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 16:29:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.008s
2025-09-25 16:29:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:29:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 16:30:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39/files - Client: 127.0.0.1
2025-09-25 16:30:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:30:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.006s
2025-09-25 16:30:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39/files - Status: 200 - Time: 0.010s
2025-09-25 16:30:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:30:18 | INFO     | app.services.vector_store:create_knowledge_base_collection:362 - Ensured Chroma collection exists: kb_4afb123d
2025-09-25 16:30:18 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:89 - Created knowledge base: 测试 (ID: 40)
2025-09-25 16:30:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-25 16:30:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:30:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.007s
2025-09-25 16:30:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-25 16:30:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:30:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.007s
2025-09-25 16:30:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-25 16:30:30 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:30 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_40/2025/09/25/dd0879b3aac84e79157212951dc6394d.pdf
2025-09-25 16:30:30 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 环评名录测试问答对.pdf to knowledge base 40
2025-09-25 16:30:30 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.067s
2025-09-25 16:30:31 | INFO     | app.services.text_splitter:create_chunks:255 - Created 34 chunks from text of length 32588
2025-09-25 16:30:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.006s
2025-09-25 16:30:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-25 16:30:34 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 7 texts using model text-embedding-v3
2025-09-25 16:30:34 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 17 documents
2025-09-25 16:30:34 | INFO     | app.services.vector_store:add_documents:276 - Added 17 documents to collection kb_4afb123d
2025-09-25 16:30:34 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 环评名录测试问答对.pdf (chunks=17)
2025-09-25 16:30:52 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:52 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_40/2025/09/25/cb2882490ac6b9905c47dfe4525aeab0.docx
2025-09-25 16:30:52 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file 排污许可证申请表 (玻璃制造）.docx to knowledge base 40
2025-09-25 16:30:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.082s
2025-09-25 16:30:52 | INFO     | app.services.text_splitter:create_chunks:255 - Created 17 chunks from text of length 12589
2025-09-25 16:30:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-25 16:30:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.006s
2025-09-25 16:30:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 8 texts using model text-embedding-v3
2025-09-25 16:30:55 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 8 documents
2025-09-25 16:30:55 | INFO     | app.services.vector_store:add_documents:276 - Added 8 documents to collection kb_4afb123d
2025-09-25 16:30:55 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file 排污许可证申请表 (玻璃制造）.docx (chunks=8)
2025-09-25 16:31:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:31:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 16:31:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 16:31:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.010s
2025-09-25 16:31:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:31:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 16:31:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:31:09 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:31:09 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.955s
2025-09-25 16:31:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:31:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-25 16:31:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:31:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.011s
2025-09-25 16:31:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:31:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.005s
2025-09-25 16:31:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/151/open-url - Client: 127.0.0.1
2025-09-25 16:31:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/151/open-url - Status: 200 - Time: 0.010s
2025-09-25 16:31:45 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:31:46 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:31:46 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.732s
2025-09-25 16:32:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:32:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.004s
2025-09-25 16:32:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:32:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.002s
2025-09-25 16:32:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:32:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.013s
2025-09-25 16:37:46 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:37:47 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:37:47 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.776s
2025-09-25 16:38:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:38:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-25 16:38:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 16:38:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.008s
2025-09-25 16:38:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:38:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-25 16:38:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 16:38:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.007s
2025-09-25 16:38:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 16:38:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.008s
2025-09-25 16:38:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 16:38:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.002s
2025-09-25 16:38:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/1bd73344-13bc-48d3-8997-3f983deadbe5/messages - Client: 127.0.0.1
2025-09-25 16:38:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/1bd73344-13bc-48d3-8997-3f983deadbe5/messages - Status: 200 - Time: 0.009s
2025-09-25 16:38:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Client: 127.0.0.1
2025-09-25 16:38:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/21a4b29c-8137-4050-a5de-36fd5cd6f2f0/messages - Status: 200 - Time: 0.012s
2025-09-25 16:38:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Client: 127.0.0.1
2025-09-25 16:38:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c234fba-8e28-4e29-ac31-60dcc6327ef0/messages - Status: 200 - Time: 0.014s
2025-09-25 16:38:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Client: 127.0.0.1
2025-09-25 16:38:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a3d67f05-983f-4a90-a0b2-a1303494605e/messages - Status: 200 - Time: 0.009s
2025-09-25 16:38:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 16:38:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 16:38:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:38:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-25 16:38:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:38:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.008s
2025-09-25 16:38:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-25 16:38:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.024s
2025-09-25 16:40:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:40:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:40:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:40:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 16:41:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:41:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:42:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:42:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:42:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 16:42:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 16:42:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:42:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 16:42:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:42:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.011s
2025-09-25 16:42:40 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:42:40 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:42:40 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.802s
2025-09-25 16:44:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:44:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-25 16:44:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:44:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-25 16:44:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:44:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 16:44:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:44:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 16:46:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 16:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 16:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-25 16:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-25 16:46:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-25 16:46:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 16:46:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 16:46:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 16:46:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 16:46:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 16:46:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 16:46:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 16:46:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-25 16:46:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 16:46:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.013s
2025-09-25 16:47:11 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:47:11 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:47:11 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.740s
2025-09-25 16:53:15 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 16:53:16 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 16:53:16 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.793s
2025-09-25 16:58:24 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-25 16:58:31 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-25 16:58:31 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-25 16:58:31 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-25 17:03:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:03:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.156s
2025-09-25 17:03:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:03:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.016s
2025-09-25 17:03:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:03:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 17:03:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:03:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.055s
2025-09-25 17:03:28 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:03:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:03:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.951s
2025-09-25 17:03:38 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:03:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:03:38 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.859s
2025-09-25 17:04:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:04:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 17:04:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:04:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 17:04:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:04:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:04:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:04:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-25 17:04:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:04:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:05:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:05:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:05:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:05:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:05:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:05:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-25 17:06:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:06:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:06:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:06:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:06:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:06:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:06:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:06:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 17:06:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:06:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:07:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:07:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:07:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:07:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:07:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:07:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:07:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:07:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-25 17:07:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:07:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:07:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 17:07:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.005s
2025-09-25 17:07:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 17:07:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.005s
2025-09-25 17:07:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:07:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.004s
2025-09-25 17:07:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:07:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-25 17:07:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:07:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.016s
2025-09-25 17:07:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:07:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:07:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.859s
2025-09-25 17:08:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:08:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-25 17:08:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:08:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.013s
2025-09-25 17:08:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:08:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 17:08:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:08:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.022s
2025-09-25 17:08:54 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:08:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:08:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.950s
2025-09-25 17:09:58 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:09:58 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:09:58 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.706s
2025-09-25 17:10:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:10:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:10:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:10:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.007s
2025-09-25 17:10:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:10:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-25 17:10:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:10:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.016s
2025-09-25 17:11:00 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:11:01 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:11:01 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.903s
2025-09-25 17:11:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:11:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 17:11:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 17:11:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.011s
2025-09-25 17:11:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/39 - Client: 127.0.0.1
2025-09-25 17:11:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/39 - Status: 200 - Time: 0.018s
2025-09-25 17:11:49 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:11:50 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:11:50 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.879s
2025-09-25 17:11:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:11:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 17:12:00 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/39 - Client: 127.0.0.1
2025-09-25 17:12:00 | INFO     | app.services.vector_store:delete_collection:179 - Deleted Chroma collection: kb_20035486
2025-09-25 17:12:00 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_20035486
2025-09-25 17:12:00 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 检验知识库 (ID: 39)
2025-09-25 17:12:00 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/39 - Status: 200 - Time: 0.090s
2025-09-25 17:12:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:12:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-25 17:12:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:12:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.009s
2025-09-25 17:12:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:12:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-25 17:12:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:12:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.029s
2025-09-25 17:12:11 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:12:12 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:12:12 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.847s
2025-09-25 17:15:55 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:15:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:15:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.929s
2025-09-25 17:21:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:21:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-25 17:21:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:21:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 17:21:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:21:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.012s
2025-09-25 17:21:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:21:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 17:21:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 17:21:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.024s
2025-09-25 17:21:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:21:28 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:21:28 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.824s
2025-09-25 17:24:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:24:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 17:25:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:25:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:25:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:25:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.007s
2025-09-25 17:25:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:25:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 17:25:26 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:25:27 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:25:27 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.758s
2025-09-25 17:25:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:25:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:25:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.911s
2025-09-25 17:27:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:27:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-25 17:27:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:27:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 17:27:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:27:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 17:27:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 17:27:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.012s
2025-09-25 17:27:09 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:27:10 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:27:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.926s
2025-09-25 17:27:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:27:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:27:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:27:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-25 17:27:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:27:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 17:27:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 17:27:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.030s
2025-09-25 17:27:45 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:27:46 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:27:46 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.871s
2025-09-25 17:29:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:29:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 17:29:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:29:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:30:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:30:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:30:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:30:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 17:30:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:30:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 17:30:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 17:30:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.014s
2025-09-25 17:30:21 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:30:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:30:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.913s
2025-09-25 17:30:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:30:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 17:31:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:31:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 17:31:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:31:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 17:31:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:31:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.004s
2025-09-25 17:31:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:31:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-25 17:31:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 17:31:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.010s
2025-09-25 17:31:28 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:31:28 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:31:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.878s
2025-09-25 17:33:05 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:33:06 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:33:06 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.074s
2025-09-25 17:34:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:34:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:34:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.806s
2025-09-25 17:35:19 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:35:20 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:35:20 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.981s
2025-09-25 17:38:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:38:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-25 17:38:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:38:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-25 17:38:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:38:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 17:38:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:38:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-25 17:38:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:38:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.028s
2025-09-25 17:38:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:38:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:38:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 1.089s
2025-09-25 17:39:28 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 17:39:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 17:39:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.787s
2025-09-25 17:40:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:40:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-25 17:42:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:42:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.012s
2025-09-25 17:42:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:42:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-25 17:42:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:42:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.052s
2025-09-25 17:48:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:48:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-25 17:48:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 17:48:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.007s
2025-09-25 17:48:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 17:48:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 17:48:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 17:48:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.019s
2025-09-25 17:59:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 17:59:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-25 18:00:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:00:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 18:00:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 18:00:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.007s
2025-09-25 18:00:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 18:00:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:00:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.032s
2025-09-25 18:00:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:00:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.025s
2025-09-25 18:00:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:00:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.041s
2025-09-25 18:00:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-25 18:00:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.047s
2025-09-25 18:00:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/151/open-url - Client: 127.0.0.1
2025-09-25 18:00:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/151/open-url - Status: 200 - Time: 0.031s
2025-09-25 18:00:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:00:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.035s
2025-09-25 18:00:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:00:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.023s
2025-09-25 18:00:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:00:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.032s
2025-09-25 18:00:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:00:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.042s
2025-09-25 18:00:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:00:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.032s
2025-09-25 18:00:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:00:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.024s
2025-09-25 18:00:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-25 18:00:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 18:00:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 18:00:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-25 18:00:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-25 18:00:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 18:00:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-25 18:00:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-25 18:00:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 18:00:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-25 18:00:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 18:00:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-25 18:00:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-25 18:00:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:00:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-25 18:01:01 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 18:01:02 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 18:01:02 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.846s
2025-09-25 18:01:11 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 18:01:12 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 18:01:12 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.861s
2025-09-25 18:01:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-25 18:01:21 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-25 18:01:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.961s
2025-09-25 18:01:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:01:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.053s
2025-09-25 18:01:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:01:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.036s
2025-09-25 18:01:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:01:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.022s
2025-09-25 18:01:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:01:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.037s
2025-09-25 18:01:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:01:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.038s
2025-09-25 18:01:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:01:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.032s
2025-09-25 18:01:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:01:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.029s
2025-09-25 18:01:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:01:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.044s
2025-09-25 18:01:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:01:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.033s
2025-09-25 18:01:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:01:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.025s
2025-09-25 18:01:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:01:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.023s
2025-09-25 18:02:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:02:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.000s
2025-09-25 18:02:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:02:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-25 18:02:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 18:02:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-25 18:02:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:02:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.000s
2025-09-25 18:02:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:02:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.018s
2025-09-25 18:02:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:02:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.014s
2025-09-25 18:02:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:02:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.039s
2025-09-25 18:02:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:02:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.036s
2025-09-25 18:02:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-25 18:02:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.032s
2025-09-25 18:02:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/151/open-url - Client: 127.0.0.1
2025-09-25 18:02:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/151/open-url - Status: 200 - Time: 0.032s
2025-09-25 18:02:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:02:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-25 18:02:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 18:02:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.009s
2025-09-25 18:02:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:02:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-25 18:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.039s
2025-09-25 18:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.025s
2025-09-25 18:02:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:02:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.033s
2025-09-25 18:02:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:02:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.039s
2025-09-25 18:03:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:03:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.045s
2025-09-25 18:03:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:03:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.034s
2025-09-25 18:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.037s
2025-09-25 18:03:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-25 18:03:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.024s
2025-09-25 18:03:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:03:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.045s
2025-09-25 18:03:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:03:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.024s
2025-09-25 18:03:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:03:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-25 18:03:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:03:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 18:03:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 18:03:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-25 18:03:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:03:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-25 18:03:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:03:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.038s
2025-09-25 18:03:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-25 18:03:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.028s
2025-09-25 18:03:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:03:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-25 18:03:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:03:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-25 18:03:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-25 18:03:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-25 18:03:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-25 18:03:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.012s
2025-09-25 18:03:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-25 18:03:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.008s
2025-09-25 18:03:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-25 18:03:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.047s
2025-09-26 08:36:34 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-26 08:36:34 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-26 08:36:34 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-26 08:36:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 08:36:35 | ERROR    | app.api.v1.endpoints.knowledge_bases:list_knowledge_bases:54 - Error listing knowledge bases: password authentication failed for user "postgres"
2025-09-26 08:36:35 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to list knowledge bases
2025-09-26 08:36:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 500 - Time: 0.044s
2025-09-26 08:36:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 08:36:49 | ERROR    | app.api.v1.endpoints.knowledge_bases:list_knowledge_bases:54 - Error listing knowledge bases: password authentication failed for user "postgres"
2025-09-26 08:36:49 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to list knowledge bases
2025-09-26 08:36:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 500 - Time: 0.028s
2025-09-26 08:36:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-26 08:39:33 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-26 08:39:33 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-26 08:39:33 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-26 08:39:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 08:39:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.246s
2025-09-26 08:39:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 08:39:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.014s
2025-09-26 08:39:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 08:39:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.015s
2025-09-26 08:39:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 08:39:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.041s
2025-09-26 08:43:02 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-26 08:43:59 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-26 08:43:59 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-26 08:43:59 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-26 08:56:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 08:56:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.143s
2025-09-26 08:56:08 | INFO     | app.main:log_requests:51 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-26 08:56:08 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Not Found
2025-09-26 08:56:08 | INFO     | app.main:log_requests:62 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.001s
2025-09-26 09:44:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 09:44:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-26 09:45:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 09:45:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.009s
2025-09-26 09:45:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 09:45:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 09:45:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 09:45:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.048s
2025-09-26 09:45:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-26 09:45:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.048s
2025-09-26 09:45:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-26 09:45:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.025s
2025-09-26 09:45:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/151/open-url - Client: 127.0.0.1
2025-09-26 09:45:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/151/open-url - Status: 200 - Time: 0.038s
2025-09-26 09:45:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/152/open-url - Client: 127.0.0.1
2025-09-26 09:45:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/152/open-url - Status: 200 - Time: 0.039s
2025-09-26 09:48:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 09:48:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 09:48:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 09:48:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 09:48:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 09:48:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 09:48:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 09:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.009s
2025-09-26 09:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 09:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 09:53:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 09:53:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-26 10:22:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:22:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.058s
2025-09-26 10:24:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:24:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:24:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:24:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-26 10:24:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 10:24:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:24:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.065s
2025-09-26 10:24:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.072s
2025-09-26 10:24:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:24:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 10:24:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:24:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 10:25:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:25:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 10:25:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-26 10:25:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 10:25:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:25:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 10:25:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-26 10:25:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:25:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:25:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 10:25:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.035s
2025-09-26 10:25:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:25:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.043s
2025-09-26 10:25:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.023s
2025-09-26 10:25:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 10:25:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.038s
2025-09-26 10:25:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.032s
2025-09-26 10:25:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 10:25:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:25:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:25:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 10:25:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.025s
2025-09-26 10:25:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.030s
2025-09-26 10:25:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 10:25:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:25:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.028s
2025-09-26 10:25:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 10:25:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:25:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.055s
2025-09-26 10:25:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-26 10:25:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-26 10:25:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:25:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 10:25:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:25:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 10:26:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:26:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:26:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:26:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 10:26:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:26:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.033s
2025-09-26 10:26:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:26:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 10:26:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:26:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 10:26:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:26:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 10:26:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:26:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 10:26:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:26:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:26:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:26:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 10:28:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:28:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.069s
2025-09-26 10:28:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:28:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.000s
2025-09-26 10:28:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:28:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:28:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:28:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 10:29:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:29:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 10:32:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:32:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.070s
2025-09-26 10:32:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:32:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:32:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:32:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 10:32:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:32:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:32:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:32:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 10:32:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 10:32:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.027s
2025-09-26 10:32:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:32:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.047s
2025-09-26 10:32:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:32:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.022s
2025-09-26 10:33:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:33:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:33:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:33:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.095s
2025-09-26 10:33:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:33:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:33:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 10:33:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.008s
2025-09-26 10:33:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:33:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 10:33:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:33:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.033s
2025-09-26 10:33:57 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 10:33:58 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 10:33:58 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.976s
2025-09-26 10:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 10:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.024s
2025-09-26 10:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.031s
2025-09-26 10:34:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 10:34:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.040s
2025-09-26 10:41:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:41:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-26 10:42:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-26 10:42:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 10:42:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 10:42:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:42:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:42:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 10:42:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:42:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:43:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:43:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 10:43:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 10:43:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.013s
2025-09-26 10:43:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:43:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 10:43:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:43:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:43:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:43:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 10:43:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:43:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 10:43:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 10:43:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 10:43:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 10:43:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:43:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-26 10:43:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:43:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:43:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:43:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:43:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 10:43:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:43:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 10:43:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.016s
2025-09-26 10:43:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 10:43:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 10:43:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:43:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 10:44:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 10:44:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 10:44:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.019s
2025-09-26 10:44:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:44:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:44:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 10:44:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:44:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 10:44:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:44:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 10:44:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 10:44:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-26 10:44:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 10:44:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 10:44:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 10:44:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.042s
2025-09-26 10:44:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 10:44:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.040s
2025-09-26 10:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 10:52:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:52:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-26 10:52:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:52:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.069s
2025-09-26 10:52:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:52:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 10:55:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:55:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 10:56:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 10:56:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 11:14:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:14:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-26 11:14:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:14:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-26 11:14:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:14:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 11:14:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:14:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 11:14:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:14:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:14:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:14:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-26 11:14:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:14:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 11:14:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 11:14:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.021s
2025-09-26 11:14:41 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:14:41 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:14:41 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.820s
2025-09-26 11:14:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:14:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:14:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.796s
2025-09-26 11:15:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:15:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:15:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 11:15:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:15:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 11:15:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.009s
2025-09-26 11:15:56 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 11:15:56 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_40/2025/09/26/4173adb871df29097aa8666c024135af.pdf
2025-09-26 11:15:56 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:558 - Uploaded file cesi.pdf to knowledge base 40
2025-09-26 11:15:56 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.042s
2025-09-26 11:15:56 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-26 11:15:57 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:15:57 | INFO     | app.services.vector_store:add_documents:275 - Added batch 1: 1 documents
2025-09-26 11:15:57 | INFO     | app.services.vector_store:add_documents:276 - Added 1 documents to collection kb_4afb123d
2025-09-26 11:15:57 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:454 - Successfully processed and vectorized file cesi.pdf (chunks=1)
2025-09-26 11:15:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 11:15:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.007s
2025-09-26 11:16:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:16:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:16:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:16:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:16:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:16:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-26 11:16:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:16:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 11:16:09 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:16:10 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:16:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.794s
2025-09-26 11:16:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 11:16:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.024s
2025-09-26 11:16:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:16:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 11:16:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:16:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-26 11:16:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:16:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 11:16:31 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:16:32 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:16:32 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.748s
2025-09-26 11:16:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 11:16:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.032s
2025-09-26 11:17:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:17:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 11:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 11:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.013s
2025-09-26 11:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 11:18:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:18:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 11:18:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:18:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-26 11:18:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:18:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 11:18:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:18:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:18:53 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:18:53 | INFO     | app.services.vector_store:create_knowledge_base_collection:362 - Ensured Chroma collection exists: kb_3832a827
2025-09-26 11:18:53 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:89 - Created knowledge base: 测试流程 (ID: 41)
2025-09-26 11:18:53 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-26 11:18:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:18:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:18:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.014s
2025-09-26 11:18:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-26 11:18:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:18:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:18:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.016s
2025-09-26 11:18:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.015s
2025-09-26 11:18:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:18:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 11:18:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:18:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.009s
2025-09-26 11:18:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:18:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-26 11:19:03 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:19:04 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:19:04 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.843s
2025-09-26 11:19:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:19:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-26 11:19:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:19:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 11:19:14 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:19:15 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:19:15 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.941s
2025-09-26 11:20:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:20:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-26 11:20:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:20:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.014s
2025-09-26 11:20:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:20:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.015s
2025-09-26 11:20:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:20:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.010s
2025-09-26 11:20:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:20:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 11:21:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:21:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:21:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:21:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 11:21:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:21:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:21:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-26 11:21:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.017s
2025-09-26 11:21:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 11:21:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:21:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.019s
2025-09-26 11:21:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.020s
2025-09-26 11:21:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:21:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 11:21:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:21:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.010s
2025-09-26 11:21:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:21:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-26 11:23:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:23:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 11:23:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:23:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 11:28:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:28:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-26 11:28:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:28:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.038s
2025-09-26 11:28:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:28:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-26 11:28:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 11:28:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.015s
2025-09-26 11:29:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:29:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.010s
2025-09-26 11:29:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:29:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-26 11:29:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 11:29:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.017s
2025-09-26 11:29:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/1c630bd6-305a-46f0-a8f1-adcc45737904/messages - Client: 127.0.0.1
2025-09-26 11:29:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/1c630bd6-305a-46f0-a8f1-adcc45737904/messages - Status: 200 - Time: 0.016s
2025-09-26 11:29:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 11:29:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.039s
2025-09-26 11:29:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 11:29:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.030s
2025-09-26 11:29:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 11:29:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.030s
2025-09-26 11:29:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 11:29:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.046s
2025-09-26 11:29:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/1c630bd6-305a-46f0-a8f1-adcc45737904/messages - Client: 127.0.0.1
2025-09-26 11:29:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/1c630bd6-305a-46f0-a8f1-adcc45737904/messages - Status: 200 - Time: 0.015s
2025-09-26 11:29:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 11:29:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.013s
2025-09-26 11:29:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:29:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.006s
2025-09-26 11:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 11:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 11:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.007s
2025-09-26 11:29:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:29:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.006s
2025-09-26 11:29:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:29:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 11:29:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 11:29:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.005s
2025-09-26 11:29:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/44dc2ccb-8500-4aea-8acd-022480bcdac2/messages - Client: 127.0.0.1
2025-09-26 11:29:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/44dc2ccb-8500-4aea-8acd-022480bcdac2/messages - Status: 200 - Time: 0.008s
2025-09-26 11:29:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 11:29:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.021s
2025-09-26 11:29:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 11:29:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.015s
2025-09-26 11:29:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 11:29:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.015s
2025-09-26 11:29:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:29:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 11:30:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 11:30:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 11:30:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:30:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:30:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-26 11:30:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 11:30:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:30:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:30:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:30:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:34:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-26 11:34:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.064s
2025-09-26 11:34:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:34:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 11:34:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:34:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:34:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:34:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:34:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-26 11:34:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:34:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 11:34:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:34:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 11:34:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:34:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 11:34:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 11:34:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.010s
2025-09-26 11:35:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:35:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.008s
2025-09-26 11:35:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:35:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-26 11:35:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:35:08 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:35:08 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.952s
2025-09-26 11:35:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:35:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.003s
2025-09-26 11:35:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:35:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 11:35:17 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 11:35:18 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 11:35:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.884s
2025-09-26 11:36:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:36:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:38:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:38:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:38:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:38:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:38:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:38:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.016s
2025-09-26 11:38:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:38:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:38:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-26 11:38:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.012s
2025-09-26 11:38:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:38:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:38:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:38:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.009s
2025-09-26 11:38:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:38:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-26 11:38:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:38:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.009s
2025-09-26 11:38:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:38:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 11:38:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 11:38:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.011s
2025-09-26 11:38:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:38:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 11:39:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:39:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:39:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 11:39:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:39:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 11:39:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 11:39:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:39:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:39:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 11:39:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 11:39:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.008s
2025-09-26 11:39:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 11:39:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 11:40:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 11:40:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.105s
2025-09-26 11:40:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Client: 127.0.0.1
2025-09-26 11:40:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14f3dcf9-0141-4437-b27e-386f285318ca/messages - Status: 200 - Time: 0.095s
2025-09-26 11:40:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/151/open-url - Client: 127.0.0.1
2025-09-26 11:40:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/151/open-url - Status: 200 - Time: 0.035s
2025-09-26 11:44:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:44:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 11:44:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:44:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 11:44:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:44:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:45:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:45:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.066s
2025-09-26 11:45:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:45:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-26 11:47:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:47:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 11:47:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:47:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:47:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.016s
2025-09-26 11:47:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-26 11:47:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:47:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:47:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.014s
2025-09-26 11:47:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-26 11:47:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:47:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:47:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.014s
2025-09-26 11:47:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-26 11:47:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 11:47:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 11:47:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.012s
2025-09-26 11:47:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-26 11:47:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:47:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 11:47:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:47:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 11:48:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:48:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 11:51:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:51:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-26 11:51:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:51:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-26 11:51:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:51:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 11:52:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 11:52:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 12:00:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:00:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.048s
2025-09-26 12:03:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:03:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-26 12:03:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:03:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 12:03:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:03:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 12:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 12:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 12:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.017s
2025-09-26 12:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.016s
2025-09-26 12:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 12:03:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 12:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.019s
2025-09-26 12:03:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.018s
2025-09-26 12:03:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:03:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 12:03:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 12:03:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 12:03:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 12:03:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 12:03:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.017s
2025-09-26 12:03:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-26 12:03:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 12:03:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 12:03:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 12:03:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.015s
2025-09-26 14:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 14:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 14:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.130s
2025-09-26 14:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.125s
2025-09-26 14:08:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 14:08:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 14:08:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 14:08:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.012s
2025-09-26 14:10:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 14:10:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 14:10:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 14:10:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 14:10:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 14:10:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:10:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 14:11:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 14:11:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 14:11:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 14:11:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 14:11:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 14:11:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 14:11:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 14:11:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-26 14:11:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 14:11:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-26 14:11:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 14:11:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 14:11:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 14:11:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 14:11:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 14:11:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-26 14:11:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.011s
2025-09-26 14:11:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 14:11:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:11:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 14:54:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:54:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-26 14:54:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:54:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-26 14:54:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:54:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 14:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 14:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 14:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 14:56:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:56:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 14:56:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:56:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 14:56:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 14:56:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:00:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:00:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-26 15:00:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:00:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.083s
2025-09-26 15:01:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:01:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:01:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:01:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:02:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:02:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:02:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:02:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 15:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:02:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:02:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:02:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:02:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:03:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 15:03:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-26 15:03:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:03:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:05:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:05:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-26 15:05:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:05:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-26 15:16:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:16:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-26 15:17:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:17:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.042s
2025-09-26 15:18:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:18:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:19:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 15:19:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.013s
2025-09-26 15:19:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 15:19:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-26 15:19:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 15:19:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.010s
2025-09-26 15:19:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 15:19:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 15:19:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-26 15:19:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.017s
2025-09-26 15:19:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:19:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:26:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:26:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-26 15:26:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:26:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-26 15:26:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:26:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:26:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:26:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:29:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:29:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:29:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:29:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:29:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:29:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:29:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 15:29:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:29:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:29:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:29:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:30:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:30:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:30:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:30:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:31:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:31:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:31:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:31:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:32:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.042s
2025-09-26 15:32:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-26 15:32:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:32:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:32:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:32:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:32:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 15:32:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:32:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:32:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:32:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.016s
2025-09-26 15:33:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:33:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:33:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:33:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:33:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:33:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:33:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:33:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:34:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:34:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:34:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:34:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:35:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:35:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:36:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:36:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:37:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:37:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:37:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:37:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:37:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:37:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-26 15:38:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-26 15:38:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:38:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:38:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:38:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:38:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:38:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:38:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 15:38:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:38:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:40:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:40:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:43:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:43:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.047s
2025-09-26 15:45:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:45:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.084s
2025-09-26 15:47:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:47:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:48:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:48:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 15:50:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.031s
2025-09-26 15:50:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 15:50:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:50:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:50:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:50:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-26 15:50:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:50:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:50:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:51:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:51:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:53:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-26 15:53:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:53:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:53:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:53:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:53:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:53:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:53:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:53:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:53:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:54:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-26 15:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:54:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:54:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 15:54:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:54:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:54:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 15:54:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 15:54:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:54:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:55:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:55:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 15:55:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:55:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:55:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:55:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-26 15:55:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:55:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:56:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:56:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 15:56:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:56:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-26 15:58:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 15:58:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:58:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 15:58:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 15:58:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:58:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 15:58:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:58:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 15:59:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:59:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 15:59:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:59:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 15:59:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 15:59:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:01:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:01:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-26 16:01:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:01:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:02:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:02:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.050s
2025-09-26 16:02:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 16:02:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:02:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 16:02:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:02:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:04:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:04:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 16:05:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:05:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:05:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:05:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:05:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:05:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:05:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:05:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:05:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:05:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:06:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:06:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:06:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:06:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:06:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:06:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:06:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:06:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 16:08:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:08:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-26 16:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.061s
2025-09-26 16:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.079s
2025-09-26 16:08:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:08:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 16:08:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 16:08:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.006s
2025-09-26 16:08:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:08:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 16:08:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-26 16:08:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.007s
2025-09-26 16:08:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 16:08:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.009s
2025-09-26 16:08:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:08:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.005s
2025-09-26 16:08:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:08:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 16:08:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-26 16:08:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.007s
2025-09-26 16:08:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 16:08:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.005s
2025-09-26 16:08:35 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 16:08:36 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 16:08:36 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.753s
2025-09-26 16:08:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 16:08:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.025s
2025-09-26 16:09:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 16:09:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.007s
2025-09-26 16:09:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:09:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-26 16:09:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 16:09:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-26 16:09:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.936s
2025-09-26 16:10:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 16:10:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:10:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 16:10:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:10:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:10:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.022s
2025-09-26 16:10:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.021s
2025-09-26 16:10:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:10:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:10:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.005s
2025-09-26 16:10:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 16:10:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:10:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:10:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.002s
2025-09-26 16:10:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.007s
2025-09-26 16:10:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:10:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:10:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.006s
2025-09-26 16:10:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-26 16:10:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:10:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:10:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.006s
2025-09-26 16:10:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 16:10:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:10:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:10:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.006s
2025-09-26 16:10:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 16:10:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 16:10:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.007s
2025-09-26 16:10:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:10:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:10:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:10:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-26 16:10:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.009s
2025-09-26 16:10:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:10:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:10:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 16:10:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:10:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:10:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.005s
2025-09-26 16:10:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 16:10:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:10:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:10:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-26 16:10:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.007s
2025-09-26 16:11:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 16:11:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.018s
2025-09-26 16:11:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 16:11:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.007s
2025-09-26 16:11:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 16:11:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.013s
2025-09-26 16:11:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 16:11:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.016s
2025-09-26 16:11:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:11:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:11:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.007s
2025-09-26 16:11:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-26 16:11:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 16:11:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.010s
2025-09-26 16:11:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 16:11:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.008s
2025-09-26 16:11:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 16:11:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.005s
2025-09-26 16:11:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-26 16:11:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.007s
2025-09-26 16:11:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:11:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:11:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.009s
2025-09-26 16:11:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.008s
2025-09-26 16:11:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-26 16:11:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.008s
2025-09-26 16:11:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 16:11:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.023s
2025-09-26 16:12:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Client: 127.0.0.1
2025-09-26 16:12:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9c0bca89-80c6-4eca-9c47-93be2f4e8a7c/messages - Status: 200 - Time: 0.013s
2025-09-26 16:12:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:12:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:13:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:13:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.070s
2025-09-26 16:14:42 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:14:42 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:14:42 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.092s
2025-09-26 16:14:51 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:14:51 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:14:51 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.022s
2025-09-26 16:14:55 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:14:55 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:14:55 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.018s
2025-09-26 16:15:01 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:15:01 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:15:01 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.023s
2025-09-26 16:15:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:15:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:15:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.015s
2025-09-26 16:15:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.018s
2025-09-26 16:15:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:15:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:15:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.016s
2025-09-26 16:15:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-26 16:15:15 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:15:15 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:15:15 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.032s
2025-09-26 16:15:28 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:15:28 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:15:28 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.023s
2025-09-26 16:15:37 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:15:37 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试 (ID: 40)
2025-09-26 16:15:37 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.022s
2025-09-26 16:16:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:16:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:16:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:16:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:16:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.017s
2025-09-26 16:16:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.016s
2025-09-26 16:16:57 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 16:16:57 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试流程 (ID: 41)
2025-09-26 16:16:57 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.030s
2025-09-26 16:19:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:19:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.042s
2025-09-26 16:19:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:19:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:19:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.008s
2025-09-26 16:19:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-26 16:19:17 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 16:19:17 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:145 - Updated knowledge base: 测试流程 (ID: 41)
2025-09-26 16:19:17 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.028s
2025-09-26 16:19:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:19:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 16:19:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:19:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:19:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.037s
2025-09-26 16:19:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.045s
2025-09-26 16:20:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:20:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 16:20:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:20:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:20:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 16:20:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.009s
2025-09-26 16:20:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:20:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:20:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:20:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 16:21:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:21:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:21:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:21:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:21:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:21:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:21:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.015s
2025-09-26 16:21:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.014s
2025-09-26 16:21:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 16:21:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:21:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.010s
2025-09-26 16:21:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-26 16:21:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-26 16:21:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:21:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-26 16:21:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.012s
2025-09-26 16:22:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:22:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:22:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:22:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:24:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:24:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:24:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:24:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.073s
2025-09-26 16:24:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:24:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.004s
2025-09-26 16:33:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:33:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.089s
2025-09-26 16:36:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:36:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-26 16:37:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:37:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 16:37:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:37:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:38:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:38:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 16:38:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:38:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-26 16:39:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:39:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-26 16:39:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:39:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-26 16:39:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:39:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 16:39:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-26 16:39:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.016s
2025-09-26 16:40:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:40:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 16:40:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:40:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 16:40:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 16:40:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-26 16:40:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:40:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.016s
2025-09-26 16:40:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 16:40:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.012s
2025-09-26 16:40:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 16:40:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.036s
2025-09-26 16:40:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 16:40:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.017s
2025-09-26 16:40:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 16:40:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.031s
2025-09-26 16:41:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:41:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 16:41:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:41:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:41:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:41:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 16:41:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:41:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 16:41:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:41:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-26 16:41:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 16:41:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 16:42:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:42:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 16:42:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 16:42:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.033s
2025-09-26 16:42:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 16:42:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-26 16:42:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 16:42:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.008s
2025-09-26 16:51:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:51:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-26 16:56:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:56:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.038s
2025-09-26 16:56:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:56:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.100s
2025-09-26 16:56:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:56:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 16:58:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 16:58:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 17:11:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:11:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-26 17:11:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 17:11:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.058s
2025-09-26 17:11:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:11:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-26 17:11:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 17:11:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-26 17:11:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-26 17:11:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.017s
2025-09-26 17:12:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 17:12:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.012s
2025-09-26 17:12:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 17:12:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.015s
2025-09-26 17:12:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 17:12:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.039s
2025-09-26 17:34:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:34:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.065s
2025-09-26 17:37:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:37:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-26 17:38:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:38:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 17:39:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:39:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-26 17:39:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 17:39:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:39:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.013s
2025-09-26 17:39:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-26 17:39:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:39:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 17:49:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:49:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.048s
2025-09-26 17:49:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:49:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.059s
2025-09-26 17:49:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:49:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 17:49:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:49:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 17:49:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 17:49:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:49:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.013s
2025-09-26 17:49:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-26 17:50:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:50:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 17:50:10 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 17:50:10 | ERROR    | app.main:validation_exception_handler:82 - Validation error: [{'type': 'missing', 'loc': ('body', 'knowledge_base_id'), 'msg': 'Field required', 'input': {'kbId': 40, 'question': '你好啊', 'files': [{'uid': 'vc-upload-1758880197523-3'}], 'signal': {}, 'stream': True}, 'url': 'https://errors.pydantic.dev/2.5/v/missing'}]
2025-09-26 17:50:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 422 - Time: 0.003s
2025-09-26 17:50:10 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 17:50:10 | ERROR    | app.main:validation_exception_handler:82 - Validation error: [{'type': 'missing', 'loc': ('body', 'knowledge_base_id'), 'msg': 'Field required', 'input': {'kbId': 40, 'question': '你好啊', 'files': [{'uid': 'vc-upload-1758880197523-3'}]}, 'url': 'https://errors.pydantic.dev/2.5/v/missing'}]
2025-09-26 17:50:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 422 - Time: 0.005s
2025-09-26 17:51:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:51:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 17:51:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:51:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 17:51:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:51:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 17:51:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:51:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-26 17:51:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:51:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-26 17:53:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:53:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 17:53:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:53:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-26 17:53:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 17:53:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-26 17:53:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/undefined/messages - Client: 127.0.0.1
2025-09-26 17:53:13 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-26 17:53:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/undefined/messages - Status: 404 - Time: 0.016s
2025-09-26 17:53:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 17:53:18 | ERROR    | app.main:validation_exception_handler:82 - Validation error: [{'type': 'missing', 'loc': ('body', 'knowledge_base_id'), 'msg': 'Field required', 'input': {'kbId': 40, 'question': '你好啊', 'stream': True}, 'url': 'https://errors.pydantic.dev/2.5/v/missing'}]
2025-09-26 17:53:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 422 - Time: 0.003s
2025-09-26 17:53:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-26 17:53:18 | ERROR    | app.main:validation_exception_handler:82 - Validation error: [{'type': 'missing', 'loc': ('body', 'knowledge_base_id'), 'msg': 'Field required', 'input': {'kbId': 40, 'question': '你好啊'}, 'url': 'https://errors.pydantic.dev/2.5/v/missing'}]
2025-09-26 17:53:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 422 - Time: 0.004s
2025-09-26 17:53:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 17:53:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-26 17:53:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:53:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 17:53:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 17:53:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.007s
2025-09-26 17:53:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:53:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-26 17:53:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 17:53:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.008s
2025-09-26 17:54:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-26 17:54:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.084s
2025-09-26 17:54:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-26 17:54:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-26 17:54:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 17:54:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-26 17:54:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-26 17:54:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:54:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-26 17:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-26 17:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.015s
2025-09-26 17:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.015s
2025-09-26 17:59:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 17:59:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-26 17:59:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-26 17:59:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.013s
2025-09-26 17:59:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-26 17:59:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.015s
2025-09-26 17:59:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 17:59:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.017s
2025-09-26 17:59:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 17:59:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.015s
2025-09-26 17:59:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-26 17:59:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.016s
2025-09-26 17:59:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 17:59:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.014s
2025-09-26 17:59:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-26 17:59:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.013s
2025-09-26 17:59:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-26 17:59:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.011s
2025-09-26 17:59:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-26 17:59:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.011s
2025-09-26 18:02:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 18:02:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.008s
2025-09-26 18:02:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 18:02:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.060s
2025-09-26 18:02:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-26 18:02:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.018s
2025-09-26 18:02:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/153/open-url - Client: 127.0.0.1
2025-09-26 18:02:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/153/open-url - Status: 200 - Time: 0.033s
2025-09-26 18:02:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 18:02:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-26 18:02:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-26 18:02:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-26 18:02:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-26 18:02:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-26 18:02:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-26 18:02:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.044s
2025-09-26 18:02:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-26 18:02:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 08:41:36 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 08:41:36 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 08:41:36 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 08:41:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 08:41:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.099s
2025-09-28 08:41:46 | INFO     | app.main:log_requests:51 - Request started: GET /favicon.ico - Client: 127.0.0.1
2025-09-28 08:41:46 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Not Found
2025-09-28 08:41:46 | INFO     | app.main:log_requests:62 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.001s
2025-09-28 08:41:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 08:41:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 08:42:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-28 08:42:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.013s
2025-09-28 08:42:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 08:42:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-28 08:42:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 08:42:08 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.040s
2025-09-28 08:42:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 08:42:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.027s
2025-09-28 08:42:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 08:42:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.013s
2025-09-28 08:42:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 08:42:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.017s
2025-09-28 08:42:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 08:42:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.017s
2025-09-28 08:42:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-28 08:42:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.011s
2025-09-28 08:42:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 08:42:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-28 08:42:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 08:42:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-28 08:42:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 08:42:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-28 08:42:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-28 08:42:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.008s
2025-09-28 08:42:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 08:42:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-28 08:42:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Client: 127.0.0.1
2025-09-28 08:42:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/466f3aa6-81b1-4941-bbdb-462118fa7582/messages - Status: 200 - Time: 0.041s
2025-09-28 09:57:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 09:57:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.075s
2025-09-28 09:57:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 09:57:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-28 09:57:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 09:57:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 10:02:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:02:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-28 10:02:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:02:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 10:02:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:02:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-28 10:30:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:30:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.072s
2025-09-28 10:30:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:30:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 10:30:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:30:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 10:30:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:30:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 10:31:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:31:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-28 10:31:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:31:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-28 10:31:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:31:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 10:31:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 10:31:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 10:31:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:31:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 10:31:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 10:31:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.010s
2025-09-28 10:31:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:31:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 10:32:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:32:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 10:46:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 10:46:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.044s
2025-09-28 11:32:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:32:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.061s
2025-09-28 11:32:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:32:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 11:32:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:32:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 11:34:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:34:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 11:34:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:34:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 11:37:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:37:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.049s
2025-09-28 11:37:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:37:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:38:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:38:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 11:38:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:38:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:39:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:39:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:39:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:39:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 11:39:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:39:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-28 11:39:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:39:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:39:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:39:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-28 11:41:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 11:41:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:41:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:41:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:41:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.010s
2025-09-28 11:41:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:41:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.007s
2025-09-28 11:41:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:41:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.008s
2025-09-28 11:41:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:41:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.012s
2025-09-28 11:41:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:41:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:41:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:41:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:41:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.009s
2025-09-28 11:41:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:41:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:41:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:41:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:41:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.009s
2025-09-28 11:41:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 11:41:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:41:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:41:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:41:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.009s
2025-09-28 11:41:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 11:41:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:41:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:41:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:41:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:41:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:41:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.013s
2025-09-28 11:42:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:42:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 11:42:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:42:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 11:42:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:42:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-28 11:42:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:42:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 11:42:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:42:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.016s
2025-09-28 11:43:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:43:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.057s
2025-09-28 11:43:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:43:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 11:44:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:44:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.012s
2025-09-28 11:44:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:44:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-28 11:45:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:45:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:45:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:45:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:45:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:45:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.008s
2025-09-28 11:45:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:45:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.008s
2025-09-28 11:45:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:45:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.008s
2025-09-28 11:45:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:45:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.008s
2025-09-28 11:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.038s
2025-09-28 11:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.010s
2025-09-28 11:49:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:49:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:49:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:49:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-28 11:49:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:49:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.008s
2025-09-28 11:49:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:49:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:49:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:49:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:49:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:49:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.008s
2025-09-28 11:49:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:49:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.009s
2025-09-28 11:49:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:49:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.014s
2025-09-28 11:49:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:49:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-28 11:49:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:49:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:49:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:49:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:49:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:49:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.011s
2025-09-28 11:50:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-28 11:50:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-28 11:50:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 11:50:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-28 11:50:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.013s
2025-09-28 11:50:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.012s
2025-09-28 11:50:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:50:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-28 11:50:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.010s
2025-09-28 11:50:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.008s
2025-09-28 11:50:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:50:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:50:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:50:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.008s
2025-09-28 11:50:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-28 11:50:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:50:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-28 11:50:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.084s
2025-09-28 11:50:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:50:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.004s
2025-09-28 11:51:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:51:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-28 11:51:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:51:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:51:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:51:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:51:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 11:51:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:51:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:51:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:51:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:51:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.015s
2025-09-28 11:51:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:51:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.013s
2025-09-28 11:53:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:53:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.071s
2025-09-28 11:53:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:53:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:53:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:53:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.011s
2025-09-28 11:54:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-28 11:54:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.015s
2025-09-28 11:54:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:54:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.015s
2025-09-28 11:54:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.014s
2025-09-28 11:54:10 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:54:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.013s
2025-09-28 11:54:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:54:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-28 11:54:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.012s
2025-09-28 11:54:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.014s
2025-09-28 11:54:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.015s
2025-09-28 11:54:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.013s
2025-09-28 11:54:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.017s
2025-09-28 11:54:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.011s
2025-09-28 11:54:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:54:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.011s
2025-09-28 11:54:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.017s
2025-09-28 11:54:43 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:54:43 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.032s
2025-09-28 11:54:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:54:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-28 11:54:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:54:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.013s
2025-09-28 11:54:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.013s
2025-09-28 11:54:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.014s
2025-09-28 11:54:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.012s
2025-09-28 11:54:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.014s
2025-09-28 11:54:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:54:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.009s
2025-09-28 11:54:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.011s
2025-09-28 11:54:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:54:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.017s
2025-09-28 11:54:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:54:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-28 11:54:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:54:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.012s
2025-09-28 11:54:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-28 11:54:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:54:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.017s
2025-09-28 11:54:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:54:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.013s
2025-09-28 11:55:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:55:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.016s
2025-09-28 11:55:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:55:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.016s
2025-09-28 11:55:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:55:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.018s
2025-09-28 11:55:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:55:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.017s
2025-09-28 11:55:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:55:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.008s
2025-09-28 11:55:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 11:55:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.013s
2025-09-28 11:55:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:55:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-28 11:55:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:55:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.015s
2025-09-28 11:55:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-28 11:55:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 11:55:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:55:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:55:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 11:55:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:55:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.009s
2025-09-28 11:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:55:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:55:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.062s
2025-09-28 11:55:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.004s
2025-09-28 11:55:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:55:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.008s
2025-09-28 11:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.016s
2025-09-28 11:55:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:55:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.012s
2025-09-28 11:55:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:55:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.012s
2025-09-28 11:55:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:55:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.012s
2025-09-28 11:55:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 11:55:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.017s
2025-09-28 11:55:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 11:55:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.010s
2025-09-28 11:55:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 11:55:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.016s
2025-09-28 11:55:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 11:55:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.013s
2025-09-28 11:55:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:55:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.015s
2025-09-28 11:55:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:55:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.016s
2025-09-28 11:55:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.017s
2025-09-28 11:55:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:55:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.018s
2025-09-28 11:55:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:55:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.012s
2025-09-28 11:55:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:55:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-28 11:55:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:55:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.009s
2025-09-28 11:55:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:55:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.013s
2025-09-28 11:56:02 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:56:02 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.013s
2025-09-28 11:56:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-28 11:56:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.010s
2025-09-28 11:56:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:56:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.018s
2025-09-28 11:56:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:56:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.015s
2025-09-28 11:56:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:56:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.014s
2025-09-28 11:56:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/41/files - Client: 127.0.0.1
2025-09-28 11:56:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:56:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.020s
2025-09-28 11:56:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/41/files - Status: 200 - Time: 0.026s
2025-09-28 11:56:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/40/files - Client: 127.0.0.1
2025-09-28 11:56:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:56:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.016s
2025-09-28 11:56:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/40/files - Status: 200 - Time: 0.031s
2025-09-28 11:56:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:56:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 11:56:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:56:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:56:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:56:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.008s
2025-09-28 11:56:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:56:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 11:57:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:57:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 11:57:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:57:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:58:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:58:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.013s
2025-09-28 11:58:21 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:58:21 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.014s
2025-09-28 11:58:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:58:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 11:58:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:58:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 11:58:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:58:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 11:58:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:58:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.010s
2025-09-28 11:58:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:58:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.015s
2025-09-28 11:58:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:58:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.008s
2025-09-28 11:58:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:58:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.016s
2025-09-28 11:58:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:58:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-28 11:58:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:58:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 11:58:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:58:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-28 11:58:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:58:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.010s
2025-09-28 11:58:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:58:51 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.016s
2025-09-28 11:59:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:59:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 11:59:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:59:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.064s
2025-09-28 11:59:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:59:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.016s
2025-09-28 11:59:09 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 11:59:09 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.018s
2025-09-28 11:59:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:59:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 11:59:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 11:59:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-28 11:59:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Client: 127.0.0.1
2025-09-28 11:59:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58d54bb5-fedf-4ead-b5b5-ba4acf6ddffe/messages - Status: 200 - Time: 0.011s
2025-09-28 11:59:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Client: 127.0.0.1
2025-09-28 11:59:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/6e87c0fe-2620-4b37-b380-76184c7f848f/messages - Status: 200 - Time: 0.014s
2025-09-28 11:59:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 11:59:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-28 11:59:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 11:59:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.012s
2025-09-28 11:59:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 11:59:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.014s
2025-09-28 12:00:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:00:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 12:00:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:00:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 12:00:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 12:00:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.008s
2025-09-28 12:00:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 12:00:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.008s
2025-09-28 12:00:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:00:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.057s
2025-09-28 12:00:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:00:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.011s
2025-09-28 12:00:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 12:00:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.014s
2025-09-28 12:00:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 12:00:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.018s
2025-09-28 12:01:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:01:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 12:01:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 12:01:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 14:09:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:09:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-28 14:09:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:09:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.054s
2025-09-28 14:09:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:09:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.009s
2025-09-28 14:09:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:09:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-28 14:10:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:10:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 14:10:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:10:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 14:10:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:10:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 14:10:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:10:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.008s
2025-09-28 14:14:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:14:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 14:14:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:14:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 14:14:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:14:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:14:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.070s
2025-09-28 14:14:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.070s
2025-09-28 14:14:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:14:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 14:14:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:14:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.018s
2025-09-28 14:14:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:14:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.017s
2025-09-28 14:14:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 14:14:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.014s
2025-09-28 14:17:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:17:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 14:17:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:17:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-28 14:17:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:17:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.007s
2025-09-28 14:18:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:18:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 14:18:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:18:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 14:18:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:18:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.007s
2025-09-28 14:31:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:31:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-28 14:31:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:31:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.032s
2025-09-28 14:31:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:31:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 14:31:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:31:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 14:31:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:31:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.009s
2025-09-28 14:31:15 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:31:15 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.013s
2025-09-28 14:31:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 14:31:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-28 14:31:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 14:31:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.006s
2025-09-28 14:31:41 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:31:41 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.025s
2025-09-28 14:39:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-28 14:39:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 14:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.036s
2025-09-28 14:39:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/c56c4d37-dbb1-4985-8106-76cbde8fb54c/messages - Client: 127.0.0.1
2025-09-28 14:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/c56c4d37-dbb1-4985-8106-76cbde8fb54c/messages - Status: 200 - Time: 0.008s
2025-09-28 14:40:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:40:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 14:40:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 14:40:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.005s
2025-09-28 14:40:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/c56c4d37-dbb1-4985-8106-76cbde8fb54c/messages - Client: 127.0.0.1
2025-09-28 14:40:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/c56c4d37-dbb1-4985-8106-76cbde8fb54c/messages - Status: 200 - Time: 0.011s
2025-09-28 14:44:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:44:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-28 14:44:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:44:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.037s
2025-09-28 14:44:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:44:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 14:44:22 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:44:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.017s
2025-09-28 14:44:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:44:27 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.008s
2025-09-28 14:44:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:44:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 14:44:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:44:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 14:44:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:44:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.005s
2025-09-28 14:44:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:44:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.007s
2025-09-28 14:44:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:44:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.013s
2025-09-28 14:44:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:44:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.016s
2025-09-28 14:44:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 14:44:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.017s
2025-09-28 14:44:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 14:44:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.013s
2025-09-28 14:44:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Client: 127.0.0.1
2025-09-28 14:44:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5566d8bb-3a9a-4dc2-a36c-f84d3fb9d6d3/messages - Status: 200 - Time: 0.018s
2025-09-28 14:44:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Client: 127.0.0.1
2025-09-28 14:44:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a863550c-873c-4a41-83ce-8dc8afa9bd9f/messages - Status: 200 - Time: 0.013s
2025-09-28 14:44:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Client: 127.0.0.1
2025-09-28 14:44:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/14af0a9b-b75f-49a9-b9df-86dba38e04e6/messages - Status: 200 - Time: 0.011s
2025-09-28 14:44:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:44:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.014s
2025-09-28 14:44:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:44:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.016s
2025-09-28 14:44:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:44:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.016s
2025-09-28 14:44:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:44:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.013s
2025-09-28 14:44:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:44:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.018s
2025-09-28 14:45:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:45:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.011s
2025-09-28 14:45:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:45:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.017s
2025-09-28 14:45:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:45:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.012s
2025-09-28 14:45:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Client: 127.0.0.1
2025-09-28 14:45:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a37c7b3d-f485-4c32-b778-b7d3190513af/messages - Status: 200 - Time: 0.017s
2025-09-28 14:56:45 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 14:56:48 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 14:56:48 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 14:56:48 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 14:57:13 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 14:57:15 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 14:57:15 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 14:57:15 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 14:57:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:57:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.056s
2025-09-28 14:57:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:57:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 14:57:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:57:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.013s
2025-09-28 14:57:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Client: 127.0.0.1
2025-09-28 14:57:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/8808a96c-31ac-4acd-88c3-16e6d0702720/messages - Status: 200 - Time: 0.016s
2025-09-28 14:57:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:57:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 14:57:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:57:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 14:57:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:57:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.014s
2025-09-28 14:57:59 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:57:59 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:256 - Error in stream response: Instance <ChatConversation at 0x22febd99f10> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 14:57:59 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.045s
2025-09-28 14:58:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 14:58:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 14:58:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 14:58:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 14:58:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 14:58:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.007s
2025-09-28 14:58:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 14:58:29 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:256 - Error in stream response: Instance <ChatConversation at 0x22febd9ab10> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 14:58:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.039s
2025-09-28 15:02:17 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:02:19 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:02:19 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:02:19 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:04:30 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:04:32 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:04:32 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:04:32 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:04:32 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:04:33 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:04:33 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:04:33 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:04:34 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:04:36 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:04:36 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:04:36 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:04:44 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:04:46 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:04:46 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:04:46 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:18:44 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:18:46 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:18:46 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:18:46 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:19:30 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:25:13 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:25:13 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:25:13 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:25:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:25:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.072s
2025-09-28 15:25:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:25:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 15:25:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:25:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.020s
2025-09-28 15:25:42 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:25:42 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:258 - Error in stream response: Instance <ChatConversation at 0x149c03958c0> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 15:25:42 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.047s
2025-09-28 15:25:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:25:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 15:25:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:25:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 15:25:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:25:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.012s
2025-09-28 15:26:02 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:26:02 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:258 - Error in stream response: Instance <ChatConversation at 0x149c03499d0> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 15:26:02 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.018s
2025-09-28 15:29:07 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:29:09 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:29:09 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:29:09 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:29:09 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:29:11 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:29:11 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:29:11 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:29:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:29:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-28 15:29:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:29:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.010s
2025-09-28 15:29:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:29:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.017s
2025-09-28 15:29:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:29:20 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.012s
2025-09-28 15:29:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:29:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 15:29:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:29:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.006s
2025-09-28 15:29:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:29:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.009s
2025-09-28 15:29:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:29:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.012s
2025-09-28 15:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-28 15:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 15:29:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:29:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.008s
2025-09-28 15:38:53 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:38:55 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:38:55 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:38:55 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:39:52 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:39:54 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:39:54 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:39:54 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:39:54 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:39:56 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:39:56 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:39:56 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:39:56 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:39:58 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:39:58 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:39:58 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:39:58 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:40:00 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:40:00 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:40:00 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:40:00 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:40:01 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:40:01 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:40:01 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:07 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:08 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:08 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:08 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:08 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:10 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:10 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:10 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:10 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:12 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:12 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:12 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:12 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:13 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:13 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:13 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:13 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:15 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:15 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:15 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:15 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:17 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:17 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:17 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:21 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:23 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:23 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:23 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:41:23 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:41:24 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:41:24 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:41:24 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:44:16 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:44:18 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:44:18 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:44:18 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:44:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:45:00 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:45:00 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:45:00 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:45:01 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:45:03 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:45:03 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:45:03 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:45:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:46:01 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:46:01 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:46:01 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:46:01 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:46:03 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:46:03 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:46:03 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:46:03 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:46:04 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:46:04 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:46:04 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:46:04 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 15:46:06 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 15:46:06 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 15:46:06 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 15:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 15:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.069s
2025-09-28 15:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 15:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 15:46:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Client: 127.0.0.1
2025-09-28 15:46:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/38c90dad-44b3-4b8b-b37d-b8416bbe206d/messages - Status: 200 - Time: 0.024s
2025-09-28 15:46:19 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:46:19 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:260 - Error in stream response: Instance <ChatConversation at 0x1e1d0355ae0> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 15:46:19 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.031s
2025-09-28 15:47:52 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 15:47:52 | ERROR    | app.api.v1.endpoints.chat:stream_chat_response:260 - Error in stream response: Instance <ChatConversation at 0x1e1d13ab250> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
2025-09-28 15:47:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.032s
2025-09-28 16:09:44 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:09:45 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:09:45 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:09:45 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:10:47 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:10:49 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:10:49 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:10:49 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:10:49 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:10:51 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:10:51 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:10:51 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:11:25 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:11:27 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:11:27 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:11:27 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:11:27 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:11:28 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:11:28 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:11:28 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:12:28 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:12:30 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:12:30 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:12:30 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:12:30 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:12:31 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:12:31 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:12:31 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:12:33 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:12:37 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:12:37 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:12:37 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:13:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:13:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.063s
2025-09-28 16:13:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 16:13:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.011s
2025-09-28 16:13:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Client: 127.0.0.1
2025-09-28 16:13:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Status: 200 - Time: 0.012s
2025-09-28 16:13:26 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:13:26 | ERROR    | app.api.v1.endpoints.chat:ask_question:207 - Error in chat: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-28 16:13:26 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to process question
2025-09-28 16:13:26 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.031s
2025-09-28 16:22:24 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:22:26 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:22:26 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:22:26 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:22:27 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:22:28 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:22:28 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:22:28 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:23:36 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:23:38 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:23:38 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:23:38 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:23:43 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:23:45 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:23:45 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:23:45 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:23:45 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:23:47 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:23:47 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:23:47 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:24:31 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:24:33 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:24:33 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:24:33 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:26:07 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:26:08 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:26:08 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:26:08 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:26:37 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:27:25 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:27:25 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:27:25 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:27:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:28:01 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:28:01 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:28:01 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:28:03 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:28:06 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:28:06 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:28:06 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:28:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:28:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.089s
2025-09-28 16:28:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 16:28:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.015s
2025-09-28 16:28:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Client: 127.0.0.1
2025-09-28 16:28:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Status: 200 - Time: 0.018s
2025-09-28 16:28:15 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:28:15 | ERROR    | app.api.v1.endpoints.chat:ask_question:220 - Error in chat: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-28 16:28:15 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to process question
2025-09-28 16:28:15 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.032s
2025-09-28 16:28:40 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:28:40 | ERROR    | app.api.v1.endpoints.chat:ask_question:220 - Error in chat: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-28 16:28:40 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to process question
2025-09-28 16:28:40 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.050s
2025-09-28 16:28:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:28:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-28 16:28:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 16:28:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.007s
2025-09-28 16:28:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Client: 127.0.0.1
2025-09-28 16:28:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Status: 200 - Time: 0.011s
2025-09-28 16:28:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:28:51 | ERROR    | app.api.v1.endpoints.chat:ask_question:220 - Error in chat: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-09-28 16:28:51 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to process question
2025-09-28 16:28:51 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 500 - Time: 0.034s
2025-09-28 16:51:52 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 16:55:43 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 16:55:43 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 16:55:43 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 16:55:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:55:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.071s
2025-09-28 16:55:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/41 - Client: 127.0.0.1
2025-09-28 16:55:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/41 - Status: 200 - Time: 0.009s
2025-09-28 16:55:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Client: 127.0.0.1
2025-09-28 16:55:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/319fd1d1-4ac0-48bd-a996-34604b50f7ea/messages - Status: 200 - Time: 0.010s
2025-09-28 16:55:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:55:51 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.031s
2025-09-28 16:56:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 16:56:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.011s
2025-09-28 16:56:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/40 - Client: 127.0.0.1
2025-09-28 16:56:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/40 - Status: 200 - Time: 0.007s
2025-09-28 16:56:12 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 16:56:12 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.038s
2025-09-28 16:56:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:56:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-28 16:56:38 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 16:56:38 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:94 - Error creating knowledge base: MockVectorStoreManager.create_knowledge_base_collection() got an unexpected keyword argument 'collection_name'
2025-09-28 16:56:38 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to create knowledge base
2025-09-28 16:56:38 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.040s
2025-09-28 16:56:58 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/41 - Client: 127.0.0.1
2025-09-28 16:56:58 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:182 - Deleted knowledge base: 测试流程 (ID: 41)
2025-09-28 16:56:58 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/41 - Status: 200 - Time: 0.013s
2025-09-28 17:11:58 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 17:11:59 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 17:11:59 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 17:11:59 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 17:13:38 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 17:13:40 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 17:13:40 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 17:13:40 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 17:13:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:13:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-28 17:13:54 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/42 - Client: 127.0.0.1
2025-09-28 17:13:54 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 测试1 (ID: 42)
2025-09-28 17:13:54 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/42 - Status: 200 - Time: 0.016s
2025-09-28 17:13:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:13:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 17:14:04 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:14:04 | INFO     | app.services.vector_store_mock:create_collection:31 - Created mock collection: kb_kb_dc945357
2025-09-28 17:14:04 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:123 - Created knowledge base: 吃的 (ID: 43)
2025-09-28 17:14:04 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.034s
2025-09-28 17:14:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:14:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:14:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.029s
2025-09-28 17:14:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.037s
2025-09-28 17:14:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:14:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:14:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.013s
2025-09-28 17:14:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.013s
2025-09-28 17:14:17 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:14:17 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_43/2025/09/28/4173adb871df29097aa8666c024135af.pdf
2025-09-28 17:14:17 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file cesi.pdf to knowledge base 43
2025-09-28 17:14:17 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.058s
2025-09-28 17:14:17 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-28 17:14:17 | INFO     | app.services.vector_store_mock:create_collection:31 - Created mock collection: kb_dc945357
2025-09-28 17:14:17 | INFO     | app.services.vector_store_mock:add_documents:77 - Added 1 documents to mock collection kb_dc945357
2025-09-28 17:14:17 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:488 - Successfully processed and vectorized file cesi.pdf (chunks=1)
2025-09-28 17:14:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:14:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.006s
2025-09-28 17:14:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:14:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 17:14:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:14:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.007s
2025-09-28 17:14:42 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 17:14:42 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.049s
2025-09-28 17:14:55 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 17:14:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.033s
2025-09-28 17:18:12 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 17:18:17 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 17:18:17 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 17:18:17 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 17:26:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:26:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.096s
2025-09-28 17:26:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:26:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-28 17:26:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:26:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:26:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.068s
2025-09-28 17:26:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.080s
2025-09-28 17:26:57 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:26:57 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_43/2025/09/28/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-28 17:26:57 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file 测试.txt to knowledge base 43
2025-09-28 17:26:57 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.059s
2025-09-28 17:26:57 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-28 17:26:57 | INFO     | app.services.vector_store_mock:create_collection:31 - Created mock collection: kb_dc945357
2025-09-28 17:26:57 | INFO     | app.services.vector_store_mock:add_documents:77 - Added 1 documents to mock collection kb_dc945357
2025-09-28 17:26:57 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:488 - Successfully processed and vectorized file 测试.txt (chunks=1)
2025-09-28 17:26:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 17:26:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.006s
2025-09-28 17:27:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:27:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.015s
2025-09-28 17:31:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:31:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-28 17:31:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:31:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.007s
2025-09-28 17:31:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/887065fa-14aa-483a-b423-1a59e4851c7b/messages - Client: 127.0.0.1
2025-09-28 17:31:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/887065fa-14aa-483a-b423-1a59e4851c7b/messages - Status: 200 - Time: 0.031s
2025-09-28 17:31:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:31:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.010s
2025-09-28 17:31:33 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 17:31:33 | INFO     | app.services.vector_store_mock:search_similar:129 - Mock search found 1 results for query: 你好啊
2025-09-28 17:31:33 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.029s
2025-09-28 17:31:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:31:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.089s
2025-09-28 17:31:53 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 17:31:53 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.094s
2025-09-28 17:32:17 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 127.0.0.1
2025-09-28 17:32:17 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.031s
2025-09-28 17:33:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 17:33:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.009s
2025-09-28 17:34:31 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 17:34:34 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 17:34:34 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 17:34:34 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 17:35:22 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 17:36:04 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 17:36:04 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 17:36:04 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 17:41:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 17:41:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.110s
2025-09-28 17:48:00 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 23:35:16 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 23:35:16 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 23:35:16 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 23:36:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:36:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.141s
2025-09-28 23:36:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/43/files - Client: 127.0.0.1
2025-09-28 23:36:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/43 - Client: 127.0.0.1
2025-09-28 23:36:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/43 - Status: 200 - Time: 0.066s
2025-09-28 23:36:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/43/files - Status: 200 - Time: 0.068s
2025-09-28 23:36:12 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/40 - Client: 127.0.0.1
2025-09-28 23:36:12 | WARNING  | app.services.vector_store:delete_collection:183 - Delete collection kb_4afb123d got: Collection [kb_4afb123d] does not exists (ignored if not found)
2025-09-28 23:36:12 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_4afb123d
2025-09-28 23:36:12 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 测试 (ID: 40)
2025-09-28 23:36:12 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/40 - Status: 200 - Time: 0.070s
2025-09-28 23:36:15 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/43 - Client: 127.0.0.1
2025-09-28 23:36:15 | WARNING  | app.services.vector_store:delete_collection:183 - Delete collection kb_dc945357 got: Collection [kb_dc945357] does not exists (ignored if not found)
2025-09-28 23:36:15 | INFO     | app.services.vector_store:delete_knowledge_base_collection:368 - Deleted Chroma collection (if exists): kb_dc945357
2025-09-28 23:36:15 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 吃的 (ID: 43)
2025-09-28 23:36:15 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/43 - Status: 200 - Time: 0.026s
2025-09-28 23:36:22 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:36:22 | ERROR    | app.services.vector_store:get_or_create_collection:171 - Failed to get_or_create_collection kb_773b3948: '_type'
2025-09-28 23:36:22 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Error creating knowledge base: '_type'
2025-09-28 23:36:22 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to create knowledge base
2025-09-28 23:36:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.078s
2025-09-28 23:40:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:40:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.010s
2025-09-28 23:40:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-28 23:40:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/44 - Client: 127.0.0.1
2025-09-28 23:40:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.008s
2025-09-28 23:40:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/44 - Status: 200 - Time: 0.007s
2025-09-28 23:40:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-28 23:40:18 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_44/2025/09/28/4173adb871df29097aa8666c024135af.pdf
2025-09-28 23:40:18 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file cesi.pdf to knowledge base 44
2025-09-28 23:40:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.062s
2025-09-28 23:40:18 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-28 23:40:18 | ERROR    | app.services.vector_store:get_or_create_collection:171 - Failed to get_or_create_collection kb_773b3948: '_type'
2025-09-28 23:40:18 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:495 - Error processing file 156: '_type'
2025-09-28 23:40:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-28 23:40:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.005s
2025-09-28 23:51:27 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 23:53:21 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 23:53:21 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 23:53:21 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 23:53:26 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-28 23:55:00 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-28 23:55:00 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-28 23:55:00 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-28 23:55:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:55:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.113s
2025-09-28 23:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-28 23:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/44 - Client: 127.0.0.1
2025-09-28 23:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.046s
2025-09-28 23:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/44 - Status: 200 - Time: 0.063s
2025-09-28 23:55:30 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/44 - Client: 127.0.0.1
2025-09-28 23:55:30 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:222 - Error deleting knowledge base 44: 'ChromaVectorStore' object has no attribute 'delete_collection'
2025-09-28 23:55:30 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to delete knowledge base
2025-09-28 23:55:30 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/44 - Status: 500 - Time: 0.009s
2025-09-28 23:55:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:55:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 23:55:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:55:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-28 23:55:50 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:55:50 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Error creating knowledge base: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-28 23:55:50 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to create knowledge base
2025-09-28 23:55:50 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.022s
2025-09-28 23:56:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-28 23:56:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-28 23:57:57 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 08:46:45 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 08:46:45 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 08:46:45 | INFO     | app.main:startup_event:122 - Database URL: localhost:5432/knowledge_base
2025-09-29 08:47:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:47:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.128s
2025-09-29 08:47:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/45/files - Client: 127.0.0.1
2025-09-29 08:47:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/45 - Client: 127.0.0.1
2025-09-29 08:47:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/45/files - Status: 200 - Time: 0.031s
2025-09-29 08:47:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/45 - Status: 200 - Time: 0.037s
2025-09-29 08:47:45 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/45 - Client: 127.0.0.1
2025-09-29 08:47:45 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:222 - Error deleting knowledge base 45: 'ChromaVectorStore' object has no attribute 'delete_collection'
2025-09-29 08:47:45 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to delete knowledge base
2025-09-29 08:47:45 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/45 - Status: 500 - Time: 0.010s
2025-09-29 08:47:48 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/44 - Client: 127.0.0.1
2025-09-29 08:47:48 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:222 - Error deleting knowledge base 44: 'ChromaVectorStore' object has no attribute 'delete_collection'
2025-09-29 08:47:48 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to delete knowledge base
2025-09-29 08:47:48 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/44 - Status: 500 - Time: 0.010s
2025-09-29 08:47:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:47:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 08:47:55 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:47:55 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Error creating knowledge base: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-29 08:47:55 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to create knowledge base
2025-09-29 08:47:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.027s
2025-09-29 08:49:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:49:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 08:49:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:49:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 08:49:37 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/46 - Client: 127.0.0.1
2025-09-29 08:49:37 | ERROR    | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:222 - Error deleting knowledge base 46: 'ChromaVectorStore' object has no attribute 'delete_collection'
2025-09-29 08:49:37 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to delete knowledge base
2025-09-29 08:49:37 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/46 - Status: 500 - Time: 0.010s
2025-09-29 08:49:54 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 127.0.0.1
2025-09-29 08:49:54 | ERROR    | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Error creating knowledge base: 'ChromaVectorStore' object has no attribute 'get_or_create_collection'
2025-09-29 08:49:54 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 500 - Failed to create knowledge base
2025-09-29 08:49:54 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 500 - Time: 0.030s
2025-09-29 08:50:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-29 08:50:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/44 - Client: 127.0.0.1
2025-09-29 08:50:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.016s
2025-09-29 08:50:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/44 - Status: 200 - Time: 0.014s
2025-09-29 08:50:04 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-29 08:50:04 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_44/2025/09/29/4173adb871df29097aa8666c024135af.pdf
2025-09-29 08:50:04 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file cesi.pdf to knowledge base 44
2025-09-29 08:50:04 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.068s
2025-09-29 08:50:04 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-29 08:50:04 | ERROR    | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:495 - Error processing file 157: 'ChromaVectorStore' object has no attribute 'add_documents'
2025-09-29 08:50:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 127.0.0.1
2025-09-29 08:50:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.005s
2025-09-29 08:50:49 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 01:48:11 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 01:48:11 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 01:48:11 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 01:51:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:51:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-29 01:51:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/47/files - Client: 172.19.0.1
2025-09-29 01:51:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/47 - Client: 172.19.0.1
2025-09-29 01:51:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/47/files - Status: 200 - Time: 0.022s
2025-09-29 01:51:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/47 - Status: 200 - Time: 0.027s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/46 - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/46/files - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/46 - Status: 200 - Time: 0.005s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/46/files - Status: 200 - Time: 0.005s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/45/files - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/45 - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/45 - Status: 200 - Time: 0.002s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/45/files - Status: 200 - Time: 0.005s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/44/files - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/44 - Client: 172.19.0.1
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/44 - Status: 200 - Time: 0.003s
2025-09-29 01:51:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/44/files - Status: 200 - Time: 0.005s
2025-09-29 01:51:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/45 - Client: 172.19.0.1
2025-09-29 01:51:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/45/files - Client: 172.19.0.1
2025-09-29 01:51:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/45 - Status: 200 - Time: 0.004s
2025-09-29 01:51:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/45/files - Status: 200 - Time: 0.003s
2025-09-29 01:51:39 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/44 - Client: 172.19.0.1
2025-09-29 01:51:39 | WARNING  | app.services.vector_store:delete_collection:208 - Delete collection kb_773b3948 got: Collection kb_773b3948 does not exist. (ignored if not found)
2025-09-29 01:51:39 | INFO     | app.services.vector_store:delete_knowledge_base_collection:393 - Deleted Chroma collection (if exists): kb_773b3948
2025-09-29 01:51:39 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 测试 (ID: 44)
2025-09-29 01:51:39 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/44 - Status: 200 - Time: 0.018s
2025-09-29 01:51:42 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/45 - Client: 172.19.0.1
2025-09-29 01:51:42 | WARNING  | app.services.vector_store:delete_collection:208 - Delete collection kb_e06b61b7 got: Collection kb_e06b61b7 does not exist. (ignored if not found)
2025-09-29 01:51:42 | INFO     | app.services.vector_store:delete_knowledge_base_collection:393 - Deleted Chroma collection (if exists): kb_e06b61b7
2025-09-29 01:51:42 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 1 (ID: 45)
2025-09-29 01:51:42 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/45 - Status: 200 - Time: 0.022s
2025-09-29 01:51:45 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/46 - Client: 172.19.0.1
2025-09-29 01:51:45 | WARNING  | app.services.vector_store:delete_collection:208 - Delete collection kb_08b55d42 got: Collection kb_08b55d42 does not exist. (ignored if not found)
2025-09-29 01:51:45 | INFO     | app.services.vector_store:delete_knowledge_base_collection:393 - Deleted Chroma collection (if exists): kb_08b55d42
2025-09-29 01:51:45 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 2 (ID: 46)
2025-09-29 01:51:45 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/46 - Status: 200 - Time: 0.011s
2025-09-29 01:51:47 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/47 - Client: 172.19.0.1
2025-09-29 01:51:47 | WARNING  | app.services.vector_store:delete_collection:208 - Delete collection kb_5148730b got: Collection kb_5148730b does not exist. (ignored if not found)
2025-09-29 01:51:47 | INFO     | app.services.vector_store:delete_knowledge_base_collection:393 - Deleted Chroma collection (if exists): kb_5148730b
2025-09-29 01:51:47 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:216 - Deleted knowledge base: 3 (ID: 47)
2025-09-29 01:51:47 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/47 - Status: 200 - Time: 0.021s
2025-09-29 01:51:52 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:51:52 | INFO     | app.services.vector_store:create_knowledge_base_collection:387 - Ensured Chroma collection exists: kb_42ac8306
2025-09-29 01:51:52 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:123 - Created knowledge base: 测试 (ID: 48)
2025-09-29 01:51:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-29 01:51:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:51:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:51:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.005s
2025-09-29 01:51:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:52:00 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:52:00 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_48/2025/09/29/4173adb871df29097aa8666c024135af.pdf
2025-09-29 01:52:00 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file cesi.pdf to knowledge base 48
2025-09-29 01:52:00 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.022s
2025-09-29 01:52:00 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 73
2025-09-29 01:52:00 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 01:52:00 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 1 documents
2025-09-29 01:52:00 | INFO     | app.services.vector_store:add_documents:301 - Added 1 documents to collection kb_42ac8306
2025-09-29 01:52:00 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:488 - Successfully processed and vectorized file cesi.pdf (chunks=1)
2025-09-29 01:52:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:52:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.003s
2025-09-29 01:52:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:52:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 01:52:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:52:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:52:32 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 01:52:32 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 01:52:32 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.381s
2025-09-29 01:56:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:56:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:56:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 01:56:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 01:56:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:56:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 01:56:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.031s
2025-09-29 01:56:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:56:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 01:56:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.020s
2025-09-29 01:56:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:56:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.025s
2025-09-29 01:56:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 01:56:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 01:56:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.006s
2025-09-29 01:56:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:56:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:56:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 01:56:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:56:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:56:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 01:56:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 01:58:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 01:58:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.006s
2025-09-29 01:58:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 01:58:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 01:59:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 01:59:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 01:59:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 01:59:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 01:59:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 01:59:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 01:59:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 01:59:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.007s
2025-09-29 01:59:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 01:59:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 01:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 01:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 01:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 01:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 01:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 01:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 01:59:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 01:59:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 01:59:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 01:59:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:59:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.002s
2025-09-29 01:59:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.006s
2025-09-29 01:59:56 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:59:56 | INFO     | app.services.storage:upload_file:88 - File uploaded successfully: kb_48/2025/09/29/b2676fe4d2881a796b5b1c689bc3e747.txt
2025-09-29 01:59:56 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file 测试.txt to knowledge base 48
2025-09-29 01:59:56 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.029s
2025-09-29 01:59:56 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 6
2025-09-29 01:59:56 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 01:59:56 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 1 documents
2025-09-29 01:59:56 | INFO     | app.services.vector_store:add_documents:301 - Added 1 documents to collection kb_42ac8306
2025-09-29 01:59:56 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:488 - Successfully processed and vectorized file 测试.txt (chunks=1)
2025-09-29 01:59:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 01:59:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.003s
2025-09-29 01:59:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 01:59:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 01:59:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 01:59:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 01:59:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 01:59:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:00:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 02:00:08 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 02:00:08 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.363s
2025-09-29 02:00:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 02:00:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 02:00:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 02:00:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 02:00:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 02:00:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.007s
2025-09-29 02:00:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 02:00:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 02:00:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 02:00:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 02:02:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:02:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:02:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.044s
2025-09-29 02:02:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.047s
2025-09-29 02:02:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:02:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:02:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:02:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:02:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:02:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:02:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:02:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:02:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:02:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 02:02:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:02:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:02:47 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:02:47 | INFO     | app.services.vector_store:create_knowledge_base_collection:387 - Ensured Chroma collection exists: kb_74d9323e
2025-09-29 02:02:47 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:123 - Created knowledge base: 测试2 (ID: 49)
2025-09-29 02:02:47 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.026s
2025-09-29 02:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:02:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:02:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 02:02:55 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/49 - Client: 172.19.0.1
2025-09-29 02:02:55 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:179 - Updated knowledge base: 测试2 (ID: 49)
2025-09-29 02:02:55 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/49 - Status: 200 - Time: 0.007s
2025-09-29 02:03:02 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/49 - Client: 172.19.0.1
2025-09-29 02:03:02 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:179 - Updated knowledge base: 测试2 (ID: 49)
2025-09-29 02:03:02 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/49 - Status: 200 - Time: 0.008s
2025-09-29 02:03:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:07 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:03:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:03:07 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.004s
2025-09-29 02:03:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:03:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:03:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 02:03:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:03:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:03:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:03:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.006s
2025-09-29 02:03:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:03:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:03:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:03:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.006s
2025-09-29 02:03:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:03:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:03:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.004s
2025-09-29 02:03:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:03:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:03:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 02:03:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:03:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:03:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.004s
2025-09-29 02:03:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:03:17 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/48 - Client: 172.19.0.1
2025-09-29 02:03:17 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:179 - Updated knowledge base: 测试 (ID: 48)
2025-09-29 02:03:17 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/48 - Status: 200 - Time: 0.020s
2025-09-29 02:03:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:03:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:03:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.005s
2025-09-29 02:03:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:03:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:03:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:03:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:03:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:03:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:03:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:03:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.006s
2025-09-29 02:03:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:03:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:03:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:03:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:03:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:03:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:03:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:04:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:04:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:04:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:04:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:04:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:04:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:04:58 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 02:05:01 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 02:05:01 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 02:05:01 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 02:06:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:06:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.051s
2025-09-29 02:06:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:06:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:06:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:06:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:06:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:06:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:06:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.008s
2025-09-29 02:06:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.024s
2025-09-29 02:06:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:06:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:06:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:06:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:06:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.006s
2025-09-29 02:06:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 02:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.005s
2025-09-29 02:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 02:06:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:06:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:06:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.005s
2025-09-29 02:06:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:06:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:06:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:06:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:06:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 02:06:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:06:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:06:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.003s
2025-09-29 02:06:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:06:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:06:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.007s
2025-09-29 02:07:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:07:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:07:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:07:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:07:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:07:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 02:08:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 02:08:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:08:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.006s
2025-09-29 02:08:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:11:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:11:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 02:11:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 02:11:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 02:11:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:11:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:11:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:11:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:11:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:11:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.023s
2025-09-29 02:11:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:11:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.030s
2025-09-29 02:11:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:11:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:11:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:11:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:12:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:12:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:12:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:12:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:12:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:12:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:12:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:12:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:12:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:12:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:12:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:12:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 02:13:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:13:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:13:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:13:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:13:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:13:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:13:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:13:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:13:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:13:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 02:13:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:13:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 02:13:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:13:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:13:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:13:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:21:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:21:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.041s
2025-09-29 02:21:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.039s
2025-09-29 02:21:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:21:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:21:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:21:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:21:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:21:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:21:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:21:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 02:21:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:21:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:21:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:21:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 02:21:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 02:21:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:21:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:21:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:21:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:21:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:23:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:23:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:23:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:23:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 02:23:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:23:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 02:23:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:23:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:23:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:23:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:23:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:23:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:23:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:23:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 02:33:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:33:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.022s
2025-09-29 02:33:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:33:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.023s
2025-09-29 02:33:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:33:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:33:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:33:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:33:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:33:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:33:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:33:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:33:21 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 02:33:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 02:33:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.367s
2025-09-29 02:33:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:33:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:33:33 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 02:33:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 02:33:33 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.399s
2025-09-29 02:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:34:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:34:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:34:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:34:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:34:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:34:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:34:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:34:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:34:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:34:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:34:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:34:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 02:43:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:43:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-29 02:43:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:43:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.025s
2025-09-29 02:43:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:43:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 02:44:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:44:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:44:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:44:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:44:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:44:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.006s
2025-09-29 02:44:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:44:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:44:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:44:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:44:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:44:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:46:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:46:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 02:46:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:46:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.003s
2025-09-29 02:46:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:46:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:46:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:46:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:46:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:46:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:46:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:46:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:46:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:46:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:46:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:46:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 02:46:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:46:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:46:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:46:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:46:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:46:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 02:46:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:46:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:46:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:46:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.003s
2025-09-29 02:47:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:47:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 02:47:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:47:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:47:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:47:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:47:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:47:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:47:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:47:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 02:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 02:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 02:47:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:47:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:47:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:47:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:47:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:47:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:47:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:54:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:54:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.026s
2025-09-29 02:54:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.024s
2025-09-29 02:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.007s
2025-09-29 02:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 02:54:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 02:54:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:54:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:54:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:54:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:54:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:54:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:54:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 02:54:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:54:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:54:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:54:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:54:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:54:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 02:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 02:55:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:55:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:55:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:55:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:55:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:55:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.006s
2025-09-29 02:55:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 02:55:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 02:55:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:55:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 02:55:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:55:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:55:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:55:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.006s
2025-09-29 02:55:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:55:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 02:55:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 02:55:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.005s
2025-09-29 02:55:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:55:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:55:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 02:55:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 02:55:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:55:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:55:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:55:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 02:55:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:55:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 02:55:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:55:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:55:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:55:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 02:57:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 02:57:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 02:57:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 02:57:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 02:57:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 02:57:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.003s
2025-09-29 03:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.023s
2025-09-29 03:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.020s
2025-09-29 03:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:05:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:05:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 03:05:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:05:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:05:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:05:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 03:06:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:06:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 03:06:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:06:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:06:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:06:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:08:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.028s
2025-09-29 03:08:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.028s
2025-09-29 03:08:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.006s
2025-09-29 03:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 03:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.007s
2025-09-29 03:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 03:08:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.006s
2025-09-29 03:08:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 03:08:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 03:08:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:08:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.003s
2025-09-29 03:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 03:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 03:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:08:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 03:08:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 03:08:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 03:08:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:08:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 03:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 03:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 03:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:08:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 03:08:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 03:08:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:08:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:08:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 03:08:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.041s
2025-09-29 03:08:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 03:08:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.005s
2025-09-29 03:08:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:08:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 03:08:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 03:08:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:08:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.004s
2025-09-29 03:08:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:08:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:09:01 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 03:09:01 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 03:09:01 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.458s
2025-09-29 03:09:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:09:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:09:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-29 03:09:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.008s
2025-09-29 03:09:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:09:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:09:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:09:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.006s
2025-09-29 03:09:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:09:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.006s
2025-09-29 03:09:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:09:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:09:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:09:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:09:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:09:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:09:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:09:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:09:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:09:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:22:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:23:03 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:23:03 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:23:03 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:25:44 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:25:48 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:25:48 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:25:48 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:26:14 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:26:17 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:26:17 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:26:17 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:26:41 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:26:43 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:26:43 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:26:43 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:30:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:30:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.053s
2025-09-29 03:30:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:30:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 03:30:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:30:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.008s
2025-09-29 03:30:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:30:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.006s
2025-09-29 03:30:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:30:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:30:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:30:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:30:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Client: 172.19.0.1
2025-09-29 03:30:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/a1514a0e-dd10-494a-8e9e-1f23e2792d8d/messages - Status: 200 - Time: 0.007s
2025-09-29 03:30:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:30:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:30:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:30:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 03:30:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Client: 172.19.0.1
2025-09-29 03:30:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/961f3a52-8673-495d-bda0-af6f752a2bcf/messages - Status: 200 - Time: 0.004s
2025-09-29 03:30:40 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 03:30:40 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 03:30:40 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.416s
2025-09-29 03:30:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:30:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:30:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:30:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:30:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:30:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:30:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:30:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.006s
2025-09-29 03:31:49 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:31:54 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:31:54 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:31:54 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:41:17 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:43:05 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:43:05 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:43:05 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:43:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:43:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-29 03:43:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:43:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.014s
2025-09-29 03:43:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/062025f0-c7fc-4e6b-8b21-994370433511/messages - Client: 172.19.0.1
2025-09-29 03:43:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/062025f0-c7fc-4e6b-8b21-994370433511/messages - Status: 200 - Time: 0.015s
2025-09-29 03:43:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:43:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.009s
2025-09-29 03:43:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:43:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:43:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:43:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:48:46 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:48:49 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:48:49 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:48:49 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:51:50 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:52:00 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:52:00 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:52:00 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:52:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:52:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.074s
2025-09-29 03:52:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:52:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.008s
2025-09-29 03:52:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/062025f0-c7fc-4e6b-8b21-994370433511/messages - Client: 172.19.0.1
2025-09-29 03:52:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/062025f0-c7fc-4e6b-8b21-994370433511/messages - Status: 200 - Time: 0.015s
2025-09-29 03:52:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:52:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.010s
2025-09-29 03:52:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:52:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:52:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:52:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:52:19 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 03:52:19 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 03:52:19 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.449s
2025-09-29 03:52:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:52:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:52:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:52:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:52:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:52:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:55:09 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 03:55:18 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 03:55:18 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 03:55:18 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 03:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 03:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-29 03:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 03:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.009s
2025-09-29 03:55:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9492bf91-2a15-4465-8761-7895c650427a/messages - Client: 172.19.0.1
2025-09-29 03:55:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9492bf91-2a15-4465-8761-7895c650427a/messages - Status: 200 - Time: 0.011s
2025-09-29 03:55:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:55:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.008s
2025-09-29 03:55:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:55:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:55:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:55:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:55:35 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 03:55:35 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 03:55:35 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.328s
2025-09-29 03:55:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:55:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.005s
2025-09-29 03:55:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 03:55:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.004s
2025-09-29 03:55:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 03:55:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.004s
2025-09-29 04:02:16 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 04:02:31 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 04:02:31 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 04:02:31 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 06:24:24 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 06:24:27 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 06:24:27 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 06:24:27 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 06:24:42 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 06:24:44 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 06:24:44 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 06:24:44 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 06:27:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:27:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.067s
2025-09-29 06:27:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 06:27:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.008s
2025-09-29 06:27:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 06:27:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.013s
2025-09-29 06:27:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:27:23 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455f01610>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7f5479d65c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7f5479cd8f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7f5479cdcd60>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7f547b18ea20>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7f547b18e5c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7f547b18e3e0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7f5479cdc7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7f5479cdc680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7f5455f01610>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f5455f01610>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 9
               └ <function _main at 0x7f547d0beb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f547d15c040>
           └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f547d287560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f547d078910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    └ <function subprocess_started at 0x7f547c1af560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f547c105810>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f547c1ae5c0>
           │       │   └ <uvicorn.server.Server object at 0x7f547c105810>
           │       └ <function run at 0x7f547c5594e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f547c0d19c0>
           │      └ <function Runner.run at 0x7f547c4ff060>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f547c0f2a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0e24...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0e24...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0e24...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
          └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f545c04b2e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f545c0...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f545c0494e0>
                     │    │             └ <starlette.requests.Request object at 0x7f545c0e2610>
                     │    └ <function log_requests at 0x7f545c2a0360>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7f545c0e2610>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f545c0494e0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f545c0491c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f545c0491c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f545c0491c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c04b240>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c04b240>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7f545c2ef150>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c04b240>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7f547af53560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c04b240>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f545c04a700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f545c30b100>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f545c105690>
                     └ <function get_request_handler.<locals>.app at 0x7f545c30b4c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f547af51b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7f545c105810>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7f545c2a36a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f545c149350>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7f5479b3b920>
          └ <minio.api.Minio object at 0x7f5460801b90>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7f5479b3b880>
           └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7f5479b39bc0>
             └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7f5479b39a80>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7f5479cda700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7f54608018d0>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7f5479d8ed90>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7f5479d7ce00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455f01610>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455f01610>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455f01610>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:27:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:27:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 06:27:29 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455eb3350>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7f5479d65c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7f5479cd8f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7f5479cdcd60>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7f547b18ea20>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7f547b18e5c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7f547b18e3e0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7f5479cdc7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7f5479cdc680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f5455eb3350>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 9
               └ <function _main at 0x7f547d0beb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f547d15c040>
           └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f547d287560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f547d078910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    └ <function subprocess_started at 0x7f547c1af560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f547c105810>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f547c1ae5c0>
           │       │   └ <uvicorn.server.Server object at 0x7f547c105810>
           │       └ <function run at 0x7f547c5594e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f547c0d19c0>
           │      └ <function Runner.run at 0x7f547c4ff060>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f547c0f2a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e7f3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e7f3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e7f3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
          └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f545c0c60c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f545c0c7e20>
                     │    │             └ <starlette.requests.Request object at 0x7f5455e7f590>
                     │    └ <function log_requests at 0x7f545c2a0360>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7f5455e7f590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f545c0c7e20>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48540>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c0c67a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c0c67a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7f545c2ef150>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c0c67a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7f547af53560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f545c0c67a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e485e0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f545c30b100>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5455e7f990>
                     └ <function get_request_handler.<locals>.app at 0x7f545c30b4c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f547af51b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7f5455e7fbd0>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7f545c2a36a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f545c149350>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7f5479b3b920>
          └ <minio.api.Minio object at 0x7f5460801b90>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7f5479b3b880>
           └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7f5479b39bc0>
             └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7f5479b39a80>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7f5479cda700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7f54608018d0>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7f5479d8ed90>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7f5479d7ce00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455eb3350>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455eb3350>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455eb3350>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:27:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:27:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:27:35 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ec4110>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7f5479d65c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7f5479cd8f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7f5479cdcd60>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7f547b18ea20>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7f547b18e5c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7f547b18e3e0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7f5479cdc7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7f5479cdc680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f5455ec4110>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 9
               └ <function _main at 0x7f547d0beb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f547d15c040>
           └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f547d287560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f547d078910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    └ <function subprocess_started at 0x7f547c1af560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f547c105810>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f547c1ae5c0>
           │       │   └ <uvicorn.server.Server object at 0x7f547c105810>
           │       └ <function run at 0x7f547c5594e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f547c0d19c0>
           │      └ <function Runner.run at 0x7f547c4ff060>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f547c0f2a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455eb9b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455eb9b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455eb9b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
          └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5455e49f80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5455e48b80>
                     │    │             └ <starlette.requests.Request object at 0x7f5455eb9d50>
                     │    └ <function log_requests at 0x7f545c2a0360>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7f5455eb9d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5455e48b80>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48c20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48c20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e48c20>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e4a0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e4a0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7f545c2ef150>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e4a0c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7f547af53560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e4a0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48ae0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f545c30b100>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5455eb9f50>
                     └ <function get_request_handler.<locals>.app at 0x7f545c30b4c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f547af51b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7f5455eba5d0>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7f545c2a36a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f545c149350>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7f5479b3b920>
          └ <minio.api.Minio object at 0x7f5460801b90>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7f5479b3b880>
           └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7f5479b39bc0>
             └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7f5479b39a80>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7f5479cda700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7f54608018d0>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7f5479d8ed90>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7f5479d7ce00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ec4110>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ec4110>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ec4110>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:27:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 6.078s
2025-09-29 06:27:41 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ef6010>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7f5479d65c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7f5479cd8f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7f5479cdcd60>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7f547b18ea20>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7f547b18e5c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7f547b18e3e0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7f5479cdc7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7f5479cdc680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f5455ef6010>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 9
               └ <function _main at 0x7f547d0beb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7f547d15c040>
           └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f547d287560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7f547d078910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
    │    └ <function subprocess_started at 0x7f547c1af560>
    └ <SpawnProcess name='SpawnProcess-3' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7f547c105810>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7f547c1ae5c0>
           │       │   └ <uvicorn.server.Server object at 0x7f547c105810>
           │       └ <function run at 0x7f547c5594e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7f547c0d19c0>
           │      └ <function Runner.run at 0x7f547c4ff060>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7f547c0f2a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7f547c105010>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e9cc...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f547c132f10>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e9cc...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e9cc...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
          └ <fastapi.applications.FastAPI object at 0x7f545c2eef10>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7f5455e48ea0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7f5455e...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f545c94d810>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5455e48f40>
                     │    │             └ <starlette.requests.Request object at 0x7f5455e9ce90>
                     │    └ <function log_requests at 0x7f545c2a0360>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7f5455e9ce90>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7f5455e48f40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e49120>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7f545c2719d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e49120>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7f545c26c090>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7f5455e49120>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f545c22cdd0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e48900>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f545c22ef50>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e48900>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7f545c2ef150>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f545d3e56d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e48900>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7f547af53560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7f5455e48900>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7f5455e48fe0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7f545c30b100>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7f5455e9d550>
                     └ <function get_request_handler.<locals>.app at 0x7f545c30b4c0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7f547af51b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7f5455e9d810>, 'file_id': 159, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7f545c2a36a0>
                 └ <fastapi.dependencies.models.Dependant object at 0x7f545c149350>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7f5479b3b920>
          └ <minio.api.Minio object at 0x7f5460801b90>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7f5479b3b880>
           └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7f5479b39bc0>
             └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7f5479b39a80>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7f5479cda700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7f54608018d0>
               └ <minio.api.Minio object at 0x7f5460801b90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7f5479d8ed90>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7f5479cd9120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7f5479d7ce00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ef6010>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ef6010>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7f545c0d9510>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f5455ef6010>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:27:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:27:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 06:27:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.002s
2025-09-29 06:27:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 06:27:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 06:28:08 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 06:28:08 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 06:28:08 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 06:28:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:28:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.045s
2025-09-29 06:28:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 06:28:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 06:28:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.020s
2025-09-29 06:28:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.024s
2025-09-29 06:28:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 06:28:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/48/files - Client: 172.19.0.1
2025-09-29 06:28:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/48/files - Status: 200 - Time: 0.005s
2025-09-29 06:28:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.006s
2025-09-29 06:28:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:28:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 06:28:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 06:28:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 06:28:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 06:28:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 06:28:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 06:28:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 06:28:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 06:28:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.010s
2025-09-29 06:28:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 06:28:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 06:28:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:28:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 06:28:27 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c689d...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c689d...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c689d...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4ea40e00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4e82eac0>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c68b9d0>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c68b9d0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4e82eac0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e82e200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e82e200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e82e200>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e866d40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e866d40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e866d40>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e866d40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e82e7a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4e86a7d0>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4e869c90>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c68b8d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:28:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 06:28:33 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c662350>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c662350>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c662350>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64cf...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64cf...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64cf...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c6af600>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c6af6a0>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c64d110>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c64d110>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c6af6a0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c6afb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c6afb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c6afb00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c6afd80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c6afd80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c6afd80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c6afd80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af9c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c642fd0>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c640450>, 'file_id': 159, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c662350>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c662350>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c662350>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:28:34 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 06:28:34 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 6.512s
2025-09-29 06:28:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:28:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 06:28:54 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64c7...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64c7...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c64c7...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4e867b00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4e867ba0>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c475ad0>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c475ad0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4e867ba0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e867c40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e867c40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4e867c40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e865f80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e865f80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e865f80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4e865f80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4e8679c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c69ff90>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c69fcd0>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4a6a90>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:29:00 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4a7c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4a7c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4a7c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c6ac040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c6af240>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c689010>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c689010>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c6af240>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c65f4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c65f4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c65f4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f420>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f420>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f420>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f420>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c6af1a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c4b4110>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c4b4310>, 'file_id': 159, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4cec10>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 06:29:06 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4df410>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c4df410>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4cfe...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4cfe...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4cfe...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c6af2e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c8400>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c4d4150>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c4d4150>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c8400>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c85e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c85e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c85e0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4c8860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4c8860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4c8860>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4c8860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c84a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c4d4510>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c4d4890>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4df410>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4df410>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4df410>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:29:12 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4e47...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4e47...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4e47...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c4c8ae0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c8a40>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c4d5090>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c4d5090>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c8a40>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c8360>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c8360>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c8360>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f100>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c65f100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c89a0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c4e4ad0>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c4d5850>, 'file_id': 159, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f7990>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:18 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c507f50>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c507f50>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4fcc...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4fcc...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4fcc...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c4c87c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c4...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c9bc0>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c4fced0>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c4fced0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4c9bc0>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c9da0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c9da0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4c9da0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca020>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca020>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca020>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca020>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4c9c60>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c4fd310>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c4fd850>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c507f50>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c507f50>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c507f50>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:29:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 06:29:24 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c515b...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c515b...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c515b...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c4c9f80>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4ca660>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c515d50>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c515d50>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4ca660>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4ca2a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4ca2a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4ca2a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca480>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4ca480>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca340>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c516110>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c516310>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c52bed0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:29:30 | ERROR    | app.main:general_exception_handler:90 - Unexpected error: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>: Failed to establish a new connection: [Errno 111] Connection refused'))
Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7deb70509c60>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('127.0.0.1', 9000)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=2, type=1, proto=6>

ConnectionRefusedError: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7deb70428f40>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
    │    └ <function HTTPConnection.request at 0x7deb7042cd60>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 494, in request
    self.endheaders()
    │    └ <function HTTPConnection.endheaders at 0x7deb718e2a20>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/http/client.py", line 1298, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    │    │            │                            └ False
    │    │            └ None
    │    └ <function HTTPConnection._send_output at 0x7deb718e25c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/http/client.py", line 1058, in _send_output
    self.send(msg)
    │    │    └ b'GET /knowledge-base?location= HTTP/1.1\r\nAccept-Encoding: identity\r\nHost: localhost:9000\r\nUser-Agent: MinIO (Linux; x8...
    │    └ <function HTTPConnection.send at 0x7deb718e23e0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/http/client.py", line 996, in send
    self.connect()
    │    └ <function HTTPConnection.connect at 0x7deb7042c7c0>
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 325, in connect
    self.sock = self._new_conn()
    │    │      │    └ <function HTTPConnection._new_conn at 0x7deb7042c680>
    │    │      └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
    │    └ None
    └ <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>: Failed to establish a new connection: [Errno 111] Connection refused


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 7
               └ <function _main at 0x7deb7381eb60>
  File "/usr/local/lib/python3.11/multiprocessing/spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x7deb738bc040>
           └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7deb739e7560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x7deb737d8910>, 'target': <bound method Server.run of <uvicorn.server.Server obj...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
    │    └ <function subprocess_started at 0x7deb7290f560>
    └ <SpawnProcess name='SpawnProcess-1' parent=1 started>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x7deb72865990>>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=3, family=2, type=1, proto=0, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x7deb7290e5c0>
           │       │   └ <uvicorn.server.Server object at 0x7deb72865990>
           │       └ <function run at 0x7deb72cb94e0>
           └ <module 'asyncio' from '/usr/local/lib/python3.11/asyncio/__init__.py'>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x7deb728319c0>
           │      └ <function Runner.run at 0x7deb72c5f060>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /usr/local/lib/python3.11/site-packages/uvicorn/server.py:81> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0x7deb72852a80>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7deb72865210>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5352...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7deb728b24d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5352...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
  File "/usr/local/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5352...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
          └ <fastapi.applications.FastAPI object at 0x7deb4e90a790>
> File "/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x7deb4c4cac00>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0x7deb4c5...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7deb4e94d750>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4ca840>
                     │    │             └ <starlette.requests.Request object at 0x7deb4c516410>
                     │    └ <function log_requests at 0x7deb4ea022a0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>

  File "/app/app/main.py", line 56, in log_requests
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x7deb4c516410>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x7deb4c4ca840>

  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
          └ MaxRetryError("HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Cau...
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4cb100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x7deb54adb0d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/trustedhost.py", line 34, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4cb100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
          └ <starlette.middleware.trustedhost.TrustedHostMiddleware object at 0x7deb54abfe50>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7deb4c4cb100>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7deb4f3fd2d0>
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4cb4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7deb4eaf83d0>
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4cb4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <fastapi.routing.APIRouter object at 0x7deb4e90a850>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7deb4eaf8110>
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4cb4c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │     └ <function Route.handle at 0x7deb716b7560>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x7deb4c4cb4c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7deb4c4ca700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.6', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0x7deb4e92f6a0>
          └ APIRoute(path='/api/v1/chat/files/{file_id}/open-url', name='get_file_open_url', methods=['GET'])
  File "/usr/local/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x7deb4c535690>
                     └ <function get_request_handler.<locals>.app at 0x7deb4e92f740>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x7deb716b5b20>
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x7deb4c535910>, 'file_id': 158, 'request': <starlette.requests.Request...
                 │         └ <function get_file_open_url at 0x7deb4ea42840>
                 └ <fastapi.dependencies.models.Dependant object at 0x7deb4e94c510>

  File "/app/app/api/v1/endpoints/chat.py", line 375, in get_file_open_url
    url = mc.presigned_get_object(
          │  └ <function Minio.presigned_get_object at 0x7deb70293920>
          └ <minio.api.Minio object at 0x7deb56f5c750>

  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2138, in presigned_get_object
    return self.get_presigned_url(
           │    └ <function Minio.get_presigned_url at 0x7deb70293880>
           └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 2076, in get_presigned_url
    region = self._get_region(bucket_name)
             │    │           └ 'knowledge-base'
             │    └ <function Minio._get_region at 0x7deb70291bc0>
             └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 470, in _get_region
    response = self._url_open(
               │    └ <function Minio._url_open at 0x7deb70291a80>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/minio/api.py", line 279, in _url_open
    response = self._http.urlopen(
               │    │     └ <function PoolManager.urlopen at 0x7deb7042a700>
               │    └ <urllib3.poolmanager.PoolManager object at 0x7deb56f5dd50>
               └ <minio.api.Minio object at 0x7deb56f5c750>
  File "/usr/local/lib/python3.11/site-packages/urllib3/poolmanager.py", line 459, in urlopen
    response = conn.urlopen(method, u.request_uri, **kw)
               │    │       │       │ │              └ {'body': None, 'headers': HTTPHeaderDict({'Host': 'localhost:9000', 'User-Agent': 'MinIO (Linux; x86_64) minio-py/7.2.0', 'x-...
               │    │       │       │ └ <property object at 0x7deb70556ca0>
               │    │       │       └ Url(scheme='http', auth=None, host='localhost', port=9000, path='/knowledge-base', query='location=', fragment=None)
               │    │       └ 'GET'
               │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
               └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 871, in urlopen
    return self.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7deb70429120>
           └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
  [Previous line repeated 2 more times]
  File "/usr/local/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7deb704f0e00>
              └ Retry(total=0, connect=None, read=None, redirect=None, status=None)
  File "/usr/local/lib/python3.11/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>: Failed to establish a new connection: [Errn...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>: Failed to establish a new connection: [Errn...
          │             │      └ '/knowledge-base?location='
          │             └ <urllib3.connectionpool.HTTPConnectionPool object at 0x7deb4c693e10>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=9000): Max retries exceeded with url: /knowledge-base?location= (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7deb4c4f4090>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-09-29 06:54:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:54:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.029s
2025-09-29 06:54:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 06:54:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.023s
2025-09-29 06:54:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 06:54:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 06:54:37 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 06:54:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 06:54:38 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.395s
2025-09-29 06:55:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:55:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 06:55:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 06:55:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 06:55:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 06:55:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 06:55:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 06:55:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.007s
2025-09-29 06:59:18 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 06:59:21 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 06:59:21 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 06:59:21 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:01:49 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:01:53 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:01:53 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:01:53 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:02:38 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:02:41 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:02:41 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:02:41 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:05:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:05:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.055s
2025-09-29 07:05:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:05:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.006s
2025-09-29 07:05:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:05:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:05:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:05:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:05:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:05:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.009s
2025-09-29 07:05:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:05:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.006s
2025-09-29 07:05:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:05:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:05:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:05:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:05:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 07:05:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.043s
2025-09-29 07:05:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:05:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:05:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:05:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.006s
2025-09-29 07:05:17 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:05:20 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:05:20 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:05:20 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:05:32 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:05:35 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:05:35 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:05:35 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:07:10 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:07:13 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:07:13 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:07:13 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:07:25 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:07:29 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:07:29 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:07:29 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:10:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:10:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.052s
2025-09-29 07:10:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:10:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 07:10:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:10:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:10:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 07:10:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.027s
2025-09-29 07:10:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:10:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 07:10:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:10:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:10:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:10:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:10:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:10:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.008s
2025-09-29 07:10:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:10:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.008s
2025-09-29 07:11:10 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:11:18 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:11:18 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:11:18 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:11:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:11:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.060s
2025-09-29 07:11:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:11:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:11:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:11:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.013s
2025-09-29 07:11:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:11:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:11:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:11:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.014s
2025-09-29 07:11:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.006s
2025-09-29 07:11:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:11:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:11:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.002s
2025-09-29 07:11:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9492bf91-2a15-4465-8761-7895c650427a/messages - Client: 172.19.0.1
2025-09-29 07:11:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9492bf91-2a15-4465-8761-7895c650427a/messages - Status: 200 - Time: 0.006s
2025-09-29 07:11:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.002s
2025-09-29 07:11:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:11:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.002s
2025-09-29 07:11:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:11:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:11:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 07:11:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:11:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:11:52 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:11:52 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:11:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:11:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:11:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:11:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:16:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.007s
2025-09-29 07:16:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.007s
2025-09-29 07:16:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.033s
2025-09-29 07:16:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:16:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:16:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:16:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:16:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:16:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:16:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:16:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:16:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:16:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:16:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:16:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:16:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 07:16:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:16:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:16:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:16:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.031s
2025-09-29 07:16:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-29 07:16:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:16:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:16:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:16:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:17:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:17:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 07:17:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:17:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:17:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.006s
2025-09-29 07:17:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:17:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:17:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:17:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 07:17:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:17:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:17:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:17:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:17:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:17:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:17:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:17:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:17:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.006s
2025-09-29 07:17:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:17:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:17:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:17:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:17:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:17:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:17:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:17:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 07:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.005s
2025-09-29 07:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:18:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:18:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:18:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:18:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:18:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:18:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:18:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:18:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:18:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:18:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:18:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:20:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:20:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:20:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:20:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-29 07:20:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:20:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.003s
2025-09-29 07:20:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:20:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.004s
2025-09-29 07:20:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:20:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 07:20:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:20:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.004s
2025-09-29 07:20:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:20:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.006s
2025-09-29 07:20:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:20:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:20:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:20:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:20:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:20:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:20:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/159/open-url - Client: 172.19.0.1
2025-09-29 07:20:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/159/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:20:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/158/open-url - Client: 172.19.0.1
2025-09-29 07:20:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/158/open-url - Status: 200 - Time: 0.003s
2025-09-29 07:22:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:22:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.022s
2025-09-29 07:22:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/48 - Client: 172.19.0.1
2025-09-29 07:22:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/48 - Status: 200 - Time: 0.023s
2025-09-29 07:22:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Client: 172.19.0.1
2025-09-29 07:22:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/5b8efd16-622a-43f8-89a7-9d4322a368f4/messages - Status: 200 - Time: 0.005s
2025-09-29 07:32:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:32:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.032s
2025-09-29 07:32:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:32:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.028s
2025-09-29 07:32:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:32:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:32:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:32:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:32:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 07:32:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.014s
2025-09-29 07:32:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:32:29 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_49/2025/09/29/b6282fa1b8f276713ec648a7876e2496.docx
2025-09-29 07:32:29 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:592 - Uploaded file cesi.docx to knowledge base 49
2025-09-29 07:32:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.037s
2025-09-29 07:32:29 | INFO     | app.services.text_splitter:create_chunks:255 - Created 0 chunks from text of length 0
2025-09-29 07:32:29 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:433 - File cesi.docx has no processable text, marked as completed.
2025-09-29 07:32:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:32:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 07:45:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:45:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.029s
2025-09-29 07:45:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:45:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.025s
2025-09-29 07:45:54 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 07:45:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 07:45:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.331s
2025-09-29 07:46:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:46:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 07:46:11 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 07:46:11 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 07:46:11 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.388s
2025-09-29 07:46:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:46:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 07:46:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:46:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:46:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 07:46:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.007s
2025-09-29 07:50:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:50:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:51:47 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:51:51 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:51:51 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:51:51 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:55:17 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:55:21 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:55:21 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:55:21 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:55:38 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:55:40 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:55:40 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:55:40 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:56:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:56:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.068s
2025-09-29 07:56:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:56:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:56:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.027s
2025-09-29 07:56:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.034s
2025-09-29 07:56:35 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:56:35 | WARNING  | app.api.v1.endpoints.knowledge_bases:upload_file:544 - Unsupported MIME type: application/octet-stream for file 建设项目环境影响评价分类管理名录(2021年版）.md
2025-09-29 07:56:35 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 400 - 不支持的文件类型
2025-09-29 07:56:35 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 400 - Time: 0.011s
2025-09-29 07:57:21 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 07:57:29 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 07:57:29 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 07:57:29 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 07:58:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:58:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.084s
2025-09-29 07:58:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 07:58:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 07:58:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:58:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 07:58:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.024s
2025-09-29 07:58:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.031s
2025-09-29 07:58:30 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:58:30 | WARNING  | app.api.v1.endpoints.knowledge_bases:upload_file:544 - Unsupported MIME type: application/octet-stream for file 生态厅回复.md
2025-09-29 07:58:30 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 400 - 不支持的文件类型
2025-09-29 07:58:30 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 400 - Time: 0.014s
2025-09-29 07:59:35 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:59:35 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_49/2025/09/29/987a6bf7dd1a4367373bc76870e99d8b.png
2025-09-29 07:59:35 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:611 - Uploaded file logo.png to knowledge base 49
2025-09-29 07:59:35 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.067s
2025-09-29 07:59:35 | INFO     | app.services.text_splitter:create_chunks:255 - Created 1 chunks from text of length 51
2025-09-29 07:59:36 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 07:59:36 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 1 documents
2025-09-29 07:59:36 | INFO     | app.services.vector_store:add_documents:301 - Added 1 documents to collection kb_74d9323e
2025-09-29 07:59:36 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file logo.png (chunks=1)
2025-09-29 07:59:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 07:59:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 08:00:02 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:00:02 | WARNING  | app.api.v1.endpoints.knowledge_bases:upload_file:544 - Unsupported MIME type: application/octet-stream for file 生态厅回复.md
2025-09-29 08:00:02 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 400 - 不支持的文件类型
2025-09-29 08:00:02 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 400 - Time: 0.012s
2025-09-29 08:00:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:00:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 08:00:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:00:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 08:00:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Client: 172.19.0.1
2025-09-29 08:00:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Status: 200 - Time: 0.009s
2025-09-29 08:00:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:00:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 08:00:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.356s
2025-09-29 08:00:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:00:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:08:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:08:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.026s
2025-09-29 08:08:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:08:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.035s
2025-09-29 08:08:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49 - Client: 172.19.0.1
2025-09-29 08:08:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49 - Status: 200 - Time: 0.003s
2025-09-29 08:09:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:09:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 08:09:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:09:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 08:09:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:09:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:09:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:09:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 08:09:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Client: 172.19.0.1
2025-09-29 08:09:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Status: 200 - Time: 0.011s
2025-09-29 08:11:04 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 08:11:08 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 08:11:08 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 08:11:08 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 08:12:31 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 08:12:40 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 08:12:40 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 08:12:40 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 08:12:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:12:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.081s
2025-09-29 08:12:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:12:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.010s
2025-09-29 08:12:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Client: 172.19.0.1
2025-09-29 08:12:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Status: 200 - Time: 0.013s
2025-09-29 08:12:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:12:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 08:12:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:12:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:12:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.027s
2025-09-29 08:12:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.032s
2025-09-29 08:12:53 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:12:53 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_49/2025/09/29/cdfc9095d5e487a4c6d62b8aebcc0c1d.md
2025-09-29 08:12:53 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:624 - Uploaded file 生态厅回复.md to knowledge base 49
2025-09-29 08:12:53 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.042s
2025-09-29 08:12:53 | INFO     | app.services.text_splitter:create_chunks:255 - Created 43 chunks from text of length 82915
2025-09-29 08:12:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:12:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.004s
2025-09-29 08:12:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-29 08:12:56 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-29 08:12:57 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v3
2025-09-29 08:12:57 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 22 documents
2025-09-29 08:12:57 | INFO     | app.services.vector_store:add_documents:301 - Added 22 documents to collection kb_74d9323e
2025-09-29 08:12:57 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file 生态厅回复.md (chunks=22)
2025-09-29 08:13:20 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:13:20 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_49/2025/09/29/608054a0e91933433b80e73f2680c8d6.md
2025-09-29 08:13:20 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:624 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.md to knowledge base 49
2025-09-29 08:13:20 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.030s
2025-09-29 08:13:20 | INFO     | app.services.text_splitter:create_chunks:255 - Created 22 chunks from text of length 42911
2025-09-29 08:13:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:13:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.005s
2025-09-29 08:13:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-29 08:13:22 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 08:13:22 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 11 documents
2025-09-29 08:13:22 | INFO     | app.services.vector_store:add_documents:301 - Added 11 documents to collection kb_74d9323e
2025-09-29 08:13:22 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.md (chunks=11)
2025-09-29 08:13:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:13:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.006s
2025-09-29 08:13:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:13:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:13:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:13:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:13:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.006s
2025-09-29 08:13:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.005s
2025-09-29 08:13:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:13:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:13:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:13:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 08:13:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Client: 172.19.0.1
2025-09-29 08:13:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Status: 200 - Time: 0.005s
2025-09-29 08:14:09 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:14:09 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 08:14:09 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.367s
2025-09-29 08:17:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:17:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:17:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:17:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 08:17:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Client: 172.19.0.1
2025-09-29 08:17:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/9fdfdc0d-b39c-4596-b0c2-da6f6b79bdbe/messages - Status: 200 - Time: 0.006s
2025-09-29 08:17:42 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:17:42 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 08:17:42 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.364s
2025-09-29 08:18:49 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:18:50 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v3
2025-09-29 08:18:50 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.418s
2025-09-29 08:19:08 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:19:08 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 08:19:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:19:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:19:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.003s
2025-09-29 08:19:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.007s
2025-09-29 08:19:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:19:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-29 08:19:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/49/files - Client: 172.19.0.1
2025-09-29 08:19:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/49 - Client: 172.19.0.1
2025-09-29 08:19:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/49 - Status: 200 - Time: 0.004s
2025-09-29 08:19:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/49/files - Status: 200 - Time: 0.007s
2025-09-29 08:19:26 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:19:26 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_69d687df
2025-09-29 08:19:26 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:127 - Created knowledge base: 环评名录 (ID: 50)
2025-09-29 08:19:26 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.027s
2025-09-29 08:19:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 08:19:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/50 - Client: 172.19.0.1
2025-09-29 08:19:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/50 - Status: 200 - Time: 0.004s
2025-09-29 08:19:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.006s
2025-09-29 08:19:30 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 08:19:30 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_50/2025/09/29/608054a0e91933433b80e73f2680c8d6.md
2025-09-29 08:19:30 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:624 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.md to knowledge base 50
2025-09-29 08:19:30 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.022s
2025-09-29 08:19:30 | INFO     | app.services.text_splitter:create_chunks:255 - Created 44 chunks from text of length 42911
2025-09-29 08:19:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 08:19:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.003s
2025-09-29 08:19:31 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-29 08:19:32 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v3
2025-09-29 08:19:33 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v3
2025-09-29 08:19:33 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 22 documents
2025-09-29 08:19:33 | INFO     | app.services.vector_store:add_documents:301 - Added 22 documents to collection kb_69d687df
2025-09-29 08:19:33 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.md (chunks=22)
2025-09-29 08:22:34 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 08:22:37 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 08:22:37 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 08:22:37 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 08:22:45 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 08:22:48 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 08:22:48 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 08:22:48 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 08:22:54 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:22:54 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.046s
2025-09-29 08:22:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 08:22:56 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/50 - Client: 172.19.0.1
2025-09-29 08:22:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.023s
2025-09-29 08:22:56 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/50 - Status: 200 - Time: 0.027s
2025-09-29 08:22:58 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/50 - Client: 172.19.0.1
2025-09-29 08:22:58 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_69d687df
2025-09-29 08:22:58 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_69d687df
2025-09-29 08:22:58 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:220 - Deleted knowledge base: 环评名录 (ID: 50)
2025-09-29 08:22:58 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/50 - Status: 200 - Time: 0.029s
2025-09-29 08:23:04 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:23:04 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_10527c05
2025-09-29 08:23:04 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:127 - Created knowledge base: 环评名录 (ID: 51)
2025-09-29 08:23:04 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.031s
2025-09-29 08:23:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51/files - Client: 172.19.0.1
2025-09-29 08:23:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:23:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51/files - Status: 200 - Time: 0.004s
2025-09-29 08:23:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.004s
2025-09-29 08:23:10 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/51/files - Client: 172.19.0.1
2025-09-29 08:23:10 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_51/2025/09/29/608054a0e91933433b80e73f2680c8d6.md
2025-09-29 08:23:10 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:624 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.md to knowledge base 51
2025-09-29 08:23:10 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/51/files - Status: 200 - Time: 0.041s
2025-09-29 08:23:10 | INFO     | app.services.text_splitter:create_chunks:255 - Created 44 chunks from text of length 42911
2025-09-29 08:23:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51/files - Client: 172.19.0.1
2025-09-29 08:23:11 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-29 08:23:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51/files - Status: 200 - Time: 0.010s
2025-09-29 08:23:13 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-29 08:23:13 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v1
2025-09-29 08:23:13 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 22 documents
2025-09-29 08:23:13 | INFO     | app.services.vector_store:add_documents:301 - Added 22 documents to collection kb_10527c05
2025-09-29 08:23:13 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.md (chunks=22)
2025-09-29 08:23:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 08:23:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.003s
2025-09-29 08:24:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:24:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-29 08:24:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51/files - Client: 172.19.0.1
2025-09-29 08:24:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:24:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.004s
2025-09-29 08:24:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51/files - Status: 200 - Time: 0.006s
2025-09-29 08:24:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:24:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:24:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:24:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.004s
2025-09-29 08:24:49 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:24:49 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:24:49 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.367s
2025-09-29 08:25:40 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:25:41 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:25:41 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.360s
2025-09-29 08:28:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:28:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.028s
2025-09-29 08:29:14 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:29:14 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:29:14 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.360s
2025-09-29 08:29:56 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:29:56 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:29:56 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.357s
2025-09-29 08:31:53 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:31:54 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:31:54 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.324s
2025-09-29 08:32:08 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-29 08:32:08 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-29 08:32:08 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.335s
2025-09-29 08:37:14 | INFO     | app.main:log_requests:51 - Request started: GET /favicon.ico - Client: 172.19.0.1
2025-09-29 08:37:14 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Not Found
2025-09-29 08:37:14 | INFO     | app.main:log_requests:62 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.003s
2025-09-29 08:38:59 | INFO     | app.main:log_requests:51 - Request started: GET / - Client: 172.19.0.1
2025-09-29 08:38:59 | INFO     | app.main:log_requests:62 - Request completed: GET / - Status: 200 - Time: 0.001s
2025-09-29 08:39:15 | INFO     | app.main:log_requests:51 - Request started: GET / - Client: 172.19.0.1
2025-09-29 08:39:15 | INFO     | app.main:log_requests:62 - Request completed: GET / - Status: 200 - Time: 0.001s
2025-09-29 08:59:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:59:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.039s
2025-09-29 08:59:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.036s
2025-09-29 08:59:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.003s
2025-09-29 08:59:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 08:59:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.009s
2025-09-29 08:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.003s
2025-09-29 08:59:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 08:59:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.012s
2025-09-29 08:59:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-29 08:59:35 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-29 08:59:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-29 08:59:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.004s
2025-09-29 08:59:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.003s
2025-09-29 08:59:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:59:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-29 08:59:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.003s
2025-09-29 08:59:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 08:59:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.009s
2025-09-29 08:59:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 08:59:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.004s
2025-09-29 08:59:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 08:59:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 08:59:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.007s
2025-09-29 08:59:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 08:59:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.003s
2025-09-29 09:09:43 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:11:28 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:11:28 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:11:28 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:11:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 09:11:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.073s
2025-09-29 09:11:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 09:11:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.009s
2025-09-29 09:11:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 09:11:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.015s
2025-09-29 09:12:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-29 09:12:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 09:12:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-29 09:12:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.039s
2025-09-29 09:12:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-29 09:12:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.002s
2025-09-29 09:12:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-29 09:12:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.008s
2025-09-29 09:14:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/165/open-url - Client: 172.19.0.1
2025-09-29 09:14:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/165/open-url - Status: 200 - Time: 0.017s
2025-09-29 09:14:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/files/165/open-url - Client: 172.19.0.1
2025-09-29 09:14:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/files/165/open-url - Status: 200 - Time: 0.004s
2025-09-29 09:15:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/50/files - Client: 172.19.0.1
2025-09-29 09:15:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/50/files - Status: 200 - Time: 0.016s
2025-09-29 09:15:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-29 09:15:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.004s
2025-09-29 09:15:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51/files - Client: 172.19.0.1
2025-09-29 09:15:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51/files - Status: 200 - Time: 0.004s
2025-09-29 09:16:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51 - Client: 172.19.0.1
2025-09-29 09:16:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51 - Status: 200 - Time: 0.004s
2025-09-29 09:45:30 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:45:33 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:45:33 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:45:33 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:45:38 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:45:41 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:45:41 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:45:41 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:45:48 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:45:51 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:45:51 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:45:51 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:46:00 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:46:03 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:46:03 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:46:03 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:46:09 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:46:12 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:46:12 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:46:12 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:46:23 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:46:26 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:46:26 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:46:26 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:46:58 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:47:01 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:47:01 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:47:01 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:47:13 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:47:24 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:47:24 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:47:24 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:47:40 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:47:43 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:47:43 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:47:43 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:48:51 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:48:54 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:48:54 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:48:54 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:48:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:49:03 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:49:03 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:49:03 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:49:15 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:49:18 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:49:18 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:49:18 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:49:55 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:49:59 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:49:59 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:49:59 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:49:59 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:50:04 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:50:04 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:50:04 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:50:20 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:50:23 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:50:23 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:50:23 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 09:50:28 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 09:50:31 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 09:50:31 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 09:50:31 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-29 15:45:37 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-29 15:45:41 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-29 15:45:41 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-29 15:45:41 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 00:51:52 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 00:51:52 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 00:51:52 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 00:54:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/51 - Client: 172.19.0.1
2025-09-30 00:54:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/51 - Status: 200 - Time: 0.071s
2025-09-30 00:54:36 | INFO     | app.main:log_requests:51 - Request started: GET /favicon.ico - Client: 172.19.0.1
2025-09-30 00:54:36 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Not Found
2025-09-30 00:54:36 | INFO     | app.main:log_requests:62 - Request completed: GET /favicon.ico - Status: 404 - Time: 0.002s
2025-09-30 00:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:54:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-30 00:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/51 - Client: 172.19.0.1
2025-09-30 00:54:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/51 - Status: 200 - Time: 0.007s
2025-09-30 00:54:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Client: 172.19.0.1
2025-09-30 00:54:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/77e5fdf8-1ffc-45b7-81ec-4b226ff28be8/messages - Status: 200 - Time: 0.014s
2025-09-30 00:54:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:54:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 00:54:48 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/48 - Client: 172.19.0.1
2025-09-30 00:54:48 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_42ac8306
2025-09-30 00:54:48 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_42ac8306
2025-09-30 00:54:48 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:220 - Deleted knowledge base: 测试 (ID: 48)
2025-09-30 00:54:48 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/48 - Status: 200 - Time: 0.039s
2025-09-30 00:54:51 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/49 - Client: 172.19.0.1
2025-09-30 00:54:51 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_74d9323e
2025-09-30 00:54:51 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_74d9323e
2025-09-30 00:54:51 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:220 - Deleted knowledge base: 测试2 (ID: 49)
2025-09-30 00:54:51 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/49 - Status: 200 - Time: 0.030s
2025-09-30 00:54:54 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/51 - Client: 172.19.0.1
2025-09-30 00:54:54 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_10527c05
2025-09-30 00:54:54 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_10527c05
2025-09-30 00:54:54 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:220 - Deleted knowledge base: 环评名录 (ID: 51)
2025-09-30 00:54:54 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/51 - Status: 200 - Time: 0.037s
2025-09-30 00:54:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases - Client: 172.19.0.1
2025-09-30 00:54:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.001s
2025-09-30 00:54:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:54:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 00:55:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:55:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.002s
2025-09-30 00:55:17 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:55:17 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_70b1b7b6
2025-09-30 00:55:17 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:127 - Created knowledge base: 测试上传文件格式 (ID: 52)
2025-09-30 00:55:17 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.037s
2025-09-30 00:55:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 00:55:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 00:55:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.018s
2025-09-30 00:55:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.021s
2025-09-30 00:55:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 00:55:27 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_52/2025/09/30/cdfc9095d5e487a4c6d62b8aebcc0c1d.md
2025-09-30 00:55:27 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:624 - Uploaded file 生态厅回复.md to knowledge base 52
2025-09-30 00:55:27 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.039s
2025-09-30 00:55:27 | INFO     | app.services.text_splitter:create_chunks:255 - Created 90 chunks from text of length 82915
2025-09-30 00:55:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 00:55:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.003s
2025-09-30 00:55:28 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 00:55:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 00:55:30 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 00:55:31 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 00:55:32 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 5 texts using model text-embedding-v1
2025-09-30 00:55:32 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 45 documents
2025-09-30 00:55:32 | INFO     | app.services.vector_store:add_documents:301 - Added 45 documents to collection kb_70b1b7b6
2025-09-30 00:55:32 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:492 - Successfully processed and vectorized file 生态厅回复.md (chunks=45)
2025-09-30 00:55:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 00:55:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 00:55:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52 - Client: 172.19.0.1
2025-09-30 00:55:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52 - Status: 200 - Time: 0.002s
2025-09-30 01:05:11 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 01:05:14 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 01:05:14 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 01:05:14 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 01:05:51 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 01:05:54 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 01:05:54 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 01:05:54 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 01:06:07 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 01:06:15 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 01:06:15 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 01:06:15 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 01:06:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52 - Client: 172.19.0.1
2025-09-30 01:06:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52 - Status: 200 - Time: 0.056s
2025-09-30 01:06:44 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:06:44 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_428de27d
2025-09-30 01:06:44 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 测试嵌入模型 (ID: 53)
2025-09-30 01:06:44 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.057s
2025-09-30 01:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:06:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.010s
2025-09-30 01:06:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.035s
2025-09-30 01:06:52 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:06:52 | INFO     | app.services.storage:upload_file:106 - File uploaded successfully: kb_53/2025/09/30/608054a0e91933433b80e73f2680c8d6.md
2025-09-30 01:06:52 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:625 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.md to knowledge base 53
2025-09-30 01:06:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.036s
2025-09-30 01:06:52 | INFO     | app.services.text_splitter:create_chunks:255 - Created 22 chunks from text of length 42911
2025-09-30 01:06:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:06:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.003s
2025-09-30 01:06:53 | ERROR    | app.services.bailian_client:create_embeddings:161 - HTTP error on segments batch (0-10): 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Inference error: Range of input length should be [1, 2048]","type":"InvalidParameter"},"id":"ee8b4995-ef07-4c33-8f31-0e06ae503050","request_id":"ee8b4995-ef07-4c33-8f31-0e06ae503050"}
2025-09-30 01:06:54 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:54 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:55 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:55 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:56 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:57 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:57 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:57 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:58 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:59 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:59 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 01:06:59 | ERROR    | app.services.bailian_client:create_embeddings:161 - HTTP error on segments batch (0-1): 400 - {"error":{"code":"InvalidParameter","param":null,"message":"Inference error: Range of input length should be [1, 2048]","type":"InvalidParameter"},"id":"80618720-363e-452a-a61e-110b3d1a3137","request_id":"80618720-363e-452a-a61e-110b3d1a3137"}
2025-09-30 01:06:59 | ERROR    | app.services.bailian_client:create_embeddings:168 - embedding failed on single segment: Client error '400 Bad Request' for url 'https://dashscope.aliyuncs.com/compatible-mode/v1/embeddings'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-09-30 01:06:59 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:06:59 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 11 documents
2025-09-30 01:06:59 | INFO     | app.services.vector_store:add_documents:301 - Added 11 documents to collection kb_428de27d
2025-09-30 01:06:59 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:493 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.md (chunks=11)
2025-09-30 01:07:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases - Client: 172.19.0.1
2025-09-30 01:07:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases - Status: 307 - Time: 0.001s
2025-09-30 01:07:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:07:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.008s
2025-09-30 01:07:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53 - Client: 172.19.0.1
2025-09-30 01:07:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53 - Status: 200 - Time: 0.003s
2025-09-30 01:07:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:07:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.005s
2025-09-30 01:08:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:08:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 01:08:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:08:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:08:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.005s
2025-09-30 01:08:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 01:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 01:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 01:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.016s
2025-09-30 01:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 01:08:26 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.002s
2025-09-30 01:08:26 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.006s
2025-09-30 01:08:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:08:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 01:08:51 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:08:51 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 01:09:46 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:09:46 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:09:46 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.367s
2025-09-30 01:10:51 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:10:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:10:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.367s
2025-09-30 01:11:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:11:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:11:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.348s
2025-09-30 01:12:11 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:12:12 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:12:12 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.328s
2025-09-30 01:23:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:23:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.022s
2025-09-30 01:23:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:23:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.030s
2025-09-30 01:24:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:21 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:23 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:23 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.004s
2025-09-30 01:24:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:24 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:24 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:24 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:25 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.005s
2025-09-30 01:24:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:24:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.004s
2025-09-30 01:24:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/null/messages - Client: 172.19.0.1
2025-09-30 01:24:30 | ERROR    | app.main:http_exception_handler:74 - HTTP error: 404 - Conversation not found
2025-09-30 01:24:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/null/messages - Status: 404 - Time: 0.004s
2025-09-30 01:24:52 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:24:52 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:24:52 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.375s
2025-09-30 01:25:40 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:25:40 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:25:40 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.334s
2025-09-30 01:26:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:26:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 01:26:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:26:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 01:26:00 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 01:26:00 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.010s
2025-09-30 01:26:23 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 01:26:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 01:26:23 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.366s
2025-09-30 01:26:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:26:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 01:26:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:26:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 01:26:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 01:26:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 01:26:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 01:26:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.004s
2025-09-30 01:26:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 01:26:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.008s
2025-09-30 01:51:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:51:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.024s
2025-09-30 01:51:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 01:51:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 01:51:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.026s
2025-09-30 01:51:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.010s
2025-09-30 01:51:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 01:51:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.011s
2025-09-30 01:58:22 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 01:58:26 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 01:58:26 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 01:58:26 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 01:58:28 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 07:01:19 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 07:01:19 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 07:01:19 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 07:01:49 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
2025-09-30 07:01:58 | INFO     | app.main:startup_event:120 - Starting Knowledge Base API v1.0.0
2025-09-30 07:01:58 | INFO     | app.main:startup_event:121 - Debug mode: True
2025-09-30 07:01:58 | INFO     | app.main:startup_event:122 - Database URL: postgres:5432/knowledge_base
2025-09-30 07:02:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:02:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.077s
2025-09-30 07:02:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:02:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.008s
2025-09-30 07:02:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 07:02:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.025s
2025-09-30 07:02:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:02:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 07:02:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:02:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 07:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 07:02:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 07:02:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.007s
2025-09-30 07:02:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:02:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:02:22 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:02:22 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_20dd5aab
2025-09-30 07:02:22 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 测试新方法 (ID: 54)
2025-09-30 07:02:22 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.080s
2025-09-30 07:02:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:02:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:02:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.022s
2025-09-30 07:02:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.026s
2025-09-30 07:02:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:02:23 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:02:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.004s
2025-09-30 07:02:23 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.005s
2025-09-30 07:02:37 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:02:37 | INFO     | app.services.storage:upload_file:108 - File uploaded successfully: kb_54/2025/09/30/dd0879b3aac84e79157212951dc6394d.pdf
2025-09-30 07:02:37 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:625 - Uploaded file 环评名录测试问答对.pdf to knowledge base 54
2025-09-30 07:02:37 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.037s
2025-09-30 07:02:38 | INFO     | app.services.text_splitter:create_chunks:262 - Created 34 chunks from text of length 32588
2025-09-30 07:02:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:02:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.003s
2025-09-30 07:02:39 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 07:02:40 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 7 texts using model text-embedding-v1
2025-09-30 07:02:40 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 17 documents
2025-09-30 07:02:40 | INFO     | app.services.vector_store:add_documents:301 - Added 17 documents to collection kb_20dd5aab
2025-09-30 07:02:40 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:493 - Successfully processed and vectorized file 环评名录测试问答对.pdf (chunks=17)
2025-09-30 07:02:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:02:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:02:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.005s
2025-09-30 07:02:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.004s
2025-09-30 07:03:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:03:18 | INFO     | app.services.storage:upload_file:108 - File uploaded successfully: kb_54/2025/09/30/8fa979fad0e97be458cd9b1c056e11ec.pdf
2025-09-30 07:03:18 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:625 - Uploaded file 建设项目环境影响评价分类管理名录(2021年版）.pdf to knowledge base 54
2025-09-30 07:03:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.063s
2025-09-30 07:03:19 | INFO     | app.services.text_splitter:create_chunks:262 - Created 23 chunks from text of length 21821
2025-09-30 07:03:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:03:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.004s
2025-09-30 07:03:20 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 10 texts using model text-embedding-v1
2025-09-30 07:03:21 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 2 texts using model text-embedding-v1
2025-09-30 07:03:21 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 12 documents
2025-09-30 07:03:21 | INFO     | app.services.vector_store:add_documents:301 - Added 12 documents to collection kb_20dd5aab
2025-09-30 07:03:21 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:493 - Successfully processed and vectorized file 建设项目环境影响评价分类管理名录(2021年版）.pdf (chunks=12)
2025-09-30 07:04:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:04:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:04:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:04:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:04:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:04:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.006s
2025-09-30 07:04:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:04:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:04:58 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:04:58 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:05:29 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:05:29 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:05:29 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.462s
2025-09-30 07:06:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:06:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:06:09 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:06:09 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:26:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:26:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.028s
2025-09-30 07:26:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 07:26:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:26:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.016s
2025-09-30 07:26:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.024s
2025-09-30 07:26:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:26:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:26:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:26:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.006s
2025-09-30 07:26:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:26:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:26:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:26:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:26:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:26:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:27:53 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:27:53 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:27:53 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.374s
2025-09-30 07:28:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:28:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:28:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:28:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:28:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:28:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.007s
2025-09-30 07:28:55 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:28:55 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:28:55 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.305s
2025-09-30 07:29:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:29:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:29:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:29:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:29:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:29:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:40:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:40:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.026s
2025-09-30 07:40:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:40:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.028s
2025-09-30 07:40:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:40:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.008s
2025-09-30 07:40:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:40:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 07:40:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:40:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 07:40:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 07:40:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.009s
2025-09-30 07:40:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 07:40:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.009s
2025-09-30 07:40:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 07:40:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 07:40:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 07:40:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 07:40:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 07:40:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.008s
2025-09-30 07:40:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 07:40:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.005s
2025-09-30 07:40:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:40:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.004s
2025-09-30 07:40:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:40:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:40:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:40:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:40:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:40:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.008s
2025-09-30 07:40:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:40:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:40:59 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:40:59 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_239ded4e
2025-09-30 07:40:59 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 第一次对话渲染 (ID: 55)
2025-09-30 07:40:59 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-30 07:40:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/55/files - Client: 172.19.0.1
2025-09-30 07:40:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:40:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.003s
2025-09-30 07:40:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/55/files - Status: 200 - Time: 0.007s
2025-09-30 07:41:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:41:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-30 07:41:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:41:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.003s
2025-09-30 07:41:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:41:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:41:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:41:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.003s
2025-09-30 07:41:18 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:41:18 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:41:18 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.375s
2025-09-30 07:43:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:43:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.004s
2025-09-30 07:43:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Client: 172.19.0.1
2025-09-30 07:43:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Status: 200 - Time: 0.004s
2025-09-30 07:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.028s
2025-09-30 07:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.022s
2025-09-30 07:47:10 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Client: 172.19.0.1
2025-09-30 07:47:10 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Status: 200 - Time: 0.004s
2025-09-30 07:47:12 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Client: 172.19.0.1
2025-09-30 07:47:12 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/d81138b4-cb1b-4a73-84dc-a61477408c92/messages - Status: 200 - Time: 0.004s
2025-09-30 07:47:13 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:47:13 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.003s
2025-09-30 07:47:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:47:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.009s
2025-09-30 07:47:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/55 - Client: 172.19.0.1
2025-09-30 07:47:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/55/files - Client: 172.19.0.1
2025-09-30 07:47:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/55 - Status: 200 - Time: 0.004s
2025-09-30 07:47:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/55/files - Status: 200 - Time: 0.004s
2025-09-30 07:47:18 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/55 - Client: 172.19.0.1
2025-09-30 07:47:18 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_239ded4e
2025-09-30 07:47:18 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_239ded4e
2025-09-30 07:47:18 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:221 - Deleted knowledge base: 第一次对话渲染 (ID: 55)
2025-09-30 07:47:18 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/55 - Status: 200 - Time: 0.021s
2025-09-30 07:47:27 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:47:27 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_2f5444b2
2025-09-30 07:47:27 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 第一次对话 (ID: 56)
2025-09-30 07:47:27 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.036s
2025-09-30 07:47:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/56/files - Client: 172.19.0.1
2025-09-30 07:47:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/56 - Client: 172.19.0.1
2025-09-30 07:47:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/56 - Status: 200 - Time: 0.002s
2025-09-30 07:47:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/56/files - Status: 200 - Time: 0.004s
2025-09-30 07:47:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:47:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:47:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/56 - Client: 172.19.0.1
2025-09-30 07:47:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/56 - Status: 200 - Time: 0.003s
2025-09-30 07:47:38 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:47:38 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:47:38 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.349s
2025-09-30 07:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/56 - Client: 172.19.0.1
2025-09-30 07:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/56 - Status: 200 - Time: 0.005s
2025-09-30 07:48:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/b48916d5-4554-4704-9082-3ca207ca5b38/messages - Client: 172.19.0.1
2025-09-30 07:48:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/b48916d5-4554-4704-9082-3ca207ca5b38/messages - Status: 200 - Time: 0.004s
2025-09-30 07:48:45 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:48:45 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:48:47 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/56 - Client: 172.19.0.1
2025-09-30 07:48:47 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_2f5444b2
2025-09-30 07:48:47 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_2f5444b2
2025-09-30 07:48:47 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:221 - Deleted knowledge base: 第一次对话 (ID: 56)
2025-09-30 07:48:47 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/56 - Status: 200 - Time: 0.024s
2025-09-30 07:48:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:48:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:48:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:48:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:48:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:48:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.008s
2025-09-30 07:55:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:55:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.023s
2025-09-30 07:55:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.021s
2025-09-30 07:55:04 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:04 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.007s
2025-09-30 07:55:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:55:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:55:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.005s
2025-09-30 07:55:06 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:06 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.008s
2025-09-30 07:55:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.005s
2025-09-30 07:55:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:55:14 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:14 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.002s
2025-09-30 07:55:15 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:15 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.005s
2025-09-30 07:55:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:55:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:55:17 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:17 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:55:18 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:55:18 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:55:19 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:55:19 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:55:23 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 07:55:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 07:55:23 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.344s
2025-09-30 07:57:20 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:57:20 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:57:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:57:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-30 07:57:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:57:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:57:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:57:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.006s
2025-09-30 07:57:22 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:57:22 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.006s
2025-09-30 07:57:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 07:57:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 07:57:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 07:57:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 07:57:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 07:57:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.006s
2025-09-30 07:57:25 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Client: 172.19.0.1
2025-09-30 07:57:25 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/cd00ae14-037a-4ba2-961d-7106828e3711/messages - Status: 200 - Time: 0.006s
2025-09-30 07:57:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:57:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:57:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:57:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:57:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:57:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.007s
2025-09-30 07:57:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 07:57:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:57:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.002s
2025-09-30 07:57:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.005s
2025-09-30 07:57:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 07:57:32 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 07:57:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.002s
2025-09-30 07:57:32 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.017s
2025-09-30 07:57:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:57:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:57:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:57:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:57:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:57:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:57:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:57:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.005s
2025-09-30 07:58:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:58:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.005s
2025-09-30 07:58:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:58:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:58:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:58:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 07:58:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:58:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:58:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:58:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:58:53 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:58:53 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.005s
2025-09-30 07:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:59:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.006s
2025-09-30 07:59:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Client: 172.19.0.1
2025-09-30 07:59:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/664142f0-be43-4e67-aef4-29ff999cb707/messages - Status: 200 - Time: 0.005s
2025-09-30 07:59:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:34 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:34 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.005s
2025-09-30 07:59:35 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:35 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:59:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.005s
2025-09-30 07:59:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:59:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.004s
2025-09-30 07:59:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.007s
2025-09-30 07:59:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.005s
2025-09-30 07:59:44 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:44 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:59:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:46 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:46 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:47 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:47 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:48 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:48 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:49 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:49 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.003s
2025-09-30 07:59:50 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Client: 172.19.0.1
2025-09-30 07:59:50 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/e4a9611f-71af-476c-816f-4bd40fbbd184/messages - Status: 200 - Time: 0.004s
2025-09-30 07:59:55 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 07:59:55 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 07:59:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/54 - Client: 172.19.0.1
2025-09-30 07:59:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/54/files - Client: 172.19.0.1
2025-09-30 07:59:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/54 - Status: 200 - Time: 0.004s
2025-09-30 07:59:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/54/files - Status: 200 - Time: 0.005s
2025-09-30 07:59:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 07:59:57 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 07:59:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 07:59:57 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.007s
2025-09-30 08:00:00 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/54 - Client: 172.19.0.1
2025-09-30 08:00:00 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_20dd5aab
2025-09-30 08:00:00 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_20dd5aab
2025-09-30 08:00:00 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:221 - Deleted knowledge base: 测试新方法 (ID: 54)
2025-09-30 08:00:00 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/54 - Status: 200 - Time: 0.028s
2025-09-30 08:00:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:00:02 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:00:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 08:00:02 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.006s
2025-09-30 08:00:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 08:00:03 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 08:00:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 08:00:03 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.007s
2025-09-30 08:00:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:00:05 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:00:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.034s
2025-09-30 08:00:05 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.037s
2025-09-30 08:00:23 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:00:23 | INFO     | app.services.storage:upload_file:108 - File uploaded successfully: kb_53/2025/09/30/df3409fb9aad05253f033a4218fb3f69.pdf
2025-09-30 08:00:23 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:625 - Uploaded file 环评名录查询使用教程.pdf to knowledge base 53
2025-09-30 08:00:23 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.040s
2025-09-30 08:00:23 | INFO     | app.services.text_splitter:create_chunks:262 - Created 1 chunks from text of length 254
2025-09-30 08:00:23 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 08:00:23 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 1 documents
2025-09-30 08:00:23 | INFO     | app.services.vector_store:add_documents:301 - Added 1 documents to collection kb_428de27d
2025-09-30 08:00:23 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:493 - Successfully processed and vectorized file 环评名录查询使用教程.pdf (chunks=1)
2025-09-30 08:00:24 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:00:24 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.003s
2025-09-30 08:03:15 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:03:15 | INFO     | app.services.storage:upload_file:108 - File uploaded successfully: kb_53/2025/09/30/df3409fb9aad05253f033a4218fb3f69.pdf
2025-09-30 08:03:15 | INFO     | app.api.v1.endpoints.knowledge_bases:upload_file:625 - Uploaded file 环评名录查询使用教程.pdf to knowledge base 53
2025-09-30 08:03:15 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.042s
2025-09-30 08:03:15 | INFO     | app.services.text_splitter:create_chunks:262 - Created 1 chunks from text of length 254
2025-09-30 08:03:15 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 08:03:15 | INFO     | app.services.vector_store:add_documents:300 - Added batch 1: 1 documents
2025-09-30 08:03:15 | INFO     | app.services.vector_store:add_documents:301 - Added 1 documents to collection kb_428de27d
2025-09-30 08:03:15 | INFO     | app.api.v1.endpoints.knowledge_bases:process_uploaded_file:493 - Successfully processed and vectorized file 环评名录查询使用教程.pdf (chunks=1)
2025-09-30 08:03:16 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:03:16 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.004s
2025-09-30 08:08:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:08:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.023s
2025-09-30 08:08:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:08:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.023s
2025-09-30 08:08:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 08:08:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.007s
2025-09-30 08:08:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:08:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.006s
2025-09-30 08:11:59 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:11:59 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_548fdf23
2025-09-30 08:11:59 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 1 (ID: 57)
2025-09-30 08:11:59 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.040s
2025-09-30 08:11:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/57/files - Client: 172.19.0.1
2025-09-30 08:11:59 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/57 - Client: 172.19.0.1
2025-09-30 08:11:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/57 - Status: 200 - Time: 0.003s
2025-09-30 08:11:59 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/57/files - Status: 200 - Time: 0.005s
2025-09-30 08:12:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:12:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-30 08:12:01 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/57 - Client: 172.19.0.1
2025-09-30 08:12:01 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/57 - Status: 200 - Time: 0.003s
2025-09-30 08:12:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:12:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:12:11 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/57 - Client: 172.19.0.1
2025-09-30 08:12:11 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/57 - Status: 200 - Time: 0.004s
2025-09-30 08:12:17 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/chat/ask - Client: 172.19.0.1
2025-09-30 08:12:17 | INFO     | app.services.bailian_client:create_embeddings:192 - Created embeddings for 1 texts using model text-embedding-v1
2025-09-30 08:12:17 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/chat/ask - Status: 200 - Time: 0.349s
2025-09-30 08:12:21 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:12:21 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:12:25 | INFO     | app.main:log_requests:51 - Request started: DELETE /api/v1/knowledge-bases/57 - Client: 172.19.0.1
2025-09-30 08:12:25 | INFO     | app.services.vector_store:delete_collection:204 - Deleted Chroma collection: kb_548fdf23
2025-09-30 08:12:25 | INFO     | app.services.vector_store:delete_knowledge_base_collection:391 - Deleted Chroma collection (if exists): kb_548fdf23
2025-09-30 08:12:25 | INFO     | app.api.v1.endpoints.knowledge_bases:delete_knowledge_base:221 - Deleted knowledge base: 1 (ID: 57)
2025-09-30 08:12:25 | INFO     | app.main:log_requests:62 - Request completed: DELETE /api/v1/knowledge-bases/57 - Status: 200 - Time: 0.031s
2025-09-30 08:12:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:12:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:18:27 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:27 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.029s
2025-09-30 08:18:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.029s
2025-09-30 08:18:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:18:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 08:18:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 08:18:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.011s
2025-09-30 08:18:28 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:28 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:18:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 08:18:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:18:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 08:18:29 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 08:18:29 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.011s
2025-09-30 08:18:30 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:30 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.005s
2025-09-30 08:18:31 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:31 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:18:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.003s
2025-09-30 08:18:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:18:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.004s
2025-09-30 08:18:33 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Client: 172.19.0.1
2025-09-30 08:18:33 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/2bca52e5-22c5-4c28-a37e-88a951cab4ca/messages - Status: 200 - Time: 0.008s
2025-09-30 08:18:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.004s
2025-09-30 08:18:43 | INFO     | app.main:log_requests:51 - Request started: POST /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:18:43 | INFO     | app.services.vector_store:create_knowledge_base_collection:385 - Ensured Chroma collection exists: kb_51702f68
2025-09-30 08:18:43 | INFO     | app.api.v1.endpoints.knowledge_bases:create_knowledge_base:128 - Created knowledge base: 1 (ID: 58)
2025-09-30 08:18:43 | INFO     | app.main:log_requests:62 - Request completed: POST /api/v1/knowledge-bases/ - Status: 200 - Time: 0.043s
2025-09-30 08:18:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58 - Client: 172.19.0.1
2025-09-30 08:18:43 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/58/files - Client: 172.19.0.1
2025-09-30 08:18:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58 - Status: 200 - Time: 0.005s
2025-09-30 08:18:43 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/58/files - Status: 200 - Time: 0.006s
2025-09-30 08:19:28 | INFO     | app.main:log_requests:51 - Request started: PUT /api/v1/knowledge-bases/58 - Client: 172.19.0.1
2025-09-30 08:19:28 | INFO     | app.api.v1.endpoints.knowledge_bases:update_knowledge_base:184 - Updated knowledge base: 1 (ID: 58)
2025-09-30 08:19:28 | INFO     | app.main:log_requests:62 - Request completed: PUT /api/v1/knowledge-bases/58 - Status: 200 - Time: 0.008s
2025-09-30 08:24:36 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/ - Client: 172.19.0.1
2025-09-30 08:24:36 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/ - Status: 200 - Time: 0.028s
2025-09-30 08:24:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/58/files - Client: 172.19.0.1
2025-09-30 08:24:37 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58 - Client: 172.19.0.1
2025-09-30 08:24:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58 - Status: 200 - Time: 0.016s
2025-09-30 08:24:37 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/58/files - Status: 200 - Time: 0.027s
2025-09-30 08:24:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:24:38 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:24:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 08:24:38 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.006s
2025-09-30 08:24:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/52/files - Client: 172.19.0.1
2025-09-30 08:24:39 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/52 - Client: 172.19.0.1
2025-09-30 08:24:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/52 - Status: 200 - Time: 0.003s
2025-09-30 08:24:39 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/52/files - Status: 200 - Time: 0.007s
2025-09-30 08:24:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:24:40 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:24:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 08:24:40 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.006s
2025-09-30 08:24:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/58/files - Client: 172.19.0.1
2025-09-30 08:24:41 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58 - Client: 172.19.0.1
2025-09-30 08:24:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/58/files - Status: 200 - Time: 0.005s
2025-09-30 08:24:41 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58 - Status: 200 - Time: 0.004s
2025-09-30 08:24:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/53/files - Client: 172.19.0.1
2025-09-30 08:24:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/53 - Client: 172.19.0.1
2025-09-30 08:24:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/53 - Status: 200 - Time: 0.003s
2025-09-30 08:24:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/53/files - Status: 200 - Time: 0.006s
2025-09-30 08:24:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/knowledge-bases/58/files - Client: 172.19.0.1
2025-09-30 08:24:42 | INFO     | app.main:log_requests:51 - Request started: GET /api/v1/chat/conversations/58 - Client: 172.19.0.1
2025-09-30 08:24:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/knowledge-bases/58/files - Status: 200 - Time: 0.004s
2025-09-30 08:24:42 | INFO     | app.main:log_requests:62 - Request completed: GET /api/v1/chat/conversations/58 - Status: 200 - Time: 0.003s
2025-09-30 08:27:08 | INFO     | app.main:shutdown_event:127 - Shutting down Knowledge Base API
